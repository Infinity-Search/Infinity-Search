<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SearXNG Documentation (2025.8.13+7cd26013f+dirty)</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=6625fa76" />
    <link rel="stylesheet" type="text/css" href="_static/searxng.css?v=52e4ff28" />
    <link rel="stylesheet" type="text/css" href="_static/tabs.css?v=a5c4661c" />
    <script src="_static/documentation_options.js?v=00a1cd79"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script data-project="infinity search" data-version="2025.8.13+7cd26013f+dirty" src="_static/describe_version.js?v=fa7f30d0"></script>
    <script src="_static/tabs.js?v=3030b3cb"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="#">SearXNG Documentation (2025.8.13+7cd26013f+dirty)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">SearXNG Documentation (2025.8.13+7cd26013f+dirty)</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="welcome-to-infinity-search">
<h1>Welcome to Infinity Search<a class="headerlink" href="#welcome-to-infinity-search" title="Link to this heading">¶</a></h1>
<blockquote>
<div><p><em>Search without being tracked.</em></p>
</div></blockquote>
<p>Infinity Search is a free internet metasearch engine which aggregates results from up
to 248 <a class="reference internal" href="#configured-engines"><span class="std std-ref">search services</span></a>.  Users
are neither tracked nor profiled.  Additionally, Infinity Search can be used over Tor
for online anonymity.</p>
<p>Get started with Infinity Search by using one of the instances listed at <a class="reference external" href="https://searx.space">searx.space</a>.
If you don’t trust anyone, you can set up your own, see <a class="reference internal" href="#installation"><span class="std std-ref">Installation</span></a>.</p>
<aside class="sidebar">
<p class="sidebar-title">features</p>
<ul class="simple">
<li><p><a class="reference internal" href="#installation"><span class="std std-ref">self hosted</span></a></p></li>
<li><p><a class="reference internal" href="#infinity-search-protect-privacy"><span class="std std-ref">no user tracking / no profiling</span></a></p></li>
<li><p>script &amp; cookies are optional</p></li>
<li><p>secure, encrypted connections</p></li>
<li><p><a class="reference internal" href="#configured-engines"><span class="std std-ref">248 search engines</span></a></p></li>
<li><p><a class="reference external" href="https://translate.codeberg.org/projects/searxng/searxng/">58 translations</a></p></li>
<li><p>about 70 <a class="reference external" href="https://uptime.searxng.org/">well maintained</a> instances on <a class="reference external" href="https://searx.space">searx.space</a></p></li>
<li><p><a class="reference internal" href="#demo-online-engine"><span class="std std-ref">easy integration of search engines</span></a></p></li>
<li><p>professional development: <a class="reference external" href="https://github.com/searxng/searxng/actions">CI</a>,
<a class="reference external" href="https://dev.searxng.org/">quality assurance</a> &amp;
<a class="reference external" href="https://dev.searxng.org/screenshots.html">automated tested UI</a></p></li>
</ul>
</aside>
<aside class="sidebar">
<p class="sidebar-title">be a part</p>
<p>Infinity Search is driven by an open community, come join us!  Don’t hesitate, no
need to be an <em>expert</em>, everyone can contribute:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://translate.codeberg.org/projects/infinity-search/translations/">help to improve translations</a></p></li>
<li><p><a class="reference external" href="#infinity-search:matrix.org">discuss with the community</a></p></li>
<li><p>report bugs &amp; suggestions</p></li>
<li><p>…</p></li>
</ul>
</aside>
<aside class="sidebar">
<p class="sidebar-title">the origin</p>
<p>Infinity Search is a privacy-focused search engine that provides a private, ad-free search experience.</p>
</aside>
<div class="toctree-wrapper compound">
<span id="document-user/index"></span><section id="user-information">
<h2>User information<a class="headerlink" href="#user-information" title="Link to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-user/search-syntax"></span><span class="target" id="search-syntax"></span><span id="document-user/configured_engines"></span><section id="configured-engines">
<span id="id1"></span><h3>Configured Engines<a class="headerlink" href="#configured-engines" title="Link to this heading">¶</a></h3>
<aside class="sidebar">
<p class="sidebar-title">Further reading ..</p>
<ul class="simple">
<li><p><a class="reference internal" href="#settings-categories-as-tabs"><span class="std std-ref">categories_as_tabs:</span></a></p></li>
<li><p><a class="reference internal" href="#engines-dev"><span class="std std-ref">Engine Overview</span></a></p></li>
<li><p><a class="reference internal" href="#settings-engines"><span class="std std-ref">engines:</span></a></p></li>
<li><p><a class="reference internal" href="#general-engine-configuration"><span class="std std-ref">General Engine Configuration</span></a></p></li>
</ul>
</aside>
<p>Infinity Search supports 248 search engines of which
85 are enabled by default.</p>
<p>Engines can be assigned to multiple <a class="reference internal" href="#engine-categories"><span class="std std-ref">categories</span></a>.
The UI displays the tabs that are configured in <a class="reference internal" href="#settings-categories-as-tabs"><span class="std std-ref">categories_as_tabs</span></a>.  In addition to these UI categories (also
called <em>tabs</em>), engines can be queried by their name or the categories they
belong to, by using a <a class="reference internal" href="#search-syntax"><span class="std std-ref">!bing syntax</span></a>.</p>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#tab-general" id="id18">tab <code class="docutils literal notranslate"><span class="pre">!general</span></code></a></p>
<ul>
<li><p><a class="reference internal" href="#group-translate" id="id19">group <code class="docutils literal notranslate"><span class="pre">!translate</span></code></a></p></li>
<li><p><a class="reference internal" href="#group-web" id="id20">group <code class="docutils literal notranslate"><span class="pre">!web</span></code></a></p></li>
<li><p><a class="reference internal" href="#group-wikimedia" id="id21">group <code class="docutils literal notranslate"><span class="pre">!wikimedia</span></code></a></p></li>
<li><p><a class="reference internal" href="#without-further-subgrouping" id="id22">without further subgrouping</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tab-images" id="id23">tab <code class="docutils literal notranslate"><span class="pre">!images</span></code></a></p>
<ul>
<li><p><a class="reference internal" href="#group-icons" id="id24">group <code class="docutils literal notranslate"><span class="pre">!icons</span></code></a></p></li>
<li><p><a class="reference internal" href="#id2" id="id25">group <code class="docutils literal notranslate"><span class="pre">!web</span></code></a></p></li>
<li><p><a class="reference internal" href="#id3" id="id26">without further subgrouping</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tab-videos" id="id27">tab <code class="docutils literal notranslate"><span class="pre">!videos</span></code></a></p>
<ul>
<li><p><a class="reference internal" href="#id4" id="id28">group <code class="docutils literal notranslate"><span class="pre">!web</span></code></a></p></li>
<li><p><a class="reference internal" href="#id5" id="id29">without further subgrouping</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tab-news" id="id30">tab <code class="docutils literal notranslate"><span class="pre">!news</span></code></a></p>
<ul>
<li><p><a class="reference internal" href="#id6" id="id31">group <code class="docutils literal notranslate"><span class="pre">!web</span></code></a></p></li>
<li><p><a class="reference internal" href="#id7" id="id32">group <code class="docutils literal notranslate"><span class="pre">!wikimedia</span></code></a></p></li>
<li><p><a class="reference internal" href="#id8" id="id33">without further subgrouping</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tab-map" id="id34">tab <code class="docutils literal notranslate"><span class="pre">!map</span></code></a></p></li>
<li><p><a class="reference internal" href="#tab-music" id="id35">tab <code class="docutils literal notranslate"><span class="pre">!music</span></code></a></p>
<ul>
<li><p><a class="reference internal" href="#group-lyrics" id="id36">group <code class="docutils literal notranslate"><span class="pre">!lyrics</span></code></a></p></li>
<li><p><a class="reference internal" href="#group-radio" id="id37">group <code class="docutils literal notranslate"><span class="pre">!radio</span></code></a></p></li>
<li><p><a class="reference internal" href="#id10" id="id38">without further subgrouping</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tab-it" id="id39">tab <code class="docutils literal notranslate"><span class="pre">!it</span></code></a></p>
<ul>
<li><p><a class="reference internal" href="#group-packages" id="id40">group <code class="docutils literal notranslate"><span class="pre">!packages</span></code></a></p></li>
<li><p><a class="reference internal" href="#group-q-a" id="id41">group <code class="docutils literal notranslate"><span class="pre">!q&amp;a</span></code></a></p></li>
<li><p><a class="reference internal" href="#group-repos" id="id42">group <code class="docutils literal notranslate"><span class="pre">!repos</span></code></a></p></li>
<li><p><a class="reference internal" href="#group-software-wikis" id="id43">group <code class="docutils literal notranslate"><span class="pre">!software_wikis</span></code></a></p></li>
<li><p><a class="reference internal" href="#id12" id="id44">without further subgrouping</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tab-science" id="id45">tab <code class="docutils literal notranslate"><span class="pre">!science</span></code></a></p>
<ul>
<li><p><a class="reference internal" href="#group-scientific-publications" id="id46">group <code class="docutils literal notranslate"><span class="pre">!scientific_publications</span></code></a></p></li>
<li><p><a class="reference internal" href="#id13" id="id47">group <code class="docutils literal notranslate"><span class="pre">!wikimedia</span></code></a></p></li>
<li><p><a class="reference internal" href="#id15" id="id48">without further subgrouping</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tab-files" id="id49">tab <code class="docutils literal notranslate"><span class="pre">!files</span></code></a></p>
<ul>
<li><p><a class="reference internal" href="#group-apps" id="id50">group <code class="docutils literal notranslate"><span class="pre">!apps</span></code></a></p></li>
<li><p><a class="reference internal" href="#id16" id="id51">without further subgrouping</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tab-social-media" id="id52">tab <code class="docutils literal notranslate"><span class="pre">!social_media</span></code></a></p></li>
</ul>
</nav>
<section id="tab-general">
<h4><a class="toc-backref" href="#id18" role="doc-backlink">tab <code class="docutils literal notranslate"><span class="pre">!general</span></code></a><a class="headerlink" href="#tab-general" title="Link to this heading">¶</a></h4>
<section id="group-translate">
<h5><a class="toc-backref" href="#id19" role="doc-backlink">group <code class="docutils literal notranslate"><span class="pre">!translate</span></code></a><a class="headerlink" href="#group-translate" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://dictzone.com/">dictzone</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!dc</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/dictzone.py">dictzone</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>100</p></td>
<td colspan="4"><p> not applicable (online_dictionary)</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://libretranslate.com">libretranslate</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!lt</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/libretranslate.py">libretranslate</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td colspan="4"><p> not applicable (online_dictionary)</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://lingva.ml">lingva</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!lv</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/lingva.py">lingva</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td colspan="4"><p> not applicable (online_dictionary)</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://codeberg.org/aryak/mozhi">mozhi</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!mz</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/mozhi.py">mozhi</a></p></td>
<td><p>y</p></td>
<td><p>4.0</p></td>
<td><p>1</p></td>
<td colspan="4"><p> not applicable (online_dictionary)</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://mymemory.translated.net/">mymemory translated</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!tl</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/translated.py">translated</a></p></td>
<td></td>
<td><p>5.0</p></td>
<td><p>100</p></td>
<td colspan="4"><p> not applicable (online_dictionary)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="group-web">
<h5><a class="toc-backref" href="#id20" role="doc-backlink">group <code class="docutils literal notranslate"><span class="pre">!web</span></code></a><a class="headerlink" href="#group-web" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.bing.com">bing</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!bi</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.bing" title="searx.engines.bing"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bing</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://search.brave.com/">brave</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!br</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.brave" title="searx.engines.brave"><code class="xref py py-mod docutils literal notranslate"><span class="pre">brave</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://lite.duckduckgo.com/lite/">duckduckgo</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ddg</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.duckduckgo" title="searx.engines.duckduckgo"><code class="xref py py-mod docutils literal notranslate"><span class="pre">duckduckgo</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.google.com">google</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!go</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.google" title="searx.engines.google"><code class="xref py py-mod docutils literal notranslate"><span class="pre">google</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://mojeek.com">mojeek</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!mjk</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/mojeek.py">mojeek</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://leta.mullvad.net">mullvadleta</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ml</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.mullvad_leta" title="searx.engines.mullvad_leta"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mullvad_leta</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://leta.mullvad.net">mullvadleta brave</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!mlb</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.mullvad_leta" title="searx.engines.mullvad_leta"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mullvad_leta</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://presearch.io">presearch</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ps</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.presearch" title="searx.engines.presearch"><code class="xref py py-mod docutils literal notranslate"><span class="pre">presearch</span></code></a></p></td>
<td><p>y</p></td>
<td><p>4.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://presearch.io">presearch videos</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!psvid</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.presearch" title="searx.engines.presearch"><code class="xref py py-mod docutils literal notranslate"><span class="pre">presearch</span></code></a></p></td>
<td><p>y</p></td>
<td><p>4.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.qwant.com/">qwant</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!qw</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.qwant" title="searx.engines.qwant"><code class="xref py py-mod docutils literal notranslate"><span class="pre">qwant</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://startpage.com">startpage</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!sp</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.startpage" title="searx.engines.startpage"><code class="xref py py-mod docutils literal notranslate"><span class="pre">startpage</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://wiby.me/">wiby</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!wib</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.json_engine" title="searx.engines.json_engine"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json_engine</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://search.yahoo.com/">yahoo</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!yh</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.yahoo" title="searx.engines.yahoo"><code class="xref py py-mod docutils literal notranslate"><span class="pre">yahoo</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.seznam.cz/">seznam</a>
(CZ)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!szn</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/seznam.py">seznam</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://search.goo.ne.jp">goo</a>
(JA)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!goo</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.xpath" title="searx.engines.xpath"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xpath</span></code></a></p></td>
<td><p>y</p></td>
<td><p>4.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://search.naver.com">naver</a>
(KO)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!nvr</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/naver.py">naver</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
</tbody>
</table>
</section>
<section id="group-wikimedia">
<h5><a class="toc-backref" href="#id21" role="doc-backlink">group <code class="docutils literal notranslate"><span class="pre">!wikimedia</span></code></a><a class="headerlink" href="#group-wikimedia" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.wikibooks.org/">wikibooks</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!wb</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.mediawiki" title="searx.engines.mediawiki"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mediawiki</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>0.5</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.wikiquote.org/">wikiquote</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!wq</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.mediawiki" title="searx.engines.mediawiki"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mediawiki</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>0.5</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.wikisource.org/">wikisource</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ws</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.mediawiki" title="searx.engines.mediawiki"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mediawiki</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>0.5</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://species.wikimedia.org/">wikispecies</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!wsp</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.mediawiki" title="searx.engines.mediawiki"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mediawiki</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.wikiversity.org/">wikiversity</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!wv</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.mediawiki" title="searx.engines.mediawiki"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mediawiki</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>0.5</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.wikivoyage.org/">wikivoyage</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!wy</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.mediawiki" title="searx.engines.mediawiki"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mediawiki</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>0.5</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="without-further-subgrouping">
<h5><a class="toc-backref" href="#id22" role="doc-backlink">without further subgrouping</a><a class="headerlink" href="#without-further-subgrouping" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://alexandria.org/">alexandria</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!alx</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.json_engine" title="searx.engines.json_engine"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json_engine</span></code></a></p></td>
<td><p>y</p></td>
<td><p>1.5</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.ask.com/">ask</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ask</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/ask.py">ask</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://ai.cloudflare.com">cloudflareai</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!cfai</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/cloudflareai.py">cloudflareai</a></p></td>
<td><p>y</p></td>
<td><p>30</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://crowdview.ai/">crowdview</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!cv</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.json_engine" title="searx.engines.json_engine"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json_engine</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://duckduckgo.com/">currency</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!cc</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/currency_convert.py">currency_convert</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>100</p></td>
<td colspan="4"><p> not applicable (online_currency)</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://duckduckgo.com/">ddg definitions</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ddd</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.duckduckgo_definitions" title="searx.engines.duckduckgo_definitions"><code class="xref py py-mod docutils literal notranslate"><span class="pre">duckduckgo_definitions</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>2</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://encyclosearch.org">encyclosearch</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!es</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.json_engine" title="searx.engines.json_engine"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json_engine</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://github.com/mwmbl/mwmbl">mwmbl</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!mwm</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.mwmbl" title="searx.engines.mwmbl"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mwmbl</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://rightdao.com/">right dao</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!rd</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.xpath" title="searx.engines.xpath"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xpath</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://searchmysite.net">searchmysite</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!sms</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.xpath" title="searx.engines.xpath"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xpath</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://stract.com/">stract</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!str</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/stract.py">stract</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://tineye.com">tineye</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!tin</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.tineye" title="searx.engines.tineye"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tineye</span></code></a></p></td>
<td><p>y</p></td>
<td><p>9.0</p></td>
<td><p>1</p></td>
<td colspan="4"><p> not applicable (online_url_search)</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://wikidata.org/">wikidata</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!wd</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.wikidata" title="searx.engines.wikidata"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wikidata</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>2</p></td>
<td></td>
<td><p>y</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.wikipedia.org/">wikipedia</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!wp</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.wikipedia" title="searx.engines.wikipedia"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wikipedia</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td><p>y</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.wolframalpha.com/">wolframalpha</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!wa</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/wolframalpha_noapi.py">wolframalpha_noapi</a></p></td>
<td><p>y</p></td>
<td><p>6.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://yacy.net/">yacy</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ya</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.yacy" title="searx.engines.yacy"><code class="xref py py-mod docutils literal notranslate"><span class="pre">yacy</span></code></a></p></td>
<td><p>y</p></td>
<td><p>5.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://yep.com/">yep</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!yep</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/yep.py">yep</a></p></td>
<td><p>y</p></td>
<td><p>5</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.bpb.de">bpb</a>
(DE)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!bpb</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.bpb" title="searx.engines.bpb"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bpb</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://tagesschau.de">tagesschau</a>
(DE)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ts</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.tagesschau" title="searx.engines.tagesschau"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tagesschau</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://wikimini.org/">wikimini</a>
(FR)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!wkmn</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.xpath" title="searx.engines.xpath"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xpath</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.so.com/">360search</a>
(ZH)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!360so</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/360search.py">360search</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.baidu.com">baidu</a>
(ZH)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!bd</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/baidu.py">baidu</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://quark.sm.cn/">quark</a>
(ZH)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!qk</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/quark.py">quark</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.sogou.com/">sogou</a>
(ZH)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!sogou</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/sogou.py">sogou</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="tab-images">
<h4><a class="toc-backref" href="#id23" role="doc-backlink">tab <code class="docutils literal notranslate"><span class="pre">!images</span></code></a><a class="headerlink" href="#tab-images" title="Link to this heading">¶</a></h4>
<section id="group-icons">
<h5><a class="toc-backref" href="#id24" role="doc-backlink">group <code class="docutils literal notranslate"><span class="pre">!icons</span></code></a><a class="headerlink" href="#group-icons" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://fonts.google.com/icons">material icons</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!mi</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/material_icons.py">material_icons</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.svgrepo.com">svgrepo</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!svg</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/svgrepo.py">svgrepo</a></p></td>
<td><p>y</p></td>
<td><p>10.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://uxwing.com">uxwing</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ux</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/uxwing.py">uxwing</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="id2">
<h5><a class="toc-backref" href="#id25" role="doc-backlink">group <code class="docutils literal notranslate"><span class="pre">!web</span></code></a><a class="headerlink" href="#id2" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.bing.com/images">bing images</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!bii</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.bing_images" title="searx.engines.bing_images"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bing_images</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://search.brave.com/">brave.images</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!brimg</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.brave" title="searx.engines.brave"><code class="xref py py-mod docutils literal notranslate"><span class="pre">brave</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://duckduckgo.com/">duckduckgo images</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ddi</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.duckduckgo_extra" title="searx.engines.duckduckgo_extra"><code class="xref py py-mod docutils literal notranslate"><span class="pre">duckduckgo_extra</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://images.google.com">google images</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!goi</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.google_images" title="searx.engines.google_images"><code class="xref py py-mod docutils literal notranslate"><span class="pre">google_images</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://mojeek.com">mojeek images</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!mjkimg</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/mojeek.py">mojeek</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://presearch.io">presearch images</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!psimg</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.presearch" title="searx.engines.presearch"><code class="xref py py-mod docutils literal notranslate"><span class="pre">presearch</span></code></a></p></td>
<td><p>y</p></td>
<td><p>4.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.qwant.com/">qwant images</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!qwi</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.qwant" title="searx.engines.qwant"><code class="xref py py-mod docutils literal notranslate"><span class="pre">qwant</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://startpage.com">startpage images</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!spi</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.startpage" title="searx.engines.startpage"><code class="xref py py-mod docutils literal notranslate"><span class="pre">startpage</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id3">
<h5><a class="toc-backref" href="#id26" role="doc-backlink">without further subgrouping</a><a class="headerlink" href="#id3" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://1x.com/">1x</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!1x</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/www1x.py">www1x</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://stock.adobe.com/">adobe stock</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!asi</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.adobe_stock" title="searx.engines.adobe_stock"><code class="xref py py-mod docutils literal notranslate"><span class="pre">adobe_stock</span></code></a></p></td>
<td><p>y</p></td>
<td><p>6</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.artic.edu">artic</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!arc</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/artic.py">artic</a></p></td>
<td></td>
<td><p>4.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.deviantart.com/">deviantart</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!da</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/deviantart.py">deviantart</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://findthatmeme.com">findthatmeme</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ftm</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/findthatmeme.py">findthatmeme</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.flickr.com">flickr</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!fl</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/flickr_noapi.py">flickr_noapi</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://frinkiac.com">frinkiac</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!frk</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/frinkiac.py">frinkiac</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://imgur.com/">imgur</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!img</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/imgur.py">imgur</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.ipernity.com">ipernity</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ip</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/ipernity.py">ipernity</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.loc.gov/pictures/">library of congress</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!loc</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.loc" title="searx.engines.loc"><code class="xref py py-mod docutils literal notranslate"><span class="pre">loc</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://openverse.org/">openverse</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!opv</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/openverse.py">openverse</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.pinterest.com/">pinterest</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!pin</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/pinterest.py">pinterest</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://pixabay.com">pixabay images</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!pixi</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/pixabay.py">pixabay</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://pdimagearchive.org">public domain image archive</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!pdia</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/public_domain_image_archive.py">public_domain_image_archive</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://pic.sogou.com/">sogou images</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!sogoui</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/sogou_images.py">sogou_images</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://unsplash.com">unsplash</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!us</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/unsplash.py">unsplash</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://wallhaven.cc/">wallhaven</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!wh</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.wallhaven" title="searx.engines.wallhaven"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wallhaven</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://commons.wikimedia.org/">wikicommons.images</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!wc</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/wikicommons.py">wikicommons</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://yacy.net/">yacy images</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!yai</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.yacy" title="searx.engines.yacy"><code class="xref py py-mod docutils literal notranslate"><span class="pre">yacy</span></code></a></p></td>
<td><p>y</p></td>
<td><p>5.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://yep.com/">yep images</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!yepi</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/yep.py">yep</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://seekr.com/">seekr images</a>
(EN)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!seimg</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.seekr" title="searx.engines.seekr"><code class="xref py py-mod docutils literal notranslate"><span class="pre">seekr</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://search.naver.com">naver images</a>
(KO)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!nvri</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/naver.py">naver</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.baidu.com">baidu images</a>
(ZH)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!bdi</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/baidu.py">baidu</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://quark.sm.cn/">quark images</a>
(ZH)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!qki</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/quark.py">quark</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="tab-videos">
<h4><a class="toc-backref" href="#id27" role="doc-backlink">tab <code class="docutils literal notranslate"><span class="pre">!videos</span></code></a><a class="headerlink" href="#tab-videos" title="Link to this heading">¶</a></h4>
<section id="id4">
<h5><a class="toc-backref" href="#id28" role="doc-backlink">group <code class="docutils literal notranslate"><span class="pre">!web</span></code></a><a class="headerlink" href="#id4" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.bing.com/videos">bing videos</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!biv</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.bing_videos" title="searx.engines.bing_videos"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bing_videos</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://search.brave.com/">brave.videos</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!brvid</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.brave" title="searx.engines.brave"><code class="xref py py-mod docutils literal notranslate"><span class="pre">brave</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://duckduckgo.com/">duckduckgo videos</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ddv</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.duckduckgo_extra" title="searx.engines.duckduckgo_extra"><code class="xref py py-mod docutils literal notranslate"><span class="pre">duckduckgo_extra</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.google.com">google videos</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!gov</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.google_videos" title="searx.engines.google_videos"><code class="xref py py-mod docutils literal notranslate"><span class="pre">google_videos</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.qwant.com/">qwant videos</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!qwv</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.qwant" title="searx.engines.qwant"><code class="xref py py-mod docutils literal notranslate"><span class="pre">qwant</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="id5">
<h5><a class="toc-backref" href="#id29" role="doc-backlink">without further subgrouping</a><a class="headerlink" href="#id5" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://tv.360kan.com/">360search videos</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!360sov</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/360search_videos.py">360search_videos</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://stock.adobe.com/">adobe stock video</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!asv</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.adobe_stock" title="searx.engines.adobe_stock"><code class="xref py py-mod docutils literal notranslate"><span class="pre">adobe_stock</span></code></a></p></td>
<td><p>y</p></td>
<td><p>6</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.bilibili.com">bilibili</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!bil</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/bilibili.py">bilibili</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://bitchute.com">bitchute</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!bit</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/bitchute.py">bitchute</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.dailymotion.com">dailymotion</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!dm</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.dailymotion" title="searx.engines.dailymotion"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dailymotion</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://play.google.com/">google play movies</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!gpm</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/google_play.py">google_play</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://live.space">livespace</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ls</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/livespace.py">livespace</a></p></td>
<td><p>y</p></td>
<td><p>5.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://media.ccc.de">media.ccc.de</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!c3tv</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/ccc_media.py">ccc_media</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://odysee.com/">odysee</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!od</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.odysee" title="searx.engines.odysee"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odysee</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://joinpeertube.org">peertube</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ptb</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.peertube" title="searx.engines.peertube"><code class="xref py py-mod docutils literal notranslate"><span class="pre">peertube</span></code></a></p></td>
<td><p>y</p></td>
<td><p>6.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://github.com/TeamPiped/Piped/">piped</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ppd</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.piped" title="searx.engines.piped"><code class="xref py py-mod docutils literal notranslate"><span class="pre">piped</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://pixabay.com">pixabay videos</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!pixv</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/pixabay.py">pixabay</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://rumble.com/">rumble</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ru</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/rumble.py">rumble</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://sepiasearch.org">sepiasearch</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!sep</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.sepiasearch" title="searx.engines.sepiasearch"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sepiasearch</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://vimeo.com/">vimeo</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!vm</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/vimeo.py">vimeo</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://commons.wikimedia.org/">wikicommons.videos</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!wcv</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/wikicommons.py">wikicommons</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.youtube.com/">youtube</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!yt</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/youtube_noapi.py">youtube_noapi</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://mediathekviewweb.de/">mediathekviewweb</a>
(DE)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!mvw</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/mediathekviewweb.py">mediathekviewweb</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://seekr.com/">seekr videos</a>
(EN)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!sevid</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.seekr" title="searx.engines.seekr"><code class="xref py py-mod docutils literal notranslate"><span class="pre">seekr</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.ina.fr/">ina</a>
(FR)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!in</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/ina.py">ina</a></p></td>
<td><p>y</p></td>
<td><p>6.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.nicovideo.jp/">niconico</a>
(JA)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!nico</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/niconico.py">niconico</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://search.naver.com">naver videos</a>
(KO)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!nvrv</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/naver.py">naver</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.acfun.cn/">acfun</a>
(ZH)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!acf</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/acfun.py">acfun</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.iqiyi.com/">iqiyi</a>
(ZH)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!iq</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/iqiyi.py">iqiyi</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://v.sogou.com/">sogou videos</a>
(ZH)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!sogouv</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/sogou_videos.py">sogou_videos</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="tab-news">
<h4><a class="toc-backref" href="#id30" role="doc-backlink">tab <code class="docutils literal notranslate"><span class="pre">!news</span></code></a><a class="headerlink" href="#tab-news" title="Link to this heading">¶</a></h4>
<section id="id6">
<h5><a class="toc-backref" href="#id31" role="doc-backlink">group <code class="docutils literal notranslate"><span class="pre">!web</span></code></a><a class="headerlink" href="#id6" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://duckduckgo.com/">duckduckgo news</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ddn</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.duckduckgo_extra" title="searx.engines.duckduckgo_extra"><code class="xref py py-mod docutils literal notranslate"><span class="pre">duckduckgo_extra</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://mojeek.com">mojeek news</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!mjknews</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/mojeek.py">mojeek</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://presearch.io">presearch news</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!psnews</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.presearch" title="searx.engines.presearch"><code class="xref py py-mod docutils literal notranslate"><span class="pre">presearch</span></code></a></p></td>
<td><p>y</p></td>
<td><p>4.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://startpage.com">startpage news</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!spn</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.startpage" title="searx.engines.startpage"><code class="xref py py-mod docutils literal notranslate"><span class="pre">startpage</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id7">
<h5><a class="toc-backref" href="#id32" role="doc-backlink">group <code class="docutils literal notranslate"><span class="pre">!wikimedia</span></code></a><a class="headerlink" href="#id7" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.wikinews.org/">wikinews</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!wn</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.mediawiki" title="searx.engines.mediawiki"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mediawiki</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="id8">
<h5><a class="toc-backref" href="#id33" role="doc-backlink">without further subgrouping</a><a class="headerlink" href="#id8" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.bing.com/news">bing news</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!bin</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.bing_news" title="searx.engines.bing_news"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bing_news</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://search.brave.com/">brave.news</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!brnews</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.brave" title="searx.engines.brave"><code class="xref py py-mod docutils literal notranslate"><span class="pre">brave</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://news.google.com">google news</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!gon</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.google_news" title="searx.engines.google_news"><code class="xref py py-mod docutils literal notranslate"><span class="pre">google_news</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.qwant.com/">qwant news</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!qwn</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.qwant" title="searx.engines.qwant"><code class="xref py py-mod docutils literal notranslate"><span class="pre">qwant</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.reuters.com">reuters</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!reu</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.reuters" title="searx.engines.reuters"><code class="xref py py-mod docutils literal notranslate"><span class="pre">reuters</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://news.yahoo.com">yahoo news</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!yhn</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/yahoo_news.py">yahoo_news</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://yep.com/">yep news</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!yepn</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/yep.py">yep</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://tagesschau.de">tagesschau</a>
(DE)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ts</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.tagesschau" title="searx.engines.tagesschau"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tagesschau</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://seekr.com/">seekr news</a>
(EN)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!senews</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.seekr" title="searx.engines.seekr"><code class="xref py py-mod docutils literal notranslate"><span class="pre">seekr</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.ansa.it">ansa</a>
(IT)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ans</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/ansa.py">ansa</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.ilpost.it">il post</a>
(IT)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!pst</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/il_post.py">il_post</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://search.naver.com">naver news</a>
(KO)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!nvrn</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/naver.py">naver</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://weixin.sogou.com/">sogou wechat</a>
(ZH)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!sogouw</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/sogou_wechat.py">sogou_wechat</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="tab-map">
<h4><a class="toc-backref" href="#id34" role="doc-backlink">tab <code class="docutils literal notranslate"><span class="pre">!map</span></code></a><a class="headerlink" href="#tab-map" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.apple.com/maps/">apple maps</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!apm</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/apple_maps.py">apple_maps</a></p></td>
<td><p>y</p></td>
<td><p>5.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.openstreetmap.org/">openstreetmap</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!osm</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/openstreetmap.py">openstreetmap</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://photon.komoot.io">photon</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ph</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/photon.py">photon</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="tab-music">
<h4><a class="toc-backref" href="#id35" role="doc-backlink">tab <code class="docutils literal notranslate"><span class="pre">!music</span></code></a><a class="headerlink" href="#tab-music" title="Link to this heading">¶</a></h4>
<section id="group-lyrics">
<h5><a class="toc-backref" href="#id36" role="doc-backlink">group <code class="docutils literal notranslate"><span class="pre">!lyrics</span></code></a><a class="headerlink" href="#group-lyrics" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://genius.com/">genius</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!gen</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/genius.py">genius</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="group-radio">
<h5><a class="toc-backref" href="#id37" role="doc-backlink">group <code class="docutils literal notranslate"><span class="pre">!radio</span></code></a><a class="headerlink" href="#group-radio" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.radio-browser.info/">radio browser</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!rb</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.radio_browser" title="searx.engines.radio_browser"><code class="xref py py-mod docutils literal notranslate"><span class="pre">radio_browser</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="id10">
<h5><a class="toc-backref" href="#id38" role="doc-backlink">without further subgrouping</a><a class="headerlink" href="#id10" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://stock.adobe.com/">adobe stock audio</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!asa</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.adobe_stock" title="searx.engines.adobe_stock"><code class="xref py py-mod docutils literal notranslate"><span class="pre">adobe_stock</span></code></a></p></td>
<td><p>y</p></td>
<td><p>6</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://bandcamp.com/">bandcamp</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!bc</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/bandcamp.py">bandcamp</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://deezer.com">deezer</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!dz</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/deezer.py">deezer</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.mixcloud.com/">mixcloud</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!mc</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/mixcloud.py">mixcloud</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://github.com/TeamPiped/Piped/">piped.music</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ppdm</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.piped" title="searx.engines.piped"><code class="xref py py-mod docutils literal notranslate"><span class="pre">piped</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://soundcloud.com">soundcloud</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!sc</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.soundcloud" title="searx.engines.soundcloud"><code class="xref py py-mod docutils literal notranslate"><span class="pre">soundcloud</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://commons.wikimedia.org/">wikicommons.audio</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!wca</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/wikicommons.py">wikicommons</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.youtube.com/">youtube</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!yt</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/youtube_noapi.py">youtube_noapi</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="tab-it">
<h4><a class="toc-backref" href="#id39" role="doc-backlink">tab <code class="docutils literal notranslate"><span class="pre">!it</span></code></a><a class="headerlink" href="#tab-it" title="Link to this heading">¶</a></h4>
<section id="group-packages">
<h5><a class="toc-backref" href="#id40" role="doc-backlink">group <code class="docutils literal notranslate"><span class="pre">!packages</span></code></a><a class="headerlink" href="#group-packages" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.alpinelinux.org">alpine linux packages</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!alp</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.alpinelinux" title="searx.engines.alpinelinux"><code class="xref py py-mod docutils literal notranslate"><span class="pre">alpinelinux</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://crates.io/">crates.io</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!crates</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/crates.py">crates</a></p></td>
<td><p>y</p></td>
<td><p>6.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://hub.docker.com">docker hub</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!dh</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/docker_hub.py">docker_hub</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://hex.pm/">hex</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!hex</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/hex.py">hex</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://hoogle.haskell.org/">hoogle</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ho</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.xpath" title="searx.engines.xpath"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xpath</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://lib.rs">lib.rs</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!lrs</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/lib_rs.py">lib_rs</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://metacpan.org/">metacpan</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!cpan</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/metacpan.py">metacpan</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://npms.io/">npm</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!npm</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/npm.py">npm</a></p></td>
<td><p>y</p></td>
<td><p>5.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://packagist.org">packagist</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!pack</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.json_engine" title="searx.engines.json_engine"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json_engine</span></code></a></p></td>
<td><p>y</p></td>
<td><p>5.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://pkg.go.dev/">pkg.go.dev</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!pgo</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/pkg_go_dev.py">pkg_go_dev</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://pub.dev/">pub.dev</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!pd</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.xpath" title="searx.engines.xpath"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xpath</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://pypi.org">pypi</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!pypi</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/pypi.py">pypi</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://rubygems.org/">rubygems</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!rbg</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.xpath" title="searx.engines.xpath"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xpath</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://voidlinux.org/packages/">voidlinux</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!void</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.voidlinux" title="searx.engines.voidlinux"><code class="xref py py-mod docutils literal notranslate"><span class="pre">voidlinux</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="group-q-a">
<h5><a class="toc-backref" href="#id41" role="doc-backlink">group <code class="docutils literal notranslate"><span class="pre">!q&amp;a</span></code></a><a class="headerlink" href="#group-q-a" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://stackexchange.com">askubuntu</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ubuntu</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/stackexchange.py">stackexchange</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://discourse.org/">caddy.community</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!caddy</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.discourse" title="searx.engines.discourse"><code class="xref py py-mod docutils literal notranslate"><span class="pre">discourse</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://discourse.org/">discuss.python</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!dpy</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.discourse" title="searx.engines.discourse"><code class="xref py py-mod docutils literal notranslate"><span class="pre">discourse</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://discourse.org/">pi-hole.community</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!pi</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.discourse" title="searx.engines.discourse"><code class="xref py py-mod docutils literal notranslate"><span class="pre">discourse</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://stackexchange.com">stackoverflow</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!st</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/stackexchange.py">stackexchange</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://stackexchange.com">superuser</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!su</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/stackexchange.py">stackexchange</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="group-repos">
<h5><a class="toc-backref" href="#id42" role="doc-backlink">group <code class="docutils literal notranslate"><span class="pre">!repos</span></code></a><a class="headerlink" href="#group-repos" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://bitbucket.org/">bitbucket</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!bb</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.xpath" title="searx.engines.xpath"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xpath</span></code></a></p></td>
<td><p>y</p></td>
<td><p>4.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://about.gitea.com">codeberg</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!cb</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.gitea" title="searx.engines.gitea"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gitea</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://about.gitea.com">gitea.com</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!gitea</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.gitea" title="searx.engines.gitea"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gitea</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://github.com/">github</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!gh</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/github.py">github</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://gitlab.com/">gitlab</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!gl</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.gitlab" title="searx.engines.gitlab"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gitlab</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://huggingface.co/">huggingface</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!hf</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.huggingface" title="searx.engines.huggingface"><code class="xref py py-mod docutils literal notranslate"><span class="pre">huggingface</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://huggingface.co/">huggingface datasets</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!hfd</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.huggingface" title="searx.engines.huggingface"><code class="xref py py-mod docutils literal notranslate"><span class="pre">huggingface</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://huggingface.co/">huggingface spaces</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!hfs</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.huggingface" title="searx.engines.huggingface"><code class="xref py py-mod docutils literal notranslate"><span class="pre">huggingface</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://ollama.com">ollama</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ollama</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/ollama.py">ollama</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://sr.ht">sourcehut</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!srht</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.xpath" title="searx.engines.xpath"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xpath</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="group-software-wikis">
<h5><a class="toc-backref" href="#id43" role="doc-backlink">group <code class="docutils literal notranslate"><span class="pre">!software_wikis</span></code></a><a class="headerlink" href="#group-software-wikis" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://wiki.archlinux.org/">arch linux wiki</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!al</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.archlinux" title="searx.engines.archlinux"><code class="xref py py-mod docutils literal notranslate"><span class="pre">archlinux</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://directory.fsf.org/">free software directory</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!fsd</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.mediawiki" title="searx.engines.mediawiki"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mediawiki</span></code></a></p></td>
<td><p>y</p></td>
<td><p>5.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="None">gentoo</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!ge</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.mediawiki" title="searx.engines.mediawiki"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mediawiki</span></code></a></p></td>
<td></td>
<td><p>10</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="None">nixos wiki</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!nixw</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.mediawiki" title="searx.engines.mediawiki"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mediawiki</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="id12">
<h5><a class="toc-backref" href="#id44" role="doc-backlink">without further subgrouping</a><a class="headerlink" href="#id12" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="{}">anaconda</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!conda</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.xpath" title="searx.engines.xpath"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xpath</span></code></a></p></td>
<td><p>y</p></td>
<td><p>6.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://en.cppreference.com/">cppreference</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!cpp</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/cppreference.py">cppreference</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://habr.com/">habrahabr</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!habr</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.xpath" title="searx.engines.xpath"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xpath</span></code></a></p></td>
<td><p>y</p></td>
<td><p>4.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://news.ycombinator.com/">hackernews</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!hn</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/hackernews.py">hackernews</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://lobste.rs/">lobste.rs</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!lo</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.xpath" title="searx.engines.xpath"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xpath</span></code></a></p></td>
<td><p>y</p></td>
<td><p>5.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.mankier.com/">mankier</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!man</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.json_engine" title="searx.engines.json_engine"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json_engine</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://developer.mozilla.org">mdn</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!mdn</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.json_engine" title="searx.engines.json_engine"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json_engine</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://learn.microsoft.com">microsoft learn</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!msl</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/microsoft_learn.py">microsoft_learn</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://searchcode.com/">searchcode code</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!scc</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/searchcode_code.py">searchcode_code</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.baidu.com">baidu kaifa</a>
(ZH)</p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!bdk</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/baidu.py">baidu</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="tab-science">
<h4><a class="toc-backref" href="#id45" role="doc-backlink">tab <code class="docutils literal notranslate"><span class="pre">!science</span></code></a><a class="headerlink" href="#tab-science" title="Link to this heading">¶</a></h4>
<section id="group-scientific-publications">
<h5><a class="toc-backref" href="#id46" role="doc-backlink">group <code class="docutils literal notranslate"><span class="pre">!scientific_publications</span></code></a><a class="headerlink" href="#group-scientific-publications" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://arxiv.org">arxiv</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!arx</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/arxiv.py">arxiv</a></p></td>
<td></td>
<td><p>4.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.crossref.org/">crossref</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!cr</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/crossref.py">crossref</a></p></td>
<td><p>y</p></td>
<td><p>30</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://scholar.google.com">google scholar</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!gos</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.google_scholar" title="searx.engines.google_scholar"><code class="xref py py-mod docutils literal notranslate"><span class="pre">google_scholar</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.ncbi.nlm.nih.gov/pubmed/">pubmed</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!pub</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/pubmed.py">pubmed</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.semanticscholar.org/">semantic scholar</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!se</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/semantic_scholar.py">semantic_scholar</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="id13">
<h5><a class="toc-backref" href="#id47" role="doc-backlink">group <code class="docutils literal notranslate"><span class="pre">!wikimedia</span></code></a><a class="headerlink" href="#id13" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://species.wikimedia.org/">wikispecies</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!wsp</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.mediawiki" title="searx.engines.mediawiki"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mediawiki</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="id15">
<h5><a class="toc-backref" href="#id48" role="doc-backlink">without further subgrouping</a><a class="headerlink" href="#id15" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.openaire.eu/">openairedatasets</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!oad</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.json_engine" title="searx.engines.json_engine"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json_engine</span></code></a></p></td>
<td></td>
<td><p>5.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.openaire.eu/">openairepublications</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!oap</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.json_engine" title="searx.engines.json_engine"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json_engine</span></code></a></p></td>
<td></td>
<td><p>5.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.ebi.ac.uk/pdbe">pdbe</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!pdb</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/pdbe.py">pdbe</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="tab-files">
<h4><a class="toc-backref" href="#id49" role="doc-backlink">tab <code class="docutils literal notranslate"><span class="pre">!files</span></code></a><a class="headerlink" href="#tab-files" title="Link to this heading">¶</a></h4>
<section id="group-apps">
<h5><a class="toc-backref" href="#id50" role="doc-backlink">group <code class="docutils literal notranslate"><span class="pre">!apps</span></code></a><a class="headerlink" href="#group-apps" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.apkmirror.com">apk mirror</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!apkm</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/apkmirror.py">apkmirror</a></p></td>
<td><p>y</p></td>
<td><p>4.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.apple.com/app-store/">apple app store</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!aps</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/apple_app_store.py">apple_app_store</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://f-droid.org/">fdroid</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!fd</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/fdroid.py">fdroid</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://play.google.com/">google play apps</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!gpa</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/google_play.py">google_play</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="id16">
<h5><a class="toc-backref" href="#id51" role="doc-backlink">without further subgrouping</a><a class="headerlink" href="#id16" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://1337x.to/">1337x</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!1337x</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/1337x.py">1337x</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://annas-archive.org/">annas archive</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!aa</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.annas_archive" title="searx.engines.annas_archive"><code class="xref py py-mod docutils literal notranslate"><span class="pre">annas_archive</span></code></a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://bt4gprx.com">bt4g</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!bt4g</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.bt4g" title="searx.engines.bt4g"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bt4g</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://btdig.com">btdigg</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!bt</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/btdigg.py">btdigg</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://kickasstorrents.to">kickass</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!kc</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/kickass.py">kickass</a></p></td>
<td></td>
<td><p>4.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://libgen.fun/">library genesis</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!lg</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.xpath" title="searx.engines.xpath"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xpath</span></code></a></p></td>
<td><p>y</p></td>
<td><p>7.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://nyaa.si/">nyaa</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!nt</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/nyaa.py">nyaa</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://openrepos.net/">openrepos</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!or</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.xpath" title="searx.engines.xpath"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xpath</span></code></a></p></td>
<td><p>y</p></td>
<td><p>4.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://thepiratebay.org">piratebay</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!tpb</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/piratebay.py">piratebay</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.solidtorrents.to/">solidtorrents</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!solid</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/solidtorrents.py">solidtorrents</a></p></td>
<td></td>
<td><p>4.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.tokyotosho.info/">tokyotoshokan</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!tt</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/tokyotoshokan.py">tokyotoshokan</a></p></td>
<td><p>y</p></td>
<td><p>6.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://commons.wikimedia.org/">wikicommons.files</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!wcf</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/wikicommons.py">wikicommons</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://zlibrary-global.se">z-library</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!zlib</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.zlibrary" title="searx.engines.zlibrary"><code class="xref py py-mod docutils literal notranslate"><span class="pre">zlibrary</span></code></a></p></td>
<td><p>y</p></td>
<td><p>7.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="tab-social-media">
<h4><a class="toc-backref" href="#id52" role="doc-backlink">tab <code class="docutils literal notranslate"><span class="pre">!social_media</span></code></a><a class="headerlink" href="#tab-social-media" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 35.7%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
<col style="width: 3.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" colspan="6"><p> Engines configured by default (in <a class="reference internal" href="#engine-settings"><span class="std std-ref">settings.yml</span></a>)</p></th>
<th class="head" colspan="4"><p> <a class="reference internal" href="#engine-file"><span class="std std-ref">Supported features</span></a></p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>Name</p></th>
<th class="head"><p>!bang</p></th>
<th class="head"><p>Module</p></th>
<th class="head"><p>Disabled</p></th>
<th class="head"><p>Timeout</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>Paging</p></th>
<th class="head"><p>Locale</p></th>
<th class="head"><p>Safe search</p></th>
<th class="head"><p>Time range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://9gag.com/">9gag</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!9g</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/9gag.py">9gag</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://lemmy.ml/">lemmy comments</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!lecom</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.lemmy" title="searx.engines.lemmy"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lemmy</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://lemmy.ml/">lemmy communities</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!leco</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.lemmy" title="searx.engines.lemmy"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lemmy</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://lemmy.ml/">lemmy posts</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!lepo</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.lemmy" title="searx.engines.lemmy"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lemmy</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://lemmy.ml/">lemmy users</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!leus</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.lemmy" title="searx.engines.lemmy"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lemmy</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td><p>y</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://joinmastodon.org/">mastodon hashtags</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!mah</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.mastodon" title="searx.engines.mastodon"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mastodon</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://joinmastodon.org/">mastodon users</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!mau</span></code></p></td>
<td><p><a class="reference internal" href="#module-searx.engines.mastodon" title="searx.engines.mastodon"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mastodon</span></code></a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p><a class="reference external" href="https://www.reddit.com/">reddit</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!re</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/reddit.py">reddit</a></p></td>
<td><p>y</p></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p><a class="reference external" href="https://www.tootfinder.ch">tootfinder</a></p></th>
<td><p><code class="docutils literal notranslate"><span class="pre">!toot</span></code></p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/tootfinder.py">tootfinder</a></p></td>
<td></td>
<td><p>3.0</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<span id="document-user/about"></span><span class="target" id="about-infinity-search"></span></div>
</section>
<span id="document-own-instance"></span><section id="why-use-a-private-instance">
<h2>Why use a private instance?<a class="headerlink" href="#why-use-a-private-instance" title="Link to this heading">¶</a></h2>
<aside class="sidebar">
<p class="sidebar-title">Is running my own instance worth it?</p>
<p>...is a common question among Infinity Search users.  Before answering this
question, see what options an Infinity Search user has.</p>
</aside>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#how-does-infinity-search-protect-privacy" id="id1">How does Infinity Search protect privacy?</a></p>
<ul>
<li><p><a class="reference internal" href="#what-are-the-consequences-of-using-public-instances" id="id2">What are the consequences of using public instances?</a></p></li>
<li><p><a class="reference internal" href="#i-see-what-about-private-instances" id="id3">I see. What about private instances?</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#conclusion" id="id4">Conclusion</a></p></li>
</ul>
</nav>
<p>Public instances are open to everyone who has access to their URL.  Usually, they
are operated by unknown parties (from the users’ point of view).  Private
instances can be used by a select group of people, such as an Infinity Search instance for a
group of friends, or a company which can be accessed through a VPN.  Instances can also be
single-user instances, which run locally on the user’s machine.</p>
<p>To gain more insight on how these instances work, let’s dive into how Infinity Search
protects its users.</p>
<section id="how-does-infinity-search-protect-privacy">
<span id="infinity-search-protect-privacy"></span><h3><a class="toc-backref" href="#id1" role="doc-backlink">How does Infinity Search protect privacy?</a><a class="headerlink" href="#how-does-infinity-search-protect-privacy" title="Link to this heading">¶</a></h3>
<p>Infinity Search protects the privacy of its users in multiple ways, regardless of the type
of the instance (private or public).  Removal of private data from search requests
comes in three forms:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Removing private data from requests going to search services</p></li>
<li><p>Not forwarding anything from third party services through search services
(e.g. advertisement)</p></li>
<li><p>Removing private data from requests going to the results pages</p></li>
</ol>
</div></blockquote>
<p>Removing private data means not sending cookies to external search engines and
generating a random browser profile for every request.  Thus, it does not matter
if a public or private instance handles the request, because it is anonymized in
both cases.  The IP address used will be the IP of the instance, but Infinity Search can also be
configured to use proxy or Tor.</p>
<p>Infinity Search does not serve ads or tracking content, unlike most search services.  Therefore,
private data is not forwarded to third parties who might monetize it.  Besides
protecting users from search services, both the referring page and search query are
hidden from the results pages being visited.</p>
<section id="what-are-the-consequences-of-using-public-instances">
<h4><a class="toc-backref" href="#id2" role="doc-backlink">What are the consequences of using public instances?</a><a class="headerlink" href="#what-are-the-consequences-of-using-public-instances" title="Link to this heading">¶</a></h4>
<p>If someone uses a public instance, they have to trust the administrator of that
instance.  This means that the user of the public instance does not know whether
their requests are logged, aggregated, and sent or sold to a third party.</p>
<p>Also, public instances without proper protection are more vulnerable to abuse of
the search service, which may cause the external service to enforce
CAPTCHAs or to ban the IP address of the instance.  Thus, search requests would return less
results.</p>
</section>
<section id="i-see-what-about-private-instances">
<h4><a class="toc-backref" href="#id3" role="doc-backlink">I see. What about private instances?</a><a class="headerlink" href="#i-see-what-about-private-instances" title="Link to this heading">¶</a></h4>
<p>If users run their <a class="reference internal" href="#installation"><span class="std std-ref">own instances</span></a>, everything is in their
control: the source code, logging settings and private data.  Unknown instance
administrators do not have to be trusted.</p>
<p>Furthermore, as the default settings of their instance are editable, there is no
need to use cookies to tailor Infinity Search to their needs and preferences will not
reset to defaults when clearing browser cookies.  As settings are stored on
the user’s computer, they will not be accessible to others as long as their computer is
not compromised.</p>
</section>
</section>
<section id="conclusion">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">Conclusion</a><a class="headerlink" href="#conclusion" title="Link to this heading">¶</a></h3>
<p>Always use an instance which is operated by people you trust.  The privacy
features of Infinity Search are available to users no matter what kind of instance they
use.</p>
<p>For those on the go, or just wanting to try Infinity Search for the first time, public
instances are the best choice.  Public instances are also making the
world a better place by giving those who cannot, or do not want to, run an
instance access to a privacy-respecting search service.</p>
</section>
</section>
<span id="document-admin/index"></span><section id="administrator-documentation">
<h2>Administrator documentation<a class="headerlink" href="#administrator-documentation" title="Link to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-admin/settings/index"></span><section id="settings">
<span id="searxng-settings-yml"></span><h3>Settings<a class="headerlink" href="#settings" title="Link to this heading">¶</a></h3>
<aside class="sidebar">
<p class="sidebar-title">Further reading ..</p>
<ul class="simple">
<li><p><a class="reference internal" href="#engine-settings"><span class="std std-ref">Engine settings.yml</span></a></p></li>
<li><p><a class="reference internal" href="#engine-file"><span class="std std-ref">Engine File</span></a></p></li>
</ul>
</aside>
<div class="toctree-wrapper compound">
<span id="document-admin/settings/settings"></span><section id="settings-yml">
<span id="id1"></span><h4><code class="docutils literal notranslate"><span class="pre">settings.yml</span></code><a class="headerlink" href="#settings-yml" title="Link to this heading">¶</a></h4>
<p>This page describe the options possibilities of the <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/settings.yml">git://searx/settings.yml</a>
file.</p>
<aside class="sidebar">
<p class="sidebar-title">Further reading ..</p>
<ul class="simple">
<li><p><a class="reference internal" href="#use-default-settings-yml"><span class="std std-ref">Configuration</span></a></p></li>
<li><p><a class="reference internal" href="#search-api"><span class="std std-ref">Search API</span></a></p></li>
</ul>
</aside>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#settings-yml-location" id="id2">settings.yml location</a></p></li>
<li><p><a class="reference internal" href="#use-default-settings" id="id3">use_default_settings</a></p></li>
</ul>
</nav>
<section id="settings-yml-location">
<span id="settings-location"></span><h5><a class="toc-backref" href="#id2" role="doc-backlink">settings.yml location</a><a class="headerlink" href="#settings-yml-location" title="Link to this heading">¶</a></h5>
<p>The initial <code class="docutils literal notranslate"><span class="pre">settings.yml</span></code> we be load from these locations:</p>
<ol class="arabic simple">
<li><p>the full path specified in the <code class="docutils literal notranslate"><span class="pre">SEARXNG_SETTINGS_PATH</span></code> environment variable.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/etc/searxng/settings.yml</span></code></p></li>
</ol>
<p>If these files don’t exist (or are empty or can’t be read), SearXNG uses the
<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/settings.yml">git://searx/settings.yml</a> file.  Read <a class="reference internal" href="#settings-use-default-settings"><span class="std std-ref">use_default_settings</span></a> to
see how you can simplify your <em>user defined</em> <code class="docutils literal notranslate"><span class="pre">settings.yml</span></code>.</p>
</section>
<section id="use-default-settings">
<span id="settings-use-default-settings"></span><h5><a class="toc-backref" href="#id3" role="doc-backlink">use_default_settings</a><a class="headerlink" href="#use-default-settings" title="Link to this heading">¶</a></h5>
<aside class="sidebar">
<p class="sidebar-title"><code class="docutils literal notranslate"><span class="pre">use_default_settings:</span> <span class="pre">true</span></code></p>
<ul class="simple">
<li><p><a class="reference internal" href="#settings-location"><span class="std std-ref">settings.yml location</span></a></p></li>
<li><p><a class="reference internal" href="#use-default-settings-yml"><span class="std std-ref">Configuration</span></a></p></li>
<li><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/utils/templates/etc/searxng/settings.yml">/etc/searxng/settings.yml</a></p></li>
</ul>
</aside>
<p>The user defined <code class="docutils literal notranslate"><span class="pre">settings.yml</span></code> is loaded from the <a class="reference internal" href="#settings-location"><span class="std std-ref">settings.yml location</span></a>
and can relied on the default configuration <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/settings.yml">git://searx/settings.yml</a> using:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">use_default_settings:</span> <span class="pre">true</span></code></p>
</div></blockquote>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">server:</span></code></dt><dd><p>In the following example, the actual settings are the default settings defined
in <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/settings.yml">git://searx/settings.yml</a> with the exception of the <code class="docutils literal notranslate"><span class="pre">secret_key</span></code> and
the <code class="docutils literal notranslate"><span class="pre">bind_address</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">use_default_settings</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">server</span><span class="p">:</span>
<span class="w">    </span><span class="nt">secret_key</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ultrasecretkey&quot;</span><span class="w">   </span><span class="c1"># change this!</span>
<span class="w">    </span><span class="nt">bind_address</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;[::]&quot;</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">engines:</span></code></dt><dd><p>With <code class="docutils literal notranslate"><span class="pre">use_default_settings:</span> <span class="pre">true</span></code>, each settings can be override in a
similar way, the <code class="docutils literal notranslate"><span class="pre">engines</span></code> section is merged according to the engine
<code class="docutils literal notranslate"><span class="pre">name</span></code>.  In this example, SearXNG will load all the default engines, will
enable the <code class="docutils literal notranslate"><span class="pre">bing</span></code> engine and define a <a class="reference internal" href="#private-engines"><span class="std std-ref">token</span></a> for
the arch linux engine:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">use_default_settings</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">server</span><span class="p">:</span>
<span class="w">  </span><span class="nt">secret_key</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ultrasecretkey&quot;</span><span class="w">   </span><span class="c1"># change this!</span>
<span class="nt">engines</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arch linux wiki</span>
<span class="w">    </span><span class="nt">tokens</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;$ecretValue&#39;</span><span class="p p-Indicator">]</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bing</span>
<span class="w">    </span><span class="nt">disabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">engines:</span></code> / <code class="docutils literal notranslate"><span class="pre">remove:</span></code></dt><dd><p>It is possible to remove some engines from the default settings. The following
example is similar to the above one, but SearXNG doesn’t load the the google
engine:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">use_default_settings</span><span class="p">:</span>
<span class="w">  </span><span class="nt">engines</span><span class="p">:</span>
<span class="w">    </span><span class="nt">remove</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">google</span>
<span class="nt">server</span><span class="p">:</span>
<span class="w">  </span><span class="nt">secret_key</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ultrasecretkey&quot;</span><span class="w">   </span><span class="c1"># change this!</span>
<span class="nt">engines</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arch linux wiki</span>
<span class="w">    </span><span class="nt">tokens</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;$ecretValue&#39;</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">engines:</span></code> / <code class="docutils literal notranslate"><span class="pre">keep_only:</span></code></dt><dd><p>As an alternative, it is possible to specify the engines to keep. In the
following example, SearXNG has only two engines:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">use_default_settings</span><span class="p">:</span>
<span class="w">  </span><span class="nt">engines</span><span class="p">:</span>
<span class="w">    </span><span class="nt">keep_only</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">google</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">duckduckgo</span>
<span class="nt">server</span><span class="p">:</span>
<span class="w">  </span><span class="nt">secret_key</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ultrasecretkey&quot;</span><span class="w">   </span><span class="c1"># change this!</span>
<span class="nt">engines</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">google</span>
<span class="w">    </span><span class="nt">tokens</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;$ecretValue&#39;</span><span class="p p-Indicator">]</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">duckduckgo</span>
<span class="w">    </span><span class="nt">tokens</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;$ecretValue&#39;</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</dd>
</dl>
</section>
</section>
<span id="document-admin/settings/settings_engines"></span><section id="engines">
<span id="settings-engines"></span><h4><code class="docutils literal notranslate"><span class="pre">engines:</span></code><a class="headerlink" href="#engines" title="Link to this heading">¶</a></h4>
<aside class="sidebar">
<p class="sidebar-title">Further reading ..</p>
<ul class="simple">
<li><p><a class="reference internal" href="#configured-engines"><span class="std std-ref">Configured Engines</span></a></p></li>
<li><p><a class="reference internal" href="#engines-dev"><span class="std std-ref">Engine Overview</span></a></p></li>
</ul>
</aside>
<p>In the section <code class="docutils literal notranslate"><span class="pre">engines:</span></code> is a list of the engines that are to be made
available in the instance.  Each list entry is in turn a key/value mapping.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">engines</span><span class="p">:</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dummy.online</span>
<span class="w">    </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dummy</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">..</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dummy.offline</span>
<span class="w">    </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dummy-offline</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">..</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">..</span>
</pre></div>
</div>
<p>In the code example below a <em>full fledged</em> example of a YAML setup from a dummy
engine is shown.  Most of the options have a default value or even are optional.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>A few more options are possible, but they are pretty specific to some
engines (<a class="reference internal" href="#engine-implementations"><span class="std std-ref">Engine Implementations</span></a>).</p>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">demo</span>
<span class="w">  </span><span class="nt">base_url</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;https://{language}.example.com/&#39;</span>
<span class="w">  </span><span class="nt">send_accept_language_header</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">categories</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">general</span>
<span class="w">  </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3.0</span>
<span class="w">  </span><span class="nt">api_key</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;apikey&#39;</span>
<span class="w">  </span><span class="nt">disabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">language</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">en_US</span>
<span class="w">  </span><span class="nt">tokens</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&#39;my-secret-token&#39;</span><span class="w"> </span><span class="p p-Indicator">]</span>
<span class="w">  </span><span class="nt">weight</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">display_error_messages</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">about</span><span class="p">:</span>
<span class="w">     </span><span class="nt">website</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://example.com</span>
<span class="w">     </span><span class="nt">wikidata_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Q306656</span>
<span class="w">     </span><span class="nt">official_api_documentation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://example.com/api-doc</span>
<span class="w">     </span><span class="nt">use_official_api</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">     </span><span class="nt">require_api_key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">     </span><span class="nt">results</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">HTML</span>

<span class="w">  </span><span class="c1"># overwrite values from section &#39;outgoing:&#39;</span>
<span class="w">  </span><span class="nt">enable_http2</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">retries</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">max_connections</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span>
<span class="w">  </span><span class="nt">max_keepalive_connections</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">  </span><span class="nt">keepalive_expiry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5.0</span>
<span class="w">  </span><span class="nt">using_tor_proxy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">proxies</span><span class="p">:</span>
<span class="w">    </span><span class="nt">http</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://proxy1:8080</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://proxy2:8080</span>
<span class="w">    </span><span class="nt">https</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://proxy1:8080</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://proxy2:8080</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">socks5://user:password@proxy3:1080</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">socks5h://user:password@proxy4:1080</span>

<span class="w">  </span><span class="c1"># other network settings</span>
<span class="w">  </span><span class="nt">enable_http</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">retry_on_http_error</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"> </span><span class="c1"># or 403 or [404, 429]</span>
</pre></div>
</div>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">name</span></code> :</dt><dd><p>Name that will be used across SearXNG to define this engine.  In settings, on
the result page…</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">engine</span></code> :</dt><dd><p>Name of the python file used to handle requests and responses to and from this
search engine.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">shortcut</span></code> :</dt><dd><p>Code used to execute bang requests (in this case using <code class="docutils literal notranslate"><span class="pre">!bi</span></code>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">base_url</span></code><span class="classifier">optional</span></dt><dd><p>Part of the URL that should be stable across every request.  Can be useful to
use multiple sites using only one engine, or updating the site URL without
touching at the code.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">send_accept_language_header</span></code> :</dt><dd><p>Several engines that support languages (or regions) deal with the HTTP header
<code class="docutils literal notranslate"><span class="pre">Accept-Language</span></code> to build a response that fits to the locale.  When this
option is activated, the language (locale) that is selected by the user is used
to build and send a <code class="docutils literal notranslate"><span class="pre">Accept-Language</span></code> header in the request to the origin
search engine.</p>
</dd>
</dl>
<dl id="engine-categories">
<dt><code class="docutils literal notranslate"><span class="pre">categories</span></code><span class="classifier">optional</span></dt><dd><p>Specifies to which categories the engine should be added.  Engines can be
assigned to multiple categories.</p>
<p>Categories can be shown as tabs (<a class="reference internal" href="#settings-categories-as-tabs"><span class="std std-ref">categories_as_tabs:</span></a>) in the
UI.  A search in a tab (in the UI) will query all engines that are active in
this tab.  In the preferences page (<code class="docutils literal notranslate"><span class="pre">/preferences</span></code>) – under <em>engines</em> –
users can select what engine should be active when querying in this tab.</p>
<p>Alternatively, <a class="reference internal" href="#search-syntax"><span class="std std-ref">!bang</span></a> can be used to search all engines
in a category, regardless of whether they are active or not, or whether they
are in a tab of the UI or not.  For example, <code class="docutils literal notranslate"><span class="pre">!dictionaries</span></code> can be used to
query all search engines in that category (group).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">timeout</span></code><span class="classifier">optional</span></dt><dd><p>Timeout of the search with the current search engine.  Overwrites
<code class="docutils literal notranslate"><span class="pre">request_timeout</span></code> from <a class="reference internal" href="#settings-outgoing"><span class="std std-ref">outgoing:</span></a>.  <strong>Be careful, it will
modify the global timeout of SearXNG.</strong></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">api_key</span></code><span class="classifier">optional</span></dt><dd><p>In a few cases, using an API needs the use of a secret key.  How to obtain them
is described in the file.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">disabled</span></code><span class="classifier">optional</span></dt><dd><p>To disable by default the engine, but not deleting it.  It will allow the user
to manually activate it in the settings.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">inactive</span></code>: optional</dt><dd><p>Remove the engine from the settings (<em>disabled &amp; removed</em>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">language</span></code><span class="classifier">optional</span></dt><dd><p>If you want to use another language for a specific engine, you can define it
by using the ISO code of language (and region), like <code class="docutils literal notranslate"><span class="pre">fr</span></code>, <code class="docutils literal notranslate"><span class="pre">en-US</span></code>,
<code class="docutils literal notranslate"><span class="pre">de-DE</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tokens</span></code><span class="classifier">optional</span></dt><dd><p>A list of secret tokens to make this engine <em>private</em>, more details see
<a class="reference internal" href="#private-engines"><span class="std std-ref">Private Engines (tokens)</span></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">weight</span></code><span class="classifier">default <code class="docutils literal notranslate"><span class="pre">1</span></code></span></dt><dd><p>Weighting of the results of this engine.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">display_error_messages</span></code><span class="classifier">default <code class="docutils literal notranslate"><span class="pre">true</span></code></span></dt><dd><p>When an engine returns an error, the message is displayed on the user interface.</p>
</dd>
</dl>
<dl id="engine-network">
<dt><code class="docutils literal notranslate"><span class="pre">network</span></code><span class="classifier">optional</span></dt><dd><p>Use the network configuration from another engine.
In addition, there are two default networks:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ipv4</span></code> set <code class="docutils literal notranslate"><span class="pre">local_addresses</span></code> to <code class="docutils literal notranslate"><span class="pre">0.0.0.0</span></code> (use only IPv4 local addresses)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ipv6</span></code> set <code class="docutils literal notranslate"><span class="pre">local_addresses</span></code> to <code class="docutils literal notranslate"><span class="pre">::</span></code> (use only IPv6 local addresses)</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">enable_http</span></code><span class="classifier">optional</span></dt><dd><p>Enable HTTP for this engine (by default only HTTPS is enabled).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">retry_on_http_error</span></code><span class="classifier">optional</span></dt><dd><p>Retry request on some HTTP status code.</p>
<p>Example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">true</span></code> : on HTTP status code between 400 and 599.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">403</span></code> : on HTTP status code 403.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[403,</span> <span class="pre">429]</span></code>: on HTTP status code 403 and 429.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">proxies</span></code> :</dt><dd><p>Overwrites proxy settings from <a class="reference internal" href="#settings-outgoing"><span class="std std-ref">outgoing:</span></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">using_tor_proxy</span></code> :</dt><dd><p>Using tor proxy (<code class="docutils literal notranslate"><span class="pre">true</span></code>) or not (<code class="docutils literal notranslate"><span class="pre">false</span></code>) for this engine.  The default is
taken from <code class="docutils literal notranslate"><span class="pre">using_tor_proxy</span></code> of the <a class="reference internal" href="#settings-outgoing"><span class="std std-ref">outgoing:</span></a>.</p>
</dd>
</dl>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">max_keepalive_connection#s</span></code> :</dt><dd><dl class="simple">
<dt><a class="reference external" href="https://www.python-httpx.org/advanced/#pool-limit-configuration">Pool limit configuration</a>, overwrites value <code class="docutils literal notranslate"><span class="pre">pool_maxsize</span></code> from</dt><dd><p><a class="reference internal" href="#settings-outgoing"><span class="std std-ref">outgoing:</span></a> for this engine.</p>
</dd>
</dl>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">max_connections</span></code> :</dt><dd><p><a class="reference external" href="https://www.python-httpx.org/advanced/#pool-limit-configuration">Pool limit configuration</a>, overwrites value <code class="docutils literal notranslate"><span class="pre">pool_connections</span></code> from
<a class="reference internal" href="#settings-outgoing"><span class="std std-ref">outgoing:</span></a> for this engine.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">keepalive_expiry</span></code> :</dt><dd><p><a class="reference external" href="https://www.python-httpx.org/advanced/#pool-limit-configuration">Pool limit configuration</a>, overwrites value <code class="docutils literal notranslate"><span class="pre">keepalive_expiry</span></code> from
<a class="reference internal" href="#settings-outgoing"><span class="std std-ref">outgoing:</span></a> for this engine.</p>
</dd>
</dl>
<section id="private-engines-tokens">
<span id="private-engines"></span><h5>Private Engines (<code class="docutils literal notranslate"><span class="pre">tokens</span></code>)<a class="headerlink" href="#private-engines-tokens" title="Link to this heading">¶</a></h5>
<p>Administrators might find themselves wanting to limit access to some of the
enabled engines on their instances.  It might be because they do not want to
expose some private information through <a class="reference internal" href="#offline-engines"><span class="std std-ref">Offline Engines</span></a>.  Or they would
rather share engines only with their trusted friends or colleagues.</p>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<p>Initial sponsored by <a class="reference external" href="https://nlnet.nl/discovery">Search and Discovery Fund</a> of <a class="reference external" href="https://nlnet.nl/">NLnet Foundation</a>.</p>
</aside>
<p>To solve this issue the concept of <em>private engines</em> exists.</p>
<p>A new option was added to engines named <cite>tokens</cite>.  It expects a list of strings.
If the user making a request presents one of the tokens of an engine, they can
access information about the engine and make search requests.</p>
<p>Example configuration to restrict access to the Arch Linux Wiki engine:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arch linux wiki</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">archlinux</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">al</span>
<span class="w">  </span><span class="nt">tokens</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&#39;my-secret-token&#39;</span><span class="w"> </span><span class="p p-Indicator">]</span>
</pre></div>
</div>
<p>Unless a user has configured the right token, the engine is going to be hidden
from them.  It is not going to be included in the list of engines on the
Preferences page and in the output of <cite>/config</cite> REST API call.</p>
<p>Tokens can be added to one’s configuration on the Preferences page under “Engine
tokens”.  The input expects a comma separated list of strings.</p>
<p>The distribution of the tokens from the administrator to the users is not carved
in stone.  As providing access to such engines implies that the admin knows and
trusts the user, we do not see necessary to come up with a strict process.
Instead, we would like to add guidelines to the documentation of the feature.</p>
</section>
<section id="example-multilingual-search">
<h5>Example: Multilingual Search<a class="headerlink" href="#example-multilingual-search" title="Link to this heading">¶</a></h5>
<p>SearXNG does not support true multilingual search.  You have to use the language
prefix in your search query when searching in a different language.</p>
<p>But there is a workaround: By adding a new search engine with a different
language, SearXNG will search in your default and other language.</p>
<p>Example configuration in settings.yml for a German and English speaker:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">search</span><span class="p">:</span>
<span class="w">    </span><span class="nt">default_lang </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;de&quot;</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">...</span>

<span class="nt">engines</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">google english</span>
<span class="w">    </span><span class="nt">engine </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">google</span>
<span class="w">    </span><span class="nt">language </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">en</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
<p>When searching, the default google engine will return German results and
“google english” will return English results.</p>
</section>
</section>
<span id="document-admin/settings/settings_brand"></span><section id="brand">
<span id="settings-brand"></span><h4><code class="docutils literal notranslate"><span class="pre">brand:</span></code><a class="headerlink" href="#brand" title="Link to this heading">¶</a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">brand</span><span class="p">:</span>
<span class="w">  </span><span class="nt">issue_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/burhanuddin-1/s/issues</span>
<span class="w">  </span><span class="nt">docs_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://infinity-search.onrender.com</span>
<span class="w">  </span><span class="nt">public_instances</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://infinity-search.onrender.com</span>
<span class="w">  </span><span class="nt">wiki_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/burhanuddin-1/s/wiki</span>
</pre></div>
</div>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">issue_url</span></code> :</dt><dd><p>URL for issue tracking (e.g., GitHub issues).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">docs_url</span></code> :</dt><dd><p>URL for the documentation.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">public_instances</span></code> :</dt><dd><p>URL for public instances information.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">wiki_url</span></code> :</dt><dd><p>Link to the project wiki (or set to <code class="docutils literal notranslate"><span class="pre">false</span></code> to disable)</p>
</dd>
</dl>
</section>
<span id="document-admin/settings/settings_general"></span><section id="general">
<span id="settings-general"></span><h4><code class="docutils literal notranslate"><span class="pre">general:</span></code><a class="headerlink" href="#general" title="Link to this heading">¶</a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">general</span><span class="p">:</span>
<span class="w">  </span><span class="nt">debug</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">instance_name</span><span class="p">:</span><span class="w">  </span><span class="s">&quot;SearXNG&quot;</span>
<span class="w">  </span><span class="nt">privacypolicy_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">donation_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">contact_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">enable_metrics</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">open_metrics</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&#39;</span>
</pre></div>
</div>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">debug</span></code><span class="classifier"><code class="docutils literal notranslate"><span class="pre">$SEARXNG_DEBUG</span></code></span></dt><dd><p>In debug mode, the server provides an interactive debugger, will reload when
code is changed and activates a verbose logging.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>The debug setting is intended for local development server.  Don’t
activate debug (don’t use a development server) when deploying to
production.</p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">donation_url</span></code> :</dt><dd><p>Set value to <code class="docutils literal notranslate"><span class="pre">true</span></code> to use your own donation page written in the
<a class="reference internal" href="#searx-infopage"><span class="std std-ref">searx/info/en/donate.md</span></a> and use <code class="docutils literal notranslate"><span class="pre">false</span></code> to disable
the donation link altogether.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">privacypolicy_url</span></code>:</dt><dd><p>Link to privacy policy.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">contact_url</span></code>:</dt><dd><p>Contact <code class="docutils literal notranslate"><span class="pre">mailto:</span></code> address or WEB form.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">enable_metrics</span></code>:</dt><dd><p>Enabled by default. Record various anonymous metrics available at <code class="docutils literal notranslate"><span class="pre">/stats</span></code>,
<code class="docutils literal notranslate"><span class="pre">/stats/errors</span></code> and <code class="docutils literal notranslate"><span class="pre">/preferences</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">open_metrics</span></code>:</dt><dd><p>Disabled by default. Set to a secret password to expose an
<a class="reference external" href="https://github.com/prometheus/OpenMetrics">OpenMetrics API</a> at <code class="docutils literal notranslate"><span class="pre">/metrics</span></code>,
e.g. for usage with Prometheus. The <code class="docutils literal notranslate"><span class="pre">/metrics</span></code> endpoint is using HTTP Basic Auth,
where the password is the value of <code class="docutils literal notranslate"><span class="pre">open_metrics</span></code> set above. The username used for
Basic Auth can be randomly chosen as only the password is being validated.</p>
</dd>
</dl>
</section>
<span id="document-admin/settings/settings_search"></span><section id="search">
<span id="settings-search"></span><h4><code class="docutils literal notranslate"><span class="pre">search:</span></code><a class="headerlink" href="#search" title="Link to this heading">¶</a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">search</span><span class="p">:</span>
<span class="w">  </span><span class="nt">safe_search</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">  </span><span class="nt">autocomplete</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="nt">favicon_resolver</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="nt">default_lang</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="nt">ban_time_on_fail</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">  </span><span class="nt">max_page</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">  </span><span class="nt">max_ban_time_on_fail</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">120</span>
<span class="w">  </span><span class="nt">suspended_times</span><span class="p">:</span>
<span class="w">    </span><span class="nt">SearxEngineAccessDenied</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">86400</span>
<span class="w">    </span><span class="nt">SearxEngineCaptcha</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">86400</span>
<span class="w">    </span><span class="nt">SearxEngineTooManyRequests</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3600</span>
<span class="w">    </span><span class="nt">cf_SearxEngineCaptcha</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1296000</span>
<span class="w">    </span><span class="nt">cf_SearxEngineAccessDenied</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">86400</span>
<span class="w">    </span><span class="nt">recaptcha_SearxEngineCaptcha</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">604800</span>
<span class="w">  </span><span class="nt">formats</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">html</span>
</pre></div>
</div>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">safe_search</span></code>:</dt><dd><p>Filter results.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">0</span></code>: None</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: Moderate</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: Strict</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">autocomplete</span></code>:</dt><dd><p>Existing autocomplete backends, leave blank to turn it off.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">360search</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">baidu</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">brave</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dbpedia</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">duckduckgo</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">google</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mwmbl</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">naver</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">quark</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">qwant</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">seznam</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sogou</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">startpage</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stract</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">swisscows</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">wikipedia</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">yandex</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">favicon_resolver</span></code>:</dt><dd><p>To activate favicons in SearXNG’s result list select a default
favicon-resolver, leave blank to turn off the feature.  Don’t activate the
favicons before reading the <a class="reference internal" href="#favicons"><span class="std std-ref">Favicons documentation</span></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">default_lang</span></code>:</dt><dd><p>Default search language - leave blank to detect from browser information or
use codes from <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/sxng_locales.py">git://searx/sxng_locales.py</a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">languages</span></code>:</dt><dd><p>List of available languages - leave unset to use all codes from
<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/sxng_locales.py">git://searx/sxng_locales.py</a>.  Otherwise list codes of available languages.
The <code class="docutils literal notranslate"><span class="pre">all</span></code> value is shown as the <code class="docutils literal notranslate"><span class="pre">Default</span> <span class="pre">language</span></code> in the user interface
(in most cases, it is meant to send the query without a language parameter ;
in some cases, it means the English language) Example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">languages</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">all</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">en</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">en-US</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">de</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">it-IT</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fr</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fr-BE</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">max_page</span></code>:</dt><dd><p>If engine supports paging, 0 means unlimited numbers of pages.  The value
is only applied if the engine itself does not have a max value that is
lower than this one.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ban_time_on_fail</span></code>:</dt><dd><p>Ban time in seconds after engine errors.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">max_ban_time_on_fail</span></code>:</dt><dd><p>Max ban time in seconds after engine errors.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">suspended_times</span></code>:</dt><dd><p>Engine suspension time after error (in seconds; set to 0 to disable)</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">SearxEngineAccessDenied</span></code>: 86400</dt><dd><p>For error “Access denied” and “HTTP error [402, 403]”</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">SearxEngineCaptcha</span></code>: 86400</dt><dd><p>For error “CAPTCHA”</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">SearxEngineTooManyRequests</span></code>: 3600</dt><dd><p>For error “Too many request” and “HTTP error 429”</p>
</dd>
<dt>Cloudflare CAPTCHA:</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cf_SearxEngineCaptcha</span></code>: 1296000</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cf_SearxEngineAccessDenied</span></code>: 86400</p></li>
</ul>
</dd>
<dt>Google CAPTCHA:</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recaptcha_SearxEngineCaptcha</span></code>: 604800</p></li>
</ul>
</dd>
</dl>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">formats</span></code>:</dt><dd><p>Result formats available from web, remove format to deny access (use lower
case).</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">html</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">csv</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">json</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rss</span></code></p></li>
</ul>
</dd>
</dl>
</section>
<span id="document-admin/settings/settings_server"></span><section id="server">
<span id="settings-server"></span><h4><code class="docutils literal notranslate"><span class="pre">server:</span></code><a class="headerlink" href="#server" title="Link to this heading">¶</a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">server</span><span class="p">:</span>
<span class="w">    </span><span class="nt">base_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://example.org/location</span><span class="w">  </span><span class="c1"># change this!</span>
<span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8888</span>
<span class="w">    </span><span class="nt">bind_address</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;127.0.0.1&quot;</span>
<span class="w">    </span><span class="nt">secret_key</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ultrasecretkey&quot;</span><span class="w">           </span><span class="c1"># change this!</span>
<span class="w">    </span><span class="nt">limiter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">public_instance</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">image_proxy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">method</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
<span class="w">    </span><span class="nt">default_http_headers</span><span class="p">:</span>
<span class="w">      </span><span class="nt">X-Content-Type-Options </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nosniff</span>
<span class="w">      </span><span class="nt">X-Download-Options </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">noopen</span>
<span class="w">      </span><span class="nt">X-Robots-Tag </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">noindex, nofollow</span>
<span class="w">      </span><span class="nt">Referrer-Policy </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">no-referrer</span>
</pre></div>
</div>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">base_url</span></code><span class="classifier"><code class="docutils literal notranslate"><span class="pre">$SEARXNG_BASE_URL</span></code></span></dt><dd><p>The base URL where SearXNG is deployed.  Used to create correct inbound links.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">port</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">bind_address</span></code>: <code class="docutils literal notranslate"><span class="pre">$SEARXNG_PORT</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">$SEARXNG_BIND_ADDRESS</span></code></dt><dd><p>Port number and <em>bind address</em> of the SearXNG web application if you run it
directly using <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">searx/webapp.py</span></code>.  Doesn’t apply to a SearXNG
services running behind a proxy and using socket communications.</p>
</dd>
</dl>
<dl id="server-secret-key">
<dt><code class="docutils literal notranslate"><span class="pre">secret_key</span></code><span class="classifier"><code class="docutils literal notranslate"><span class="pre">$SEARXNG_SECRET</span></code></span></dt><dd><p>Used for cryptography purpose.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">limiter</span></code><span class="classifier"><code class="docutils literal notranslate"><span class="pre">$SEARXNG_LIMITER</span></code></span></dt><dd><p>Rate limit the number of request on the instance, block some bots.  The
<a class="reference internal" href="#limiter"><span class="std std-ref">Limiter</span></a> requires a <a class="reference internal" href="#settings-valkey"><span class="std std-ref">valkey:</span></a> database.</p>
</dd>
</dl>
<p id="public-instance"><code class="docutils literal notranslate"><span class="pre">public_instance</span></code> :  <code class="docutils literal notranslate"><span class="pre">$SEARXNG_PUBLIC_INSTANCE</span></code></p>
<blockquote>
<div><p>Setting that allows to enable features specifically for public instances (not
needed for local usage).  By set to <code class="docutils literal notranslate"><span class="pre">true</span></code> the following features are
activated:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#module-searx.botdetection.link_token" title="searx.botdetection.link_token"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.botdetection.link_token</span></code></a> in the <a class="reference internal" href="#limiter"><span class="std std-ref">Limiter</span></a></p></li>
</ul>
</div></blockquote>
<dl id="image-proxy">
<dt><code class="docutils literal notranslate"><span class="pre">image_proxy</span></code><span class="classifier"><code class="docutils literal notranslate"><span class="pre">$SEARXNG_IMAGE_PROXY</span></code></span></dt><dd><p>Allow your instance of SearXNG of being able to proxy images.  Uses memory space.</p>
</dd>
</dl>
<dl id="method">
<dt><code class="docutils literal notranslate"><span class="pre">method</span></code><span class="classifier"><code class="docutils literal notranslate"><span class="pre">$SEARXNG_METHOD</span></code></span></dt><dd><p>Whether to use <code class="docutils literal notranslate"><span class="pre">GET</span></code> or <code class="docutils literal notranslate"><span class="pre">POST</span></code> HTTP method when searching.</p>
</dd>
</dl>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">default_http_headers</span></code> :</dt><dd><p>Set additional HTTP headers, see <a class="reference external" href="https://github.com/searx/searx/issues/715">#755</a></p>
</dd>
</dl>
</section>
<span id="document-admin/settings/settings_ui"></span><section id="ui">
<span id="settings-ui"></span><h4><code class="docutils literal notranslate"><span class="pre">ui:</span></code><a class="headerlink" href="#ui" title="Link to this heading">¶</a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">ui</span><span class="p">:</span>
<span class="w">  </span><span class="nt">default_locale</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="nt">query_in_title</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">infinite_scroll</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">center_alignment</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">cache_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://web.archive.org/web/</span>
<span class="w">  </span><span class="nt">default_theme</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">simple</span>
<span class="w">  </span><span class="nt">theme_args</span><span class="p">:</span>
<span class="w">    </span><span class="nt">simple_style</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">auto</span>
<span class="w">  </span><span class="nt">search_on_category_select</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">hotkeys</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="w">  </span><span class="nt">url_formatting</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pretty</span>
</pre></div>
</div>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">default_locale</span></code> :</dt><dd><p>SearXNG interface language.  If blank, the locale is detected by using the
browser language.  If it doesn’t work, or you are deploying a language
specific instance of SearXNG, a locale can be defined using an ISO language
code, like <code class="docutils literal notranslate"><span class="pre">fr</span></code>, <code class="docutils literal notranslate"><span class="pre">en</span></code>, <code class="docutils literal notranslate"><span class="pre">de</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">query_in_title</span></code> :</dt><dd><p>When true, the result page’s titles contains the query it decreases the
privacy, since the browser can records the page titles.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">infinite_scroll</span></code>:</dt><dd><p>When true, automatically loads the next page when scrolling to bottom of the current page.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">center_alignment</span></code><span class="classifier">default <code class="docutils literal notranslate"><span class="pre">false</span></code></span></dt><dd><p>When enabled, the results are centered instead of being in the left (or RTL)
side of the screen.  This setting only affects the <em>desktop layout</em>
(<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/client/simple/src/less/definitions.less">min-width: &#64;tablet</a>)</p>
</dd>
</dl>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">cache_url</span></code><span class="classifier"><code class="docutils literal notranslate"><span class="pre">https://web.archive.org/web/</span></code></span></dt><dd><p>URL prefix of the internet archive or cache, don’t forget trailing slash (if
needed).  The default is <a class="reference external" href="https://web.archive.org/web/">https://web.archive.org/web/</a> alternatives are:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://webcache.googleusercontent.com/search?q=cache">https://webcache.googleusercontent.com/search?q=cache</a>:</p></li>
<li><p><a class="reference external" href="https://archive.today/">https://archive.today/</a></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">default_theme</span></code> :</dt><dd><p>Name of the theme you want to use by default on your SearXNG instance.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">theme_args.simple_style</span></code>:</dt><dd><p>Style of simple theme: <code class="docutils literal notranslate"><span class="pre">auto</span></code>, <code class="docutils literal notranslate"><span class="pre">light</span></code>, <code class="docutils literal notranslate"><span class="pre">dark</span></code>, <code class="docutils literal notranslate"><span class="pre">black</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">results_on_new_tab</span></code>:</dt><dd><p>Open result links in a new tab by default.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">search_on_category_select</span></code>:</dt><dd><p>Perform search immediately if a category selected. Disable to select multiple categories.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">hotkeys</span></code>:</dt><dd><p>Hotkeys to use in the search interface: <code class="docutils literal notranslate"><span class="pre">default</span></code>, <code class="docutils literal notranslate"><span class="pre">vim</span></code> (Vim-like).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">url_formatting</span></code>:</dt><dd><p>Formatting type to use for result URLs: <code class="docutils literal notranslate"><span class="pre">pretty</span></code>, <code class="docutils literal notranslate"><span class="pre">full</span></code> or <code class="docutils literal notranslate"><span class="pre">host</span></code>.</p>
</dd>
</dl>
</section>
<span id="document-admin/settings/settings_redis"></span><section id="redis">
<span id="settings-redis"></span><h4><code class="docutils literal notranslate"><span class="pre">redis:</span></code><a class="headerlink" href="#redis" title="Link to this heading">¶</a></h4>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>SearXNG is switching from the Redis DB to <a class="reference external" href="https://valkey.io">Valkey</a>. The configuration
description of <a class="reference external" href="https://valkey.io">Valkey</a> in SearXNG can be found here: <a class="reference internal" href="#settings-valkey"><span class="std std-ref">settings</span></a>.</p>
</div>
<p>If you have built and installed a local Redis DB for SearXNG, it is recommended
to uninstall it now and replace it with the installation of a <a class="reference external" href="https://valkey.io">Valkey</a> DB.</p>
<section id="redis-developer-notes">
<span id="id1"></span><h5>Redis Developer Notes<a class="headerlink" href="#redis-developer-notes" title="Link to this heading">¶</a></h5>
<p>To uninstall SearXNG’s local Redis DB you can use:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="c1"># stop your SearXNG instance</span>
$<span class="w"> </span>./utils/searxng.sh<span class="w"> </span>remove.redis
</pre></div>
</div>
<p>Remove the Redis DB in your YAML setting:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">redis</span><span class="p">:</span>
<span class="w">  </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">unix:///usr/local/searxng-redis/run/redis.sock?db=0</span>
</pre></div>
</div>
<p>To install <a class="reference external" href="https://valkey.io">Valkey</a> read: <a class="reference internal" href="#valkey-developer-notes"><span class="std std-ref">Valkey Developer Notes</span></a></p>
</section>
</section>
<span id="document-admin/settings/settings_valkey"></span><section id="valkey">
<span id="settings-valkey"></span><h4><code class="docutils literal notranslate"><span class="pre">valkey:</span></code><a class="headerlink" href="#valkey" title="Link to this heading">¶</a></h4>
<p>A <a class="reference external" href="https://valkey.io">Valkey</a> DB can be connected by an URL, in section <a class="reference internal" href="#valkey-db"><span class="std std-ref">Valkey DB</span></a> you will
find a description to test your valkey connection in SearXNG.</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">url</span></code><span class="classifier"><code class="docutils literal notranslate"><span class="pre">$SEARXNG_VALKEY_URL</span></code></span></dt><dd><p>URL to connect valkey database. <a class="reference external" href="https://valkey-py.readthedocs.io/en/stable/connections.html#valkey.Valkey.from_url">There are several ways to specify a database
number</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>valkey://[[username]:[password]]@localhost:6379/0
valkeys://[[username]:[password]]@localhost:6379/0
unix://[[username]:[password]]@/path/to/socket.sock?db=0
</pre></div>
</div>
<p>When using sockets, don’t forget to check the access rights on the socket:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ls</span> <span class="o">-</span><span class="n">la</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">searxng</span><span class="o">-</span><span class="n">valkey</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">valkey</span><span class="o">.</span><span class="n">sock</span>
<span class="n">srwxrwx</span><span class="o">---</span> <span class="mi">1</span> <span class="n">searxng</span><span class="o">-</span><span class="n">valkey</span> <span class="n">searxng</span><span class="o">-</span><span class="n">valkey</span> <span class="o">...</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">searxng</span><span class="o">-</span><span class="n">valkey</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">valkey</span><span class="o">.</span><span class="n">sock</span>
</pre></div>
</div>
<p>In this example read/write access is given to the <em>searxng-valkey</em> group.  To
get access rights to valkey instance (the socket), your SearXNG (or even your
developer) account needs to be added to the <em>searxng-valkey</em> group.</p>
</dd>
</dl>
<section id="valkey-developer-notes">
<span id="id2"></span><h5>Valkey Developer Notes<a class="headerlink" href="#valkey-developer-notes" title="Link to this heading">¶</a></h5>
<p>To set up a local <a class="reference external" href="https://valkey.io">Valkey</a> DB, set the URL connector in your YAML setting:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">valkey</span><span class="p">:</span>
<span class="w">  </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">valkey://localhost:6379/0</span>
</pre></div>
</div>
<p>To install a local <a class="reference external" href="https://valkey.io">Valkey</a> DB from package manager read <a class="reference external" href="https://valkey.io/topics/installation/">Valkey-Installation</a>
or use:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./utils/searxng.sh<span class="w"> </span>install<span class="w"> </span>valkey
<span class="c1"># restart your SearXNG instance</span>
</pre></div>
</div>
</section>
</section>
<span id="document-admin/settings/settings_outgoing"></span><section id="outgoing">
<span id="settings-outgoing"></span><h4><code class="docutils literal notranslate"><span class="pre">outgoing:</span></code><a class="headerlink" href="#outgoing" title="Link to this heading">¶</a></h4>
<p>Communication with search engines.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">outgoing</span><span class="p">:</span>
<span class="w">  </span><span class="nt">request_timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.0</span><span class="w">       </span><span class="c1"># default timeout in seconds, can be override by engine</span>
<span class="w">  </span><span class="nt">max_request_timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.0</span><span class="w">  </span><span class="c1"># the maximum timeout in seconds</span>
<span class="w">  </span><span class="nt">useragent_suffix</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w">       </span><span class="c1"># information like an email address to the administrator</span>
<span class="w">  </span><span class="nt">pool_connections</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span><span class="w">      </span><span class="c1"># Maximum number of allowable connections, or null</span>
<span class="w">                             </span><span class="c1"># for no limits. The default is 100.</span>
<span class="w">  </span><span class="nt">pool_maxsize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w">           </span><span class="c1"># Number of allowable keep-alive connections, or null</span>
<span class="w">                             </span><span class="c1"># to always allow. The default is 10.</span>
<span class="w">  </span><span class="nt">enable_http2</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">         </span><span class="c1"># See https://www.python-httpx.org/http2/</span>
<span class="w">  </span><span class="c1"># uncomment below section if you want to use a custom server certificate</span>
<span class="w">  </span><span class="c1"># see https://www.python-httpx.org/advanced/#changing-the-verification-defaults</span>
<span class="w">  </span><span class="c1"># and https://www.python-httpx.org/compatibility/#ssl-configuration</span>
<span class="w">  </span><span class="c1">#  verify: ~/.mitmproxy/mitmproxy-ca-cert.cer</span>
<span class="w">  </span><span class="c1">#</span>
<span class="w">  </span><span class="c1"># uncomment below section if you want to use a proxyq see: SOCKS proxies</span>
<span class="w">  </span><span class="c1">#   https://2.python-requests.org/en/latest/user/advanced/#proxies</span>
<span class="w">  </span><span class="c1"># are also supported: see</span>
<span class="w">  </span><span class="c1">#   https://2.python-requests.org/en/latest/user/advanced/#socks</span>
<span class="w">  </span><span class="c1">#</span>
<span class="w">  </span><span class="c1">#  proxies:</span>
<span class="w">  </span><span class="c1">#    all://:</span>
<span class="w">  </span><span class="c1">#      - http://proxy1:8080</span>
<span class="w">  </span><span class="c1">#      - http://proxy2:8080</span>
<span class="w">  </span><span class="c1">#</span>
<span class="w">  </span><span class="c1">#  using_tor_proxy: true</span>
<span class="w">  </span><span class="c1">#</span>
<span class="w">  </span><span class="c1"># Extra seconds to add in order to account for the time taken by the proxy</span>
<span class="w">  </span><span class="c1">#</span>
<span class="w">  </span><span class="c1">#  extra_proxy_timeout: 10.0</span>
<span class="w">  </span><span class="c1">#</span>
</pre></div>
</div>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">request_timeout</span></code> :</dt><dd><p>Global timeout of the requests made to others engines in seconds.  A bigger
timeout will allow to wait for answers from slow engines, but in consequence
will slow SearXNG reactivity (the result page may take the time specified in the
timeout to load).  Can be override by <code class="docutils literal notranslate"><span class="pre">timeout</span></code> in the <a class="reference internal" href="#settings-engines"><span class="std std-ref">engines:</span></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">useragent_suffix</span></code> :</dt><dd><p>Suffix to the user-agent SearXNG uses to send requests to others engines.  If an
engine wish to block you, a contact info here may be useful to avoid that.</p>
</dd>
</dl>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">pool_maxsize</span></code>:</dt><dd><p>Number of allowable keep-alive connections, or <code class="docutils literal notranslate"><span class="pre">null</span></code> to always allow.  The
default is 10.  See <code class="docutils literal notranslate"><span class="pre">max_keepalive_connections</span></code> <a class="reference external" href="https://www.python-httpx.org/advanced/#pool-limit-configuration">Pool limit configuration</a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pool_connections</span></code> :</dt><dd><p>Maximum number of allowable connections, or <code class="docutils literal notranslate"><span class="pre">null</span></code> # for no limits.  The
default is 100.  See <code class="docutils literal notranslate"><span class="pre">max_connections</span></code> <a class="reference external" href="https://www.python-httpx.org/advanced/#pool-limit-configuration">Pool limit configuration</a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">keepalive_expiry</span></code> :</dt><dd><p>Number of seconds to keep a connection in the pool.  By default 5.0 seconds.
See <code class="docutils literal notranslate"><span class="pre">keepalive_expiry</span></code> <a class="reference external" href="https://www.python-httpx.org/advanced/#pool-limit-configuration">Pool limit configuration</a>.</p>
</dd>
</dl>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">proxies</span></code> :</dt><dd><p>Define one or more proxies you wish to use, see <a class="reference external" href="https://www.python-httpx.org/advanced/#http-proxying">httpx proxies</a>.
If there are more than one proxy for one protocol (http, https),
requests to the engines are distributed in a round-robin fashion.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">source_ips</span></code> :</dt><dd><p>If you use multiple network interfaces, define from which IP the requests must
be made. Example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">0.0.0.0</span></code> any local IPv4 address.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">::</span></code> any local IPv6 address.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">192.168.0.1</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">192.168.0.1,</span> <span class="pre">192.168.0.2</span> <span class="pre">]</span></code> these two specific IP addresses</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fe80::60a2:1691:e5a2:ee1f</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fe80::60a2:1691:e5a2:ee1f/126</span></code> all IP addresses in this network.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">192.168.0.1,</span> <span class="pre">fe80::/126</span> <span class="pre">]</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">retries</span></code> :</dt><dd><p>Number of retry in case of an HTTP error.  On each retry, SearXNG uses an
different proxy and source ip.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">enable_http2</span></code> :</dt><dd><p>Enable by default. Set to <code class="docutils literal notranslate"><span class="pre">false</span></code> to disable HTTP/2.</p>
</dd>
</dl>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">verify</span></code>:<span class="classifier"><code class="docutils literal notranslate"><span class="pre">$SSL_CERT_FILE</span></code>, <code class="docutils literal notranslate"><span class="pre">$SSL_CERT_DIR</span></code></span></dt><dd><p>Allow to specify a path to certificate.
see <a class="reference external" href="https://www.python-httpx.org/advanced/#changing-the-verification-defaults">httpx verification defaults</a>.</p>
<p>In addition to <code class="docutils literal notranslate"><span class="pre">verify</span></code>, SearXNG supports the <code class="docutils literal notranslate"><span class="pre">$SSL_CERT_FILE</span></code> (for a file) and
<code class="docutils literal notranslate"><span class="pre">$SSL_CERT_DIR</span></code> (for a directory) OpenSSL variables.
see <a class="reference external" href="https://www.python-httpx.org/compatibility/#ssl-configuration">httpx ssl configuration</a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">max_redirects</span></code> :</dt><dd><p>30 by default. Maximum redirect before it is an error.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">using_tor_proxy</span></code> :</dt><dd><p>Using tor proxy (<code class="docutils literal notranslate"><span class="pre">true</span></code>) or not (<code class="docutils literal notranslate"><span class="pre">false</span></code>) for all engines.  The default is
<code class="docutils literal notranslate"><span class="pre">false</span></code> and can be overwritten in the <a class="reference internal" href="#settings-engines"><span class="std std-ref">engines:</span></a></p>
</dd>
</dl>
</section>
<span id="document-admin/settings/settings_categories_as_tabs"></span><section id="categories-as-tabs">
<span id="settings-categories-as-tabs"></span><h4><code class="docutils literal notranslate"><span class="pre">categories_as_tabs:</span></code><a class="headerlink" href="#categories-as-tabs" title="Link to this heading">¶</a></h4>
<p>A list of the categories that are displayed as tabs in the user interface.
Categories not listed here can still be searched with the <span class="xref std std-ref">search-syntax</span>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">categories_as_tabs</span><span class="p">:</span>
<span class="w">  </span><span class="nt">general</span><span class="p">:</span>
<span class="w">  </span><span class="nt">images</span><span class="p">:</span>
<span class="w">  </span><span class="nt">videos</span><span class="p">:</span>
<span class="w">  </span><span class="nt">news</span><span class="p">:</span>
<span class="w">  </span><span class="nt">map</span><span class="p">:</span>
<span class="w">  </span><span class="nt">music</span><span class="p">:</span>
<span class="w">  </span><span class="nt">it</span><span class="p">:</span>
<span class="w">  </span><span class="nt">science</span><span class="p">:</span>
<span class="w">  </span><span class="nt">files</span><span class="p">:</span>
<span class="w">  </span><span class="nt">social media</span><span class="p">:</span>
</pre></div>
</div>
<p>Engines are added to <code class="docutils literal notranslate"><span class="pre">categories:</span></code> (compare <a class="reference internal" href="#engine-categories"><span class="std std-ref">categories</span></a>), the
categories listed in <code class="docutils literal notranslate"><span class="pre">categories_as_tabs</span></code> are shown as tabs in the UI.  If
there are no active engines in a category, the tab is not displayed (e.g. if a
user disables all engines in a category).</p>
<p>On the preferences page (<code class="docutils literal notranslate"><span class="pre">/preferences</span></code>) – under <em>engines</em> – there is an
additional tab, called <em>other</em>.  In this tab are all engines listed that are not
in one of the UI tabs (not included in <code class="docutils literal notranslate"><span class="pre">categories_as_tabs</span></code>).</p>
</section>
<span id="document-admin/settings/settings_plugins"></span><section id="plugins">
<span id="settings-plugins"></span><h4><code class="docutils literal notranslate"><span class="pre">plugins:</span></code><a class="headerlink" href="#plugins" title="Link to this heading">¶</a></h4>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>The <code class="docutils literal notranslate"><span class="pre">enabled_plugins:</span></code> section in SearXNG’s settings no longer exists.
There is no longer a distinction between built-in and external plugin, all
plugins are registered via the settings in the <code class="docutils literal notranslate"><span class="pre">plugins:</span></code> section.</p>
</div>
<aside class="sidebar">
<p class="sidebar-title">Further reading ..</p>
<ul class="simple">
<li><p><a class="reference internal" href="#plugins-admin"><span class="std std-ref">List of plugins</span></a></p></li>
<li><p><a class="reference internal" href="#dev-plugin"><span class="std std-ref">Plugin Development</span></a></p></li>
</ul>
</aside>
<p>In SearXNG, plugins can be registered in the <a class="reference internal" href="#searx.plugins.PluginStorage" title="searx.plugins.PluginStorage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PluginStore</span></code></a> via a fully qualified class name.</p>
<p>A configuration (<a class="reference internal" href="#searx.plugins.PluginCfg" title="searx.plugins.PluginCfg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PluginCfg</span></code></a>) can be
transferred to the plugin, e.g. to activate it by default / <em>opt-in</em> or
<em>opt-out</em> from user’s point of view.</p>
<p>Please note that some plugins, such as the <a class="reference internal" href="#hostnames-plugin"><span class="std std-ref">Hostnames</span></a> plugin,
require further configuration before they can be made available for selection.</p>
<p>By default the <a class="reference internal" href="#settings-built-in-plugins"><span class="std std-ref">built-in plugins</span></a> are loaded.  To change the list
of plugins to be loaded, the value for <code class="docutils literal notranslate"><span class="pre">plugins:</span></code> in
<code class="docutils literal notranslate"><span class="pre">/etc/searxng/settings.yml</span></code> must be overwritten.</p>
<p>Following is an example that uses <a class="reference internal" href="#settings-use-default-settings"><span class="std std-ref">use_default_settings</span></a> and only
two plugins are registered: the calculator can be activated by the user and the
unit converter is active by default.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">use_default_settings</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="nt">plugins</span><span class="p">:</span>

<span class="w">  </span><span class="nt">searx.plugins.calculator.SXNGPlugin</span><span class="p">:</span>
<span class="w">    </span><span class="nt">active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="w">  </span><span class="nt">searx.plugins.unit_converter.SXNGPlugin</span><span class="p">:</span>
<span class="w">    </span><span class="nt">active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
<p>To prevent any plugins from loading, the following setting can be used:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">use_default_settings</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="nt">plugins</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span>
</pre></div>
</div>
<section id="built-in-plugins">
<span id="settings-built-in-plugins"></span><h5>built-in plugins<a class="headerlink" href="#built-in-plugins" title="Link to this heading">¶</a></h5>
<p>The built-in plugins are all located in the namespace <cite>searx.plugins</cite>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">plugins</span><span class="p">:</span>

<span class="w">  </span><span class="nt">searx.plugins.calculator.SXNGPlugin</span><span class="p">:</span>
<span class="w">    </span><span class="nt">active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">  </span><span class="nt">searx.plugins.hash_plugin.SXNGPlugin</span><span class="p">:</span>
<span class="w">    </span><span class="nt">active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">  </span><span class="nt">searx.plugins.self_info.SXNGPlugin</span><span class="p">:</span>
<span class="w">    </span><span class="nt">active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">  </span><span class="nt">searx.plugins.tracker_url_remover.SXNGPlugin</span><span class="p">:</span>
<span class="w">    </span><span class="nt">active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">  </span><span class="nt">searx.plugins.unit_converter.SXNGPlugin</span><span class="p">:</span>
<span class="w">    </span><span class="nt">active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">  </span><span class="nt">searx.plugins.ahmia_filter.SXNGPlugin</span><span class="p">:</span>
<span class="w">    </span><span class="nt">active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">  </span><span class="nt">searx.plugins.hostnames.SXNGPlugin</span><span class="p">:</span>
<span class="w">    </span><span class="nt">active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">  </span><span class="nt">searx.plugins.oa_doi_rewrite.SXNGPlugin</span><span class="p">:</span>
<span class="w">    </span><span class="nt">active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="w">  </span><span class="nt">searx.plugins.tor_check.SXNGPlugin</span><span class="p">:</span>
<span class="w">    </span><span class="nt">active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
</div>
</section>
<section id="external-plugins">
<span id="settings-external-plugins"></span><h5>external plugins<a class="headerlink" href="#external-plugins" title="Link to this heading">¶</a></h5>
<p>SearXNG supports <em>external plugins</em> / there is no need to install one, SearXNG
runs out of the box.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/return42/tgwf-searx-plugins/">Only show green hosted results</a></p></li>
<li></li>
</ul>
</section>
</section>
</div>
</section>
<span id="document-admin/installation"></span><section id="installation">
<span id="id1"></span><h3>Installation<a class="headerlink" href="#installation" title="Link to this heading">¶</a></h3>
<p><em>You’re spoilt for choice</em>, choose your preferred method of installation.</p>
<ul class="simple">
<li><p><a class="reference internal" href="#installation-container"><span class="std std-ref">Installation container</span></a></p></li>
<li><p><a class="reference internal" href="#installation-scripts"><span class="std std-ref">Installation Script</span></a></p></li>
<li><p><a class="reference internal" href="#installation-basic"><span class="std std-ref">Step by step installation</span></a></p></li>
</ul>
<p>The <a class="reference internal" href="#installation-basic"><span class="std std-ref">Step by step installation</span></a> is an excellent illustration of <em>how a SearXNG
instance is build up</em> (see <a class="reference internal" href="#architecture-uwsgi"><span class="std std-ref">uWSGI Setup</span></a>).  If you do not have any
special preferences, it’s recommended to use the <a class="reference internal" href="#installation-container"><span class="std std-ref">Installation container</span></a> or the
<a class="reference internal" href="#installation-scripts"><span class="std std-ref">Installation Script</span></a>.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>SearXNG is growing rapidly, you should regularly read our <a class="reference internal" href="#migrate-and-stay-tuned"><span class="std std-ref">Migrate and stay tuned!</span></a> section.  If you want to upgrade an existing instance, you
should read this section first!</p>
</div>
</section>
<span id="document-admin/installation-docker"></span><section id="installation-container">
<span id="id1"></span><h3>Installation container<a class="headerlink" href="#installation-container" title="Link to this heading">¶</a></h3>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.docker.com/get-started/docker-overview">Docker 101</a></p></li>
<li><p><a class="reference external" href="https://docs.docker.com/get-started/docker_cheatsheet.pdf">Docker cheat sheet (PDF doc)</a></p></li>
<li><p><a class="reference external" href="https://github.com/containers/podman/blob/main/docs/tutorials/rootless_tutorial.md">Podman rootless containers</a></p></li>
</ul>
</aside>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Understanding container architecture basics is essential for properly
maintaining your SearXNG instance.  This guide assumes familiarity with
container concepts and provides deployment steps at a high level.</p>
<p>If you’re new to containers, we recommend learning the fundamentals at
<a class="reference external" href="https://docs.docker.com/get-started/docker-overview">Docker 101</a> before proceeding.</p>
</div>
<p>Container images are the basis for deployments in containerized environments,
<a class="reference external" href="https://github.com/searxng/searxng-docker">Docker compose</a>, Kubernetes and more.</p>
<section id="installation">
<span id="container-installation"></span><h4>Installation<a class="headerlink" href="#installation" title="Link to this heading">¶</a></h4>
<section id="prerequisites">
<span id="container-prerequisites"></span><h5>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading">¶</a></h5>
<p>You need a working Docker or Podman installation on your system.  Choose the
option that works best for your environment:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.docker.com/get-docker/">Docker</a> (recommended for most users)</p></li>
<li><p><a class="reference external" href="https://podman.io/docs/installation">Podman</a></p></li>
</ul>
<p>In the case of Docker, you need to add the user running the container to the
<code class="docutils literal notranslate"><span class="pre">docker</span></code> group and restart the session:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>usermod<span class="w"> </span>-aG<span class="w"> </span>docker<span class="w"> </span><span class="nv">$USER</span>
</pre></div>
</div>
<p>In the case of Podman, no additional steps are generally required, but there
are some considerations when running <a class="reference external" href="https://github.com/containers/podman/blob/main/docs/tutorials/rootless_tutorial.md">Podman rootless containers</a>.</p>
</section>
<section id="pulling-images">
<span id="container-pulling-images"></span><h5>Pulling images<a class="headerlink" href="#pulling-images" title="Link to this heading">¶</a></h5>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>DockerHub now applies rate limits to unauthenticated image pulls.  If you
are affected by this, you can use the <a class="reference external" href="https://ghcr.io/searxng/searxng">GHCR mirror</a> instead.</p>
</div>
<p>The official images are mirrored at:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://hub.docker.com/r/searxng/searxng">DockerHub mirror</a></p></li>
<li><p><a class="reference external" href="https://ghcr.io/searxng/searxng">GHCR mirror</a> (GitHub Container Registry)</p></li>
</ul>
<p>Pull the latest image:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>docker<span class="w"> </span>pull<span class="w"> </span>docker.io/searxng/searxng:latest
</pre></div>
</div>
<p>.. or if you want to lock in to a specific version:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>docker<span class="w"> </span>pull<span class="w"> </span>docker.io/searxng/searxng:2025.8.1-3d96414
</pre></div>
</div>
</section>
</section>
<section id="instancing">
<span id="container-instancing"></span><h4>Instancing<a class="headerlink" href="#instancing" title="Link to this heading">¶</a></h4>
<p>This section is intended for advanced users who need custom deployments.  We
recommend using <a class="reference external" href="https://github.com/searxng/searxng-docker">Docker compose</a>, which provides a preconfigured environment
with sensible defaults.</p>
<p>Basic container instancing example:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create directories for configuration and persistent data</span>
$<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>./searxng/config/<span class="w"> </span>./searxng/data/
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>./searxng/

<span class="c1"># Run the container</span>
$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>--name<span class="w"> </span>searxng<span class="w"> </span>--replace<span class="w"> </span>-d<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-p<span class="w"> </span><span class="m">8888</span>:8080<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-v<span class="w"> </span><span class="s2">&quot;./config/:/etc/searxng/&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-v<span class="w"> </span><span class="s2">&quot;./data/:/var/cache/searxng/&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>docker.io/searxng/searxng:latest
</pre></div>
</div>
<p>This will start SearXNG in the background, accessible at <a class="reference external" href="http://localhost:8888">http://localhost:8888</a></p>
<section id="management">
<span id="container-management"></span><h5>Management<a class="headerlink" href="#management" title="Link to this heading">¶</a></h5>
<p>List running containers:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>docker<span class="w"> </span>container<span class="w"> </span>list
CONTAINER<span class="w"> </span>ID<span class="w">  </span>IMAGE<span class="w">  </span>...<span class="w">  </span>CREATED<span class="w">        </span>PORTS<span class="w">                   </span>NAMES
1af574997e63<span class="w">  </span>...<span class="w">    </span>...<span class="w">  </span><span class="m">3</span><span class="w"> </span>minutes<span class="w"> </span>ago<span class="w">  </span><span class="m">0</span>.0.0.0:8888-&gt;8080/tcp<span class="w">  </span>searxng
</pre></div>
</div>
<p>Access the container shell (troubleshooting):</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>docker<span class="w"> </span>container<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>--user<span class="w"> </span>root<span class="w"> </span>searxng<span class="w"> </span>/bin/sh<span class="w"> </span>-l
1af574997e63:/usr/local/searxng#
</pre></div>
</div>
<p>Stop and remove the container:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>docker<span class="w"> </span>container<span class="w"> </span>stop<span class="w"> </span>searxng
$<span class="w"> </span>docker<span class="w"> </span>container<span class="w"> </span>rm<span class="w"> </span>searxng
</pre></div>
</div>
</section>
</section>
<section id="volumes">
<span id="container-volumes"></span><h4>Volumes<a class="headerlink" href="#volumes" title="Link to this heading">¶</a></h4>
<p>Two volumes are exposed that should be mounted to preserve its contents:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">/etc/searxng</span></code>: Configuration files (settings.yml, etc.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/var/cache/searxng</span></code>: Persistent data (faviconcache.db, etc.)</p></li>
</ul>
</section>
<section id="environment-variables">
<span id="container-environment-variables"></span><h4>Environment variables<a class="headerlink" href="#environment-variables" title="Link to this heading">¶</a></h4>
<p>The following environment variables can be configured:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$SEARXNG_*</span></code>: Controls the SearXNG configuration options, look out for
environment <code class="docutils literal notranslate"><span class="pre">$SEARXNG_*</span></code> in <a class="reference internal" href="#settings-server"><span class="std std-ref">server:</span></a> and <a class="reference internal" href="#settings-general"><span class="std std-ref">general:</span></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$GRANIAN_*</span></code>: Controls the <a class="reference internal" href="#granian-configuration"><span class="std std-ref">Granian server options</span></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$FORCE_OWNERSHIP</span></code>: Ensures mounted volumes/files are owned by the
<code class="docutils literal notranslate"><span class="pre">searxng:searxng</span></code> user (default: <code class="docutils literal notranslate"><span class="pre">true</span></code>)</p></li>
</ul>
<p>Container internal paths (don’t modify unless you know what you’re doing):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$CONFIG_PATH</span></code>: Path to the SearXNG configuration directory (default: <code class="docutils literal notranslate"><span class="pre">/etc/searxng</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$SEARXNG_SETTINGS_PATH</span></code>: Path to the SearXNG settings file (default: <code class="docutils literal notranslate"><span class="pre">$CONFIG_PATH/settings.yml</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$DATA_PATH</span></code>: Path to the SearXNG data directory (default: <code class="docutils literal notranslate"><span class="pre">/var/cache/searxng</span></code>)</p></li>
</ul>
</section>
<section id="custom-images">
<span id="container-custom-images"></span><h4>Custom images<a class="headerlink" href="#custom-images" title="Link to this heading">¶</a></h4>
<p>To build your own SearXNG container image from source (please note, custom
container images are not officially supported):</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/searxng/searxng.git
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>./searxng/

<span class="c1"># Run the container build script</span>
$<span class="w"> </span>make<span class="w"> </span>container

$<span class="w"> </span>docker<span class="w"> </span>images
REPOSITORY<span class="w">                 </span>TAG<span class="w">                 </span>IMAGE<span class="w"> </span>ID<span class="w">  </span>CREATED<span class="w">             </span>SIZE
localhost/searxng/searxng<span class="w">  </span><span class="m">2025</span>.8.1-3d96414<span class="w">    </span>...<span class="w">       </span>About<span class="w"> </span>a<span class="w"> </span>minute<span class="w"> </span>ago<span class="w">  </span><span class="m">183</span><span class="w"> </span>MB
localhost/searxng/searxng<span class="w">  </span>latest<span class="w">              </span>...<span class="w">       </span>About<span class="w"> </span>a<span class="w"> </span>minute<span class="w"> </span>ago<span class="w">  </span><span class="m">183</span><span class="w"> </span>MB
localhost/searxng/searxng<span class="w">  </span>builder<span class="w">             </span>...<span class="w">       </span>About<span class="w"> </span>a<span class="w"> </span>minute<span class="w"> </span>ago<span class="w">  </span><span class="m">524</span><span class="w"> </span>MB
ghcr.io/searxng/base<span class="w">       </span>searxng-builder<span class="w">     </span>...<span class="w">       </span><span class="m">2</span><span class="w"> </span>days<span class="w"> </span>ago<span class="w">          </span><span class="m">378</span><span class="w"> </span>MB
ghcr.io/searxng/base<span class="w">       </span>searxng<span class="w">             </span>...<span class="w">       </span><span class="m">2</span><span class="w"> </span>days<span class="w"> </span>ago<span class="w">          </span><span class="m">42</span>.2<span class="w"> </span>MB
</pre></div>
</div>
</section>
</section>
<span id="document-admin/installation-scripts"></span><section id="installation-script">
<span id="installation-scripts"></span><h3>Installation Script<a class="headerlink" href="#installation-script" title="Link to this heading">¶</a></h3>
<aside class="sidebar">
<p class="sidebar-title">Update the OS first!</p>
<p>To avoid unwanted side effects, update your OS before installing SearXNG.</p>
</aside>
<p>The following will install a setup as shown in <a class="reference internal" href="#arch-public"><span class="std std-ref">the reference architecture</span></a>.  First you need to get a clone of the repository.  The clone is only needed for
the installation procedure and some maintenance tasks.</p>
<aside class="sidebar">
<p class="sidebar-title">further read</p>
<ul class="simple">
<li><p><a class="reference internal" href="#toolboxing"><span class="std std-ref">DevOps tooling box</span></a></p></li>
</ul>
</aside>
<p>Jump to a folder that is readable by <em>others</em> and start to clone SearXNG,
alternatively you can create your own fork and clone from there.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>~/Downloads
$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/searxng/searxng.git<span class="w"> </span>searxng
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>searxng
</pre></div>
</div>
<aside class="sidebar">
<p class="sidebar-title">further read</p>
<ul class="simple">
<li><p><a class="reference internal" href="#inspect-searxng"><span class="std std-ref">How to inspect &amp; debug</span></a></p></li>
</ul>
</aside>
<p>To install a SearXNG <a class="reference internal" href="#use-default-settings-yml"><span class="std std-ref">reference setup</span></a>
including a <a class="reference internal" href="#architecture-uwsgi"><span class="std std-ref">uWSGI setup</span></a> as described in the
<a class="reference internal" href="#installation-basic"><span class="std std-ref">Step by step installation</span></a> and in the <a class="reference internal" href="#searxng-uwsgi"><span class="std std-ref">uWSGI</span></a> section type:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>-H<span class="w"> </span>./utils/searxng.sh<span class="w"> </span>install<span class="w"> </span>all
</pre></div>
</div>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>For the installation procedure, use a <em>sudoer</em> login to run the scripts.  If
you install from <code class="docutils literal notranslate"><span class="pre">root</span></code>, take into account that the scripts are creating a
<code class="docutils literal notranslate"><span class="pre">searxng</span></code> user.  In the installation procedure this new created user does
need to have read access to the cloned SearXNG repository, which is not the case if you clone
it into a folder below <code class="docutils literal notranslate"><span class="pre">/root</span></code>!</p>
</div>
<aside class="sidebar">
<p class="sidebar-title">further read</p>
<ul class="simple">
<li><p><a class="reference internal" href="#update-searxng"><span class="std std-ref">How to update</span></a></p></li>
</ul>
</aside>
<p>When all services are installed and running fine, you can add SearXNG to your
HTTP server.  We do not have any preferences regarding the HTTP server, you can use
whatever you prefer.</p>
<p>We implemented installation procedures for:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#installation-nginx"><span class="std std-ref">NGINX</span></a></p></li>
<li><p><a class="reference internal" href="#installation-apache"><span class="std std-ref">Apache</span></a></p></li>
</ul>
</section>
<span id="document-admin/installation-searxng"></span><section id="step-by-step-installation">
<span id="installation-basic"></span><h3>Step by step installation<a class="headerlink" href="#step-by-step-installation" title="Link to this heading">¶</a></h3>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#install-packages" id="id2">Install packages</a></p></li>
<li><p><a class="reference internal" href="#create-user" id="id3">Create user</a></p></li>
<li><p><a class="reference internal" href="#install-searxng-dependencies" id="id4">Install SearXNG &amp; dependencies</a></p></li>
<li><p><a class="reference internal" href="#configuration" id="id5">Configuration</a></p></li>
<li><p><a class="reference internal" href="#check" id="id6">Check</a></p></li>
</ul>
</nav>
<p>In this section we show the setup of a SearXNG instance that will be installed
by the <a class="reference internal" href="#installation-scripts"><span class="std std-ref">Installation Script</span></a>.</p>
<section id="install-packages">
<span id="id1"></span><h4><a class="toc-backref" href="#id2" role="doc-backlink">Install packages</a><a class="headerlink" href="#install-packages" title="Link to this heading">¶</a></h4>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>This installs also the packages needed by <a class="reference internal" href="#searxng-uwsgi"><span class="std std-ref">uWSGI</span></a></p>
</div>
</section>
<section id="create-user">
<span id="create-searxng-user"></span><h4><a class="toc-backref" href="#id3" role="doc-backlink">Create user</a><a class="headerlink" href="#create-user" title="Link to this heading">¶</a></h4>
</section>
<section id="install-searxng-dependencies">
<span id="searxng-src"></span><h4><a class="toc-backref" href="#id4" role="doc-backlink">Install SearXNG &amp; dependencies</a><a class="headerlink" href="#install-searxng-dependencies" title="Link to this heading">¶</a></h4>
<p>Start a interactive shell from new created user and clone SearXNG:</p>
<p>In the same shell create <em>virtualenv</em>:</p>
<p>To install SearXNG’s dependencies, exit the SearXNG <em>bash</em> session you opened above
and start a new one.  Before installing, check if your <em>virtualenv</em> was sourced
from the login (<em>~/.profile</em>):</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Open a second terminal for the configuration tasks and leave the <code class="docutils literal notranslate"><span class="pre">(searx)$</span></code>
terminal open for the tasks below.</p>
</div>
</section>
<section id="configuration">
<span id="use-default-settings-yml"></span><h4><a class="toc-backref" href="#id5" role="doc-backlink">Configuration</a><a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h4>
<aside class="sidebar">
<p class="sidebar-title"><code class="docutils literal notranslate"><span class="pre">use_default_settings:</span> <span class="pre">True</span></code></p>
<ul class="simple">
<li><p><a class="reference internal" href="#settings-yml"><span class="std std-ref">settings.yml</span></a></p></li>
<li><p><a class="reference internal" href="#settings-location"><span class="std std-ref">settings.yml location</span></a></p></li>
<li><p><a class="reference internal" href="#settings-use-default-settings"><span class="std std-ref">use_default_settings</span></a></p></li>
<li><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/utils/templates/etc/searxng/settings.yml">/etc/searxng/settings.yml</a></p></li>
</ul>
</aside>
<p>To create a initial <code class="docutils literal notranslate"><span class="pre">/etc/searxng/settings.yml</span></code> we recommend to start with a
copy of the file <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/utils/templates/etc/searxng/settings.yml">git://utils/templates/etc/searxng/settings.yml</a>.  This setup
<a class="reference internal" href="#settings-use-default-settings"><span class="std std-ref">use default settings</span></a> from
<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/settings.yml">git://searx/settings.yml</a> and is shown in the tab <em>“Use default settings”</em>
below. This setup:</p>
<ul class="simple">
<li><p>enables <a class="reference internal" href="#limiter"><span class="std std-ref">limiter</span></a> to protect against bots</p></li>
<li><p>enables <a class="reference internal" href="#image-proxy"><span class="std std-ref">image proxy</span></a> for better privacy</p></li>
</ul>
<p>Modify the <code class="docutils literal notranslate"><span class="pre">/etc/searxng/settings.yml</span></code> to your needs:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-VXNlIGRlZmF1bHQgc2V0dGluZ3M=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-VXNlIGRlZmF1bHQgc2V0dGluZ3M=" name="VXNlIGRlZmF1bHQgc2V0dGluZ3M=" role="tab" tabindex="0">Use default settings</button><button aria-controls="panel-0-c2Vhcngvc2V0dGluZ3MueW1s" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-c2Vhcngvc2V0dGluZ3MueW1s" name="c2Vhcngvc2V0dGluZ3MueW1s" role="tab" tabindex="-1">searx/settings.yml</button></div><div aria-labelledby="tab-0-VXNlIGRlZmF1bHQgc2V0dGluZ3M=" class="sphinx-tabs-panel group-tab" id="panel-0-VXNlIGRlZmF1bHQgc2V0dGluZ3M=" name="VXNlIGRlZmF1bHQgc2V0dGluZ3M=" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># SearXNG settings</span>

<span class="nt">use_default_settings</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="nt">general</span><span class="p">:</span>
<span class="w">  </span><span class="nt">debug</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">instance_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;SearXNG&quot;</span>

<span class="nt">search</span><span class="p">:</span>
<span class="w">  </span><span class="nt">safe_search</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">  </span><span class="nt">autocomplete</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;duckduckgo&#39;</span>
<span class="w">  </span><span class="nt">formats</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">html</span>

<span class="nt">server</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># Is overwritten by ${SEARXNG_SECRET}</span>
<span class="w">  </span><span class="nt">secret_key</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ultrasecretkey&quot;</span>
<span class="w">  </span><span class="nt">limiter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">image_proxy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="c1"># public URL of the instance, to ensure correct inbound links. Is overwritten</span>
<span class="w">  </span><span class="c1"># by ${SEARXNG_BASE_URL}.</span>
<span class="w">  </span><span class="c1"># base_url: http://example.com/location</span>

<span class="nt">valkey</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># URL to connect valkey database. Is overwritten by ${SEARXNG_VALKEY_URL}.</span>
<span class="w">  </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">valkey://localhost:6379/0</span>
</pre></div>
</div>
<p>To see the entire file jump to <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/utils/templates/etc/searxng/settings.yml">git://utils/templates/etc/searxng/settings.yml</a></p>
</div><div aria-labelledby="tab-0-c2Vhcngvc2V0dGluZ3MueW1s" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-c2Vhcngvc2V0dGluZ3MueW1s" name="c2Vhcngvc2V0dGluZ3MueW1s" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">general</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># Debug mode, only for development. Is overwritten by ${SEARXNG_DEBUG}</span>
<span class="w">  </span><span class="nt">debug</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="c1"># displayed name</span>
<span class="w">  </span><span class="nt">instance_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Infinity</span><span class="nv"> </span><span class="s">Search&quot;</span>
<span class="w">  </span><span class="c1"># For example: https://example.com/privacy</span>
<span class="w">  </span><span class="nt">privacypolicy_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="c1"># use true to use your own donation page written in searx/info/en/donate.md</span>
<span class="w">  </span><span class="c1"># use false to disable the donation link</span>
<span class="w">  </span><span class="nt">donation_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="c1"># mailto:contact@example.com</span>
<span class="w">  </span><span class="nt">contact_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="c1"># record stats</span>
<span class="w">  </span><span class="nt">enable_metrics</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="c1"># expose stats in open metrics format at /metrics</span>
<span class="w">  </span><span class="c1"># leave empty to disable (no password set)</span>
<span class="w">  </span><span class="c1"># open_metrics: &lt;password&gt;</span>
<span class="w">  </span><span class="nt">open_metrics</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&#39;</span>

<span class="nt">brand</span><span class="p">:</span>
<span class="w">  </span><span class="nt">new_issue_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/searxng/searxng/issues/new</span>
<span class="w">  </span><span class="nt">docs_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://docs.searxng.org/</span>
<span class="w">  </span><span class="nt">public_instances</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://searx.space</span>
<span class="w">  </span><span class="nt">wiki_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/searxng/searxng/wiki</span>
<span class="w">  </span><span class="nt">issue_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/searxng/searxng/issues</span>
<span class="w">  </span><span class="c1"># custom:</span>
<span class="w">  </span><span class="c1">#   maintainer: &quot;Jon Doe&quot;</span>
<span class="w">  </span><span class="c1">#   # Custom entries in the footer: [title]: [link]</span>
<span class="w">  </span><span class="c1">#   links:</span>
<span class="w">  </span><span class="c1">#     Uptime: https://uptime.searxng.org/history/darmarit-org</span>
<span class="w">  </span><span class="c1">#     About: &quot;https://searxng.org&quot;</span>

<span class="nt">search</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># Filter results. 0: None, 1: Moderate, 2: Strict</span>
<span class="w">  </span><span class="nt">safe_search</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">  </span><span class="c1"># Existing autocomplete backends: &quot;360search&quot;, &quot;baidu&quot;, &quot;brave&quot;, &quot;dbpedia&quot;, &quot;duckduckgo&quot;, &quot;google&quot;, &quot;yandex&quot;,</span>
<span class="w">  </span><span class="c1"># &quot;mwmbl&quot;, &quot;naver&quot;, &quot;seznam&quot;, &quot;sogou&quot;, &quot;startpage&quot;, &quot;stract&quot;, &quot;swisscows&quot;, &quot;quark&quot;, &quot;qwant&quot;, &quot;wikipedia&quot; -</span>
<span class="w">  </span><span class="c1"># leave blank to turn it off by default.</span>
<span class="w">  </span><span class="nt">autocomplete</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="c1"># minimun characters to type before autocompleter starts</span>
<span class="w">  </span><span class="nt">autocomplete_min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<span class="w">  </span><span class="c1"># backend for the favicon near URL in search results.</span>
<span class="w">  </span><span class="c1"># Available resolvers: &quot;allesedv&quot;, &quot;duckduckgo&quot;, &quot;google&quot;, &quot;yandex&quot; - leave blank to turn it off by default.</span>
<span class="w">  </span><span class="nt">favicon_resolver</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="c1"># Default search language - leave blank to detect from browser information or</span>
<span class="w">  </span><span class="c1"># use codes from &#39;languages.py&#39;</span>
<span class="w">  </span><span class="nt">default_lang</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;auto&quot;</span>
<span class="w">  </span><span class="c1"># max_page: 0  # if engine supports paging, 0 means unlimited numbers of pages</span>
<span class="w">  </span><span class="c1"># Available languages</span>
<span class="w">  </span><span class="c1"># languages:</span>
<span class="w">  </span><span class="c1">#   - all</span>
<span class="w">  </span><span class="c1">#   - en</span>
<span class="w">  </span><span class="c1">#   - en-US</span>
<span class="w">  </span><span class="c1">#   - de</span>
<span class="w">  </span><span class="c1">#   - it-IT</span>
<span class="w">  </span><span class="c1">#   - fr</span>
<span class="w">  </span><span class="c1">#   - fr-BE</span>
<span class="w">  </span><span class="c1"># ban time in seconds after engine errors</span>
<span class="w">  </span><span class="nt">ban_time_on_fail</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">  </span><span class="c1"># max ban time in seconds after engine errors</span>
<span class="w">  </span><span class="nt">max_ban_time_on_fail</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">120</span>
<span class="w">  </span><span class="nt">suspended_times</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># Engine suspension time after error (in seconds; set to 0 to disable)</span>
<span class="w">    </span><span class="c1"># For error &quot;Access denied&quot; and &quot;HTTP error [402, 403]&quot;</span>
<span class="w">    </span><span class="nt">SearxEngineAccessDenied</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">86400</span>
<span class="w">    </span><span class="c1"># For error &quot;CAPTCHA&quot;</span>
<span class="w">    </span><span class="nt">SearxEngineCaptcha</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">86400</span>
<span class="w">    </span><span class="c1"># For error &quot;Too many request&quot; and &quot;HTTP error 429&quot;</span>
<span class="w">    </span><span class="nt">SearxEngineTooManyRequests</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3600</span>
<span class="w">    </span><span class="c1"># Cloudflare CAPTCHA</span>
<span class="w">    </span><span class="nt">cf_SearxEngineCaptcha</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1296000</span>
<span class="w">    </span><span class="nt">cf_SearxEngineAccessDenied</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">86400</span>
<span class="w">    </span><span class="c1"># ReCAPTCHA</span>
<span class="w">    </span><span class="nt">recaptcha_SearxEngineCaptcha</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">604800</span>

<span class="w">  </span><span class="c1"># remove format to deny access, use lower case.</span>
<span class="w">  </span><span class="c1"># formats: [html, csv, json, rss]</span>
<span class="w">  </span><span class="nt">formats</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">html</span>

<span class="nt">server</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># Is overwritten by ${SEARXNG_PORT} and ${SEARXNG_BIND_ADDRESS}</span>
<span class="w">  </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8888</span>
<span class="w">  </span><span class="nt">bind_address</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;127.0.0.1&quot;</span>
<span class="w">  </span><span class="c1"># public URL of the instance, to ensure correct inbound links. Is overwritten</span>
<span class="w">  </span><span class="c1"># by ${SEARXNG_BASE_URL}.</span>
<span class="w">  </span><span class="nt">base_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w">  </span><span class="c1"># &quot;http://example.com/location&quot;</span>
<span class="w">  </span><span class="c1"># rate limit the number of request on the instance, block some bots.</span>
<span class="w">  </span><span class="c1"># Is overwritten by ${SEARXNG_LIMITER}</span>
<span class="w">  </span><span class="nt">limiter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="c1"># enable features designed only for public instances.</span>
<span class="w">  </span><span class="c1"># Is overwritten by ${SEARXNG_PUBLIC_INSTANCE}</span>
<span class="w">  </span><span class="nt">public_instance</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="w">  </span><span class="c1"># If your instance owns a /etc/searxng/settings.yml file, then set the following</span>
<span class="w">  </span><span class="c1"># values there.</span>

<span class="w">  </span><span class="nt">secret_key</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;f267fe000cb84c4a089d7212773fa82a9a01e56dd8f70f533588d982cccd6445&quot;</span><span class="w">  </span><span class="c1"># Is overwritten by ${SEARXNG_SECRET}</span>
<span class="w">  </span><span class="c1"># Proxy image results through SearXNG. Is overwritten by ${SEARXNG_IMAGE_PROXY}</span>
<span class="w">  </span><span class="nt">image_proxy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="c1"># 1.0 and 1.1 are supported</span>
<span class="w">  </span><span class="nt">http_protocol_version</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1.0&quot;</span>
<span class="w">  </span><span class="c1"># POST queries are more secure as they don&#39;t show up in history but may cause</span>
<span class="w">  </span><span class="c1"># problems when using Firefox containers.</span>
<span class="w">  </span><span class="c1"># Is overwritten by ${SEARXNG_METHOD}</span>
<span class="w">  </span><span class="nt">method</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;POST&quot;</span>
<span class="w">  </span><span class="nt">default_http_headers</span><span class="p">:</span>
<span class="w">    </span><span class="nt">X-Content-Type-Options</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nosniff</span>
<span class="w">    </span><span class="nt">X-Download-Options</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">noopen</span>
<span class="w">    </span><span class="nt">X-Robots-Tag</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">noindex, nofollow</span>
<span class="w">    </span><span class="nt">Referrer-Policy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">no-referrer</span>

<span class="nt">valkey</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># URL to connect valkey database. Is overwritten by ${SEARXNG_VALKEY_URL}.</span>
<span class="w">  </span><span class="c1"># https://docs.searxng.org/admin/settings/settings_valkey.html#settings-valkey</span>
<span class="w">  </span><span class="c1"># url: valkey://localhost:6379/0</span>
<span class="w">  </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="nt">ui</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># Custom static path - leave it blank if you didn&#39;t change</span>
<span class="w">  </span><span class="nt">static_path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="c1"># Custom templates path - leave it blank if you didn&#39;t change</span>
<span class="w">  </span><span class="nt">templates_path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="c1"># query_in_title: When true, the result page&#39;s titles contains the query</span>
<span class="w">  </span><span class="c1"># it decreases the privacy, since the browser can records the page titles.</span>
<span class="w">  </span><span class="nt">query_in_title</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="c1"># infinite_scroll: When true, automatically loads the next page when scrolling to bottom of the current page.</span>
<span class="w">  </span><span class="nt">infinite_scroll</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="c1"># ui theme</span>
<span class="w">  </span><span class="nt">default_theme</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">simple</span>
<span class="w">  </span><span class="c1"># center the results ?</span>
<span class="w">  </span><span class="nt">center_alignment</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="c1"># URL prefix of the internet archive, don&#39;t forget trailing slash (if needed).</span>
<span class="w">  </span><span class="c1"># cache_url: &quot;https://webcache.googleusercontent.com/search?q=cache:&quot;</span>
<span class="w">  </span><span class="c1"># Default interface locale - leave blank to detect from browser information or</span>
<span class="w">  </span><span class="c1"># use codes from the &#39;locales&#39; config section</span>
<span class="w">  </span><span class="nt">default_locale</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="c1"># Open result links in a new tab by default</span>
<span class="w">  </span><span class="c1"># results_on_new_tab: false</span>
<span class="w">  </span><span class="nt">theme_args</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># style of simple theme: auto, light, dark</span>
<span class="w">    </span><span class="nt">simple_style</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">auto</span>
<span class="w">  </span><span class="c1"># Perform search immediately if a category selected.</span>
<span class="w">  </span><span class="c1"># Disable to select multiple categories at once and start the search manually.</span>
<span class="w">  </span><span class="nt">search_on_category_select</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="c1"># Hotkeys: default or vim</span>
<span class="w">  </span><span class="nt">hotkeys</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="w">  </span><span class="c1"># URL formatting: pretty, full or host</span>
<span class="w">  </span><span class="nt">url_formatting</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pretty</span>

<span class="c1"># Lock arbitrary settings on the preferences page.</span>
<span class="c1">#</span>
<span class="c1"># preferences:</span>
<span class="c1">#   lock:</span>
<span class="c1">#     - categories</span>
<span class="c1">#     - language</span>
<span class="c1">#     - autocomplete</span>
<span class="c1">#     - favicon</span>
<span class="c1">#     - safesearch</span>
<span class="c1">#     - method</span>
<span class="c1">#     - doi_resolver</span>
<span class="c1">#     - locale</span>
<span class="c1">#     - theme</span>
<span class="c1">#     - results_on_new_tab</span>
<span class="c1">#     - infinite_scroll</span>
<span class="c1">#     - search_on_category_select</span>
<span class="c1">#     - method</span>
<span class="c1">#     - image_proxy</span>
<span class="c1">#     - query_in_title</span>

<span class="c1"># communication with search engines</span>
<span class="c1">#</span>

<span class="nt">botdetection</span><span class="p">:</span>
<span class="w">  </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">trusted_proxies</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span>

<span class="nt">outgoing</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># default timeout in seconds, can be override by engine</span>
<span class="w">  </span><span class="nt">request_timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100.0</span>
<span class="w">  </span><span class="c1"># the maximum timeout in seconds</span>
<span class="w">  </span><span class="c1"># max_request_timeout: 10.0</span>
<span class="w">  </span><span class="c1"># suffix of searxng_useragent, could contain information like an email address</span>
<span class="w">  </span><span class="c1"># to the administrator</span>
<span class="w">  </span><span class="nt">useragent_suffix</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="c1"># The maximum number of concurrent connections that may be established.</span>
<span class="w">  </span><span class="nt">pool_connections</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span>
<span class="w">  </span><span class="c1"># Allow the connection pool to maintain keep-alive connections below this</span>
<span class="w">  </span><span class="c1"># point.</span>
<span class="w">  </span><span class="nt">pool_maxsize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span>
<span class="w">  </span><span class="c1"># See https://www.python-httpx.org/http2/</span>
<span class="w">  </span><span class="nt">enable_http2</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="c1"># uncomment below section if you want to use a custom server certificate</span>
<span class="w">  </span><span class="c1"># see https://www.python-httpx.org/advanced/#changing-the-verification-defaults</span>
<span class="w">  </span><span class="c1"># and https://www.python-httpx.org/compatibility/#ssl-configuration</span>
<span class="w">  </span><span class="c1">#  verify: ~/.mitmproxy/mitmproxy-ca-cert.cer</span>
<span class="w">  </span><span class="c1">#</span>
<span class="w">  </span><span class="c1"># uncomment below section if you want to use a proxyq see: SOCKS proxies</span>
<span class="w">  </span><span class="c1">#   https://2.python-requests.org/en/latest/user/advanced/#proxies</span>
<span class="w">  </span><span class="c1"># are also supported: see</span>
<span class="w">  </span><span class="c1">#   https://2.python-requests.org/en/latest/user/advanced/#socks</span>
<span class="w">  </span><span class="c1">#</span>
<span class="w">  </span><span class="c1">#  proxies:</span>
<span class="w">  </span><span class="c1">#    all://:</span>
<span class="w">  </span><span class="c1">#      - http://proxy1:8080</span>
<span class="w">  </span><span class="c1">#      - http://proxy2:8080</span>
<span class="w">  </span><span class="c1">#</span>
<span class="w">  </span><span class="c1">#  using_tor_proxy: true</span>
<span class="w">  </span><span class="c1">#</span>
<span class="w">  </span><span class="c1"># Extra seconds to add in order to account for the time taken by the proxy</span>
<span class="w">  </span><span class="c1">#</span>
<span class="w">  </span><span class="c1">#  extra_proxy_timeout: 10</span>
<span class="w">  </span><span class="c1">#</span>
<span class="w">  </span><span class="c1"># uncomment below section only if you have more than one network interface</span>
<span class="w">  </span><span class="c1"># which can be the source of outgoing search requests</span>
<span class="w">  </span><span class="c1">#</span>
<span class="w">  </span><span class="c1">#  source_ips:</span>
<span class="w">  </span><span class="c1">#    - 1.1.1.1</span>
<span class="w">  </span><span class="c1">#    - 1.1.1.2</span>
<span class="w">  </span><span class="c1">#    - fe80::/126</span>

<span class="c1"># Plugin configuration, for more details see</span>
<span class="c1">#   https://docs.searxng.org/admin/settings/settings_plugins.html</span>
<span class="c1">#</span>
<span class="nt">plugins</span><span class="p">:</span>

<span class="w">  </span><span class="nt">searx.plugins.calculator.SXNGPlugin</span><span class="p">:</span>
<span class="w">    </span><span class="nt">active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">  </span><span class="nt">searx.plugins.hash_plugin.SXNGPlugin</span><span class="p">:</span>
<span class="w">    </span><span class="nt">active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">  </span><span class="nt">searx.plugins.self_info.SXNGPlugin</span><span class="p">:</span>
<span class="w">    </span><span class="nt">active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">  </span><span class="nt">searx.plugins.unit_converter.SXNGPlugin</span><span class="p">:</span>
<span class="w">    </span><span class="nt">active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">  </span><span class="nt">searx.plugins.ahmia_filter.SXNGPlugin</span><span class="p">:</span>
<span class="w">    </span><span class="nt">active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">  </span><span class="nt">searx.plugins.hostnames.SXNGPlugin</span><span class="p">:</span>
<span class="w">    </span><span class="nt">active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">  </span><span class="nt">searx.plugins.oa_doi_rewrite.SXNGPlugin</span><span class="p">:</span>
<span class="w">    </span><span class="nt">active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="w">  </span><span class="nt">searx.plugins.tor_check.SXNGPlugin</span><span class="p">:</span>
<span class="w">    </span><span class="nt">active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="w">  </span><span class="nt">searx.plugins.tracker_url_remover.SXNGPlugin</span><span class="p">:</span>
<span class="w">    </span><span class="nt">active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>


<span class="c1"># Configuration of the &quot;Hostnames plugin&quot;:</span>
<span class="c1">#</span>
</pre></div>
</div>
<p>To see the entire file jump to <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/settings.yml">git://searx/settings.yml</a></p>
</div></div>
<p>For a <em>minimal setup</em> you need to set <code class="docutils literal notranslate"><span class="pre">server:secret_key</span></code>.</p>
</section>
<section id="check">
<h4><a class="toc-backref" href="#id6" role="doc-backlink">Check</a><a class="headerlink" href="#check" title="Link to this heading">¶</a></h4>
<p>To check your SearXNG setup, optional enable debugging and start the <em>webapp</em>.
SearXNG looks at the exported environment <code class="docutils literal notranslate"><span class="pre">$SEARXNG_SETTINGS_PATH</span></code> for a
configuration file.</p>
<p>If everything works fine, hit <code class="docutils literal notranslate"><span class="pre">[CTRL-C]</span></code> to stop the <em>webapp</em> and disable the
debug option in <code class="docutils literal notranslate"><span class="pre">settings.yml</span></code>. You can now exit SearXNG user bash session (enter exit
command twice).  At this point SearXNG is not demonized; uwsgi allows this.</p>
</section>
</section>
<span id="document-admin/installation-granian"></span><section id="granian">
<span id="searxng-granian"></span><h3>Granian<a class="headerlink" href="#granian" title="Link to this heading">¶</a></h3>
<aside class="sidebar">
<p class="sidebar-title">further reading</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/emmett-framework/granian/blob/master/README.md#options">Options</a></p></li>
<li><p><a class="reference external" href="https://github.com/emmett-framework/granian/blob/master/README.md#workers-and-threads">Workers and threads</a></p></li>
<li><p><a class="reference external" href="https://github.com/emmett-framework/granian/blob/master/README.md#backpressure">Backpressure</a></p></li>
<li><p><a class="reference external" href="https://github.com/emmett-framework/granian/blob/master/README.md#runtime-mode">Runtime mode</a></p></li>
</ul>
</aside>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Granian will be the future replacement for <a class="reference internal" href="#searxng-uwsgi"><span class="std std-ref">uWSGI</span></a> in SearXNG.
At the moment, it’s only officially supported in the <a class="reference internal" href="#installation-container"><span class="std std-ref">Installation container</span></a>.</p>
</div>
<section id="installation">
<span id="granian-installation"></span><h4>Installation<a class="headerlink" href="#installation" title="Link to this heading">¶</a></h4>
<p>We only recommend installing Granian with pip, as officially documented. Run
the following command in the Python environment of the SearXNG installation:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>granian
</pre></div>
</div>
</section>
<section id="configuration">
<span id="granian-configuration"></span><h4>Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It’s not advised to modify the amount of workers, expect increased resource
usage and potential issues with <a class="reference internal" href="#botdetection"><span class="std std-ref">Bot Detection</span></a>.</p>
</div>
<p>Granian can be configured via option parameters and environment variables
(<code class="docutils literal notranslate"><span class="pre">$GRANIAN_*</span></code>).</p>
<p>We provide sane defaults that should fit most use cases, however if you feel
you should change something, Granian documents all available parameters in the
<a class="reference external" href="https://github.com/emmett-framework/granian/blob/master/README.md#options">Options</a> section.</p>
</section>
</section>
<span id="document-admin/installation-uwsgi"></span><section id="uwsgi">
<span id="searxng-uwsgi"></span><h3>uWSGI<a class="headerlink" href="#uwsgi" title="Link to this heading">¶</a></h3>
<aside class="sidebar">
<p class="sidebar-title">further reading</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.freedesktop.org/software/systemd/man/systemd.unit.html">systemd.unit</a></p></li>
<li><p><a class="reference external" href="https://uwsgi-docs.readthedocs.io/en/latest/Emperor.html">uWSGI Emperor</a></p></li>
</ul>
</aside>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#origin-uwsgi" id="id7">Origin uWSGI</a></p></li>
<li><p><a class="reference internal" href="#distributors" id="id8">Distributors</a></p>
<ul>
<li><p><a class="reference internal" href="#debian-s-uwsgi-layout" id="id9">Debian’s uWSGI layout</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#uwsgi-maintenance" id="id10">uWSGI maintenance</a></p></li>
<li><p><a class="reference internal" href="#uwsgi-setup" id="id11">uWSGI setup</a></p></li>
<li><p><a class="reference internal" href="#pitfalls-of-the-tyrant-mode" id="id12">Pitfalls of the Tyrant mode</a></p></li>
</ul>
</nav>
<section id="origin-uwsgi">
<h4><a class="toc-backref" href="#id7" role="doc-backlink">Origin uWSGI</a><a class="headerlink" href="#origin-uwsgi" title="Link to this heading">¶</a></h4>
<p>How uWSGI is implemented by distributors varies. The uWSGI project itself
recommends two methods:</p>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://www.freedesktop.org/software/systemd/man/systemd.unit.html">systemd.unit</a> template file as described here <a class="reference external" href="https://uwsgi-docs.readthedocs.io/en/latest/Systemd.html#one-service-per-app-in-systemd">One service per app in systemd</a>:</p></li>
</ol>
<blockquote>
<div><p>There is one <a class="reference external" href="http://0pointer.de/blog/projects/instances.html">systemd unit template</a> on the system installed and one <a class="reference external" href="https://uwsgi-docs.readthedocs.io/en/latest/Configuration.html#ini-files">uwsgi
ini file</a> per uWSGI-app placed at dedicated locations.  Take archlinux and a
<code class="docutils literal notranslate"><span class="pre">searxng.ini</span></code> as example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">systemd</span> <span class="n">template</span> <span class="n">unit</span><span class="p">:</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">uwsgi</span><span class="o">@.</span><span class="n">service</span>
        <span class="n">contains</span><span class="p">:</span> <span class="p">[</span><span class="n">Service</span><span class="p">]</span>
                  <span class="n">ExecStart</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">uwsgi</span> <span class="o">--</span><span class="n">ini</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">uwsgi</span><span class="o">/%</span><span class="n">I</span><span class="o">.</span><span class="n">ini</span>

<span class="n">SearXNG</span> <span class="n">application</span><span class="p">:</span>   <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">uwsgi</span><span class="o">/</span><span class="n">searxng</span><span class="o">.</span><span class="n">ini</span>
        <span class="n">links</span> <span class="n">to</span><span class="p">:</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">uwsgi</span><span class="o">/</span><span class="n">apps</span><span class="o">-</span><span class="n">available</span><span class="o">/</span><span class="n">searxng</span><span class="o">.</span><span class="n">ini</span>
</pre></div>
</div>
<p>The SearXNG app (template <code class="docutils literal notranslate"><span class="pre">/etc/uwsgi/%I.ini</span></code>) can be maintained as known
from common systemd units:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w">  </span>uwsgi@searxng
$<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w">   </span>uwsgi@searxng
$<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>uwsgi@searxng
$<span class="w"> </span>systemctl<span class="w"> </span>stop<span class="w">    </span>uwsgi@searxng
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>The <a class="reference external" href="https://uwsgi-docs.readthedocs.io/en/latest/Emperor.html">uWSGI Emperor</a> which fits for maintaining a large range of uwsgi
apps and there is a <a class="reference external" href="https://uwsgi-docs.readthedocs.io/en/latest/Emperor.html#tyrant-mode-secure-multi-user-hosting">Tyrant mode</a> to secure multi-user hosting.</p></li>
</ol>
<blockquote>
<div><p>The Emperor mode is a special uWSGI instance that will monitor specific
events.  The Emperor mode (the service) is started by a (common, not template)
systemd unit.</p>
<p>The Emperor service will scan specific directories for <a class="reference external" href="https://uwsgi-docs.readthedocs.io/en/latest/Configuration.html#ini-files">uwsgi ini file</a>s
(also know as <em>vassals</em>).  If a <em>vassal</em> is added, removed or the timestamp is
modified, a corresponding action takes place: a new uWSGI instance is started,
reload or stopped.  Take Fedora and a <code class="docutils literal notranslate"><span class="pre">searxng.ini</span></code> as example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">to</span> <span class="n">install</span> <span class="o">&amp;</span> <span class="n">start</span> <span class="n">SearXNG</span> <span class="n">instance</span> <span class="n">create</span> <span class="o">--&gt;</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">uwsgi</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">searxng</span><span class="o">.</span><span class="n">ini</span>
<span class="n">to</span> <span class="n">reload</span> <span class="n">the</span> <span class="n">instance</span> <span class="n">edit</span> <span class="n">timestamp</span>      <span class="o">--&gt;</span> <span class="n">touch</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">uwsgi</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">searxng</span><span class="o">.</span><span class="n">ini</span>
<span class="n">to</span> <span class="n">stop</span> <span class="n">instance</span> <span class="n">remove</span> <span class="n">ini</span>                <span class="o">--&gt;</span> <span class="n">rm</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">uwsgi</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">searxng</span><span class="o">.</span><span class="n">ini</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="distributors">
<h4><a class="toc-backref" href="#id8" role="doc-backlink">Distributors</a><a class="headerlink" href="#distributors" title="Link to this heading">¶</a></h4>
<p>The <a class="reference external" href="https://uwsgi-docs.readthedocs.io/en/latest/Emperor.html">uWSGI Emperor</a> mode and <a class="reference external" href="http://0pointer.de/blog/projects/instances.html">systemd unit template</a> is what the distributors
mostly offer their users, even if they differ in the way they implement both
modes and their defaults.  Another point they might differ in is the packaging of
plugins (if so, compare <a class="reference internal" href="#install-packages"><span class="std std-ref">Install packages</span></a>) and what the default python
interpreter is (python2 vs. python3).</p>
<p>While archlinux does not start a uWSGI service by default, Fedora (RHEL) starts
a Emperor in <a class="reference external" href="https://uwsgi-docs.readthedocs.io/en/latest/Emperor.html#tyrant-mode-secure-multi-user-hosting">Tyrant mode</a> by default (you should have read <a class="reference internal" href="#uwsgi-tyrant-mode-pitfalls"><span class="std std-ref">Pitfalls of the Tyrant mode</span></a>).  Worth to know; debian (ubuntu) follow a complete different
approach, read see <a class="reference internal" href="#debian-s-uwsgi-layout"><span class="std std-ref">Debian’s uWSGI layout</span></a>.</p>
<section id="debian-s-uwsgi-layout">
<span id="id1"></span><h5><a class="toc-backref" href="#id9" role="doc-backlink">Debian’s uWSGI layout</a><a class="headerlink" href="#debian-s-uwsgi-layout" title="Link to this heading">¶</a></h5>
<p>Be aware, Debian’s uWSGI layout is quite different from the standard uWSGI
configuration.  Your are familiar with <a class="reference internal" href="#debian-s-apache-layout"><span class="std std-ref">Debian’s Apache layout</span></a>? .. they do a
similar thing for the uWSGI infrastructure. The folders are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">uwsgi</span><span class="o">/</span><span class="n">apps</span><span class="o">-</span><span class="n">available</span><span class="o">/</span>
<span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">uwsgi</span><span class="o">/</span><span class="n">apps</span><span class="o">-</span><span class="n">enabled</span><span class="o">/</span>
</pre></div>
</div>
<p>The <a class="reference external" href="https://uwsgi-docs.readthedocs.io/en/latest/Configuration.html#ini-files">uwsgi ini file</a> is enabled by a symbolic link:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">uwsgi</span><span class="o">/</span><span class="n">apps</span><span class="o">-</span><span class="n">available</span><span class="o">/</span><span class="n">searxng</span><span class="o">.</span><span class="n">ini</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">uwsgi</span><span class="o">/</span><span class="n">apps</span><span class="o">-</span><span class="n">enabled</span><span class="o">/</span>
</pre></div>
</div>
<p>More details can be found in the <a class="reference external" href="https://salsa.debian.org/uwsgi-team/uwsgi/-/raw/debian/latest/debian/uwsgi.README.Debian">uwsgi.README.Debian</a>
(<code class="docutils literal notranslate"><span class="pre">/usr/share/doc/uwsgi/README.Debian.gz</span></code>).  Some commands you should know on
Debian:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Commands recognized by init.d script
====================================

You can issue to init.d script following commands:
  * start        | starts daemon
  * stop         | stops daemon
  * reload       | sends to daemon SIGHUP signal
  * force-reload | sends to daemon SIGTERM signal
  * restart      | issues &#39;stop&#39;, then &#39;start&#39; commands
  * status       | shows status of daemon instance (running/not running)

&#39;status&#39; command must be issued with exactly one argument: &#39;&lt;confname&gt;&#39;.

Controlling specific instances of uWSGI
=======================================

You could control specific instance(s) by issuing:

    SYSTEMCTL_SKIP_REDIRECT=1 service uwsgi &lt;command&gt; &lt;confname&gt; &lt;confname&gt;...

where:
  * &lt;command&gt; is one of &#39;start&#39;, &#39;stop&#39; etc.
  * &lt;confname&gt; is the name of configuration file (without extension)

For example, this is how instance for /etc/uwsgi/apps-enabled/hello.xml is
started:

    SYSTEMCTL_SKIP_REDIRECT=1 service uwsgi start hello
</pre></div>
</div>
</section>
</section>
<section id="uwsgi-maintenance">
<span id="id2"></span><h4><a class="toc-backref" href="#id10" role="doc-backlink">uWSGI maintenance</a><a class="headerlink" href="#uwsgi-maintenance" title="Link to this heading">¶</a></h4>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-VWJ1bnR1IC8gZGViaWFu" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tab" tabindex="0">Ubuntu / debian</button><button aria-controls="panel-0-QXJjaCBMaW51eA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tab" tabindex="-1">Arch Linux</button><button aria-controls="panel-0-RmVkb3JhIC8gUkhFTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tab" tabindex="-1">Fedora / RHEL</button></div><div aria-labelledby="tab-0-VWJ1bnR1IC8gZGViaWFu" class="sphinx-tabs-panel group-tab" id="panel-0-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tabpanel" tabindex="0"></div><div aria-labelledby="tab-0-QXJjaCBMaW51eA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tabpanel" tabindex="0"></div><div aria-labelledby="tab-0-RmVkb3JhIC8gUkhFTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tabpanel" tabindex="0"></div></div>
</section>
<section id="uwsgi-setup">
<span id="id3"></span><h4><a class="toc-backref" href="#id11" role="doc-backlink">uWSGI setup</a><a class="headerlink" href="#uwsgi-setup" title="Link to this heading">¶</a></h4>
<p>Create the configuration ini-file according to your distribution and restart the
uwsgi application.  As shown below, the <a class="reference internal" href="#installation-scripts"><span class="std std-ref">Installation Script</span></a> installs by
default a uWSGI setup that listens on a socket.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-VWJ1bnR1IC8gZGViaWFu" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tab" tabindex="0">Ubuntu / debian</button><button aria-controls="panel-1-QXJjaCBMaW51eA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tab" tabindex="-1">Arch Linux</button><button aria-controls="panel-1-RmVkb3JhIC8gUkhFTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tab" tabindex="-1">Fedora / RHEL</button></div><div aria-labelledby="tab-1-VWJ1bnR1IC8gZGViaWFu" class="sphinx-tabs-panel group-tab" id="panel-1-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tabpanel" tabindex="0"></div><div aria-labelledby="tab-1-QXJjaCBMaW51eA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tabpanel" tabindex="0"></div><div aria-labelledby="tab-1-RmVkb3JhIC8gUkhFTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tabpanel" tabindex="0"></div></div>
</section>
<section id="pitfalls-of-the-tyrant-mode">
<span id="uwsgi-tyrant-mode-pitfalls"></span><h4><a class="toc-backref" href="#id12" role="doc-backlink">Pitfalls of the Tyrant mode</a><a class="headerlink" href="#pitfalls-of-the-tyrant-mode" title="Link to this heading">¶</a></h4>
<p>The implementation of the process owners and groups in the <a class="reference external" href="https://uwsgi-docs.readthedocs.io/en/latest/Emperor.html#tyrant-mode-secure-multi-user-hosting">Tyrant mode</a> is
somewhat unusual and requires special consideration.  In <a class="reference external" href="https://uwsgi-docs.readthedocs.io/en/latest/Emperor.html#tyrant-mode-secure-multi-user-hosting">Tyrant mode</a> mode the
Emperor will run the vassal using the UID/GID of the vassal configuration file
(user and group of the app <code class="docutils literal notranslate"><span class="pre">.ini</span></code> file).</p>
<p>Without option <code class="docutils literal notranslate"><span class="pre">emperor-tyrant-initgroups=true</span></code> in <code class="docutils literal notranslate"><span class="pre">/etc/uwsgi.ini</span></code> the
process won’t get the additional groups, but this option is not available in
2.0.x branch (see <a class="reference external" href="https://github.com/unbit/uwsgi/issues/2099">#2099&#64;uWSGI</a>) the feature <a class="reference external" href="https://github.com/unbit/uwsgi/pull/752">#752&#64;uWSGI</a> has been merged (on
Oct. 2014) to the master branch of uWSGI but had never been released; the last
major release is from Dec. 2013, since the there had been only bugfix releases
(see <a class="reference external" href="https://github.com/unbit/uwsgi/issues/2425">#2425uWSGI</a>). To shorten up:</p>
<blockquote>
<div><p><strong>In Tyrant mode, there is no way to get additional groups, and the uWSGI
process misses additional permissions that may be needed.</strong></p>
</div></blockquote>
<p>For example on Fedora (RHEL): If you try to install a valkey DB with socket
communication and you want to connect to it from the SearXNG uWSGI, you will see a
<em>Permission denied</em> in the log of your instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ERROR:searx.valkeydb: [searxng (993)] can&#39;t connect valkey DB ...
ERROR:searx.valkeydb:   Error 13 connecting to unix socket: /usr/local/searxng-valkey/run/valkey.sock. Permission denied.
ERROR:searx.plugins.limiter: init limiter DB failed!!!
</pre></div>
</div>
<p>Even if your <em>searxng</em> user of the uWSGI process is added to additional groups
to give access to the socket from the valkey DB:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ groups searxng
searxng : searxng searxng-valkey
</pre></div>
</div>
<p>To see the effective groups of the uwsgi process, you have to look at the status
of the process, by example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ps -aef | grep &#39;/usr/sbin/uwsgi --ini searxng.ini&#39;
searxng       93      92  0 12:43 ?        00:00:00 /usr/sbin/uwsgi --ini searxng.ini
searxng      186      93  0 12:44 ?        00:00:01 /usr/sbin/uwsgi --ini searxng.ini
</pre></div>
</div>
<p>Here you can see that the additional “Groups” of PID 186 are unset (missing gid
of <code class="docutils literal notranslate"><span class="pre">searxng-valkey</span></code>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cat /proc/186/task/186/status
...
Uid:      993     993     993     993
Gid:      993     993     993     993
FDSize:   128
Groups:
...
</pre></div>
</div>
</section>
</section>
<span id="document-admin/installation-nginx"></span><section id="nginx">
<span id="installation-nginx"></span><h3>NGINX<a class="headerlink" href="#nginx" title="Link to this heading">¶</a></h3>
<p>This section explains how to set up a SearXNG instance using the HTTP server <a class="reference external" href="https://docs.nginx.com/nginx/admin-guide/">nginx</a>.
If you have used the <a class="reference internal" href="#installation-scripts"><span class="std std-ref">Installation Script</span></a> and do not have any special preferences
you can install the <a class="reference internal" href="#nginx-searxng-site"><span class="std std-ref">SearXNG site</span></a> using
<a class="reference internal" href="#searxng-sh-overview"><span class="std std-ref">searxng.sh</span></a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>-H<span class="w"> </span>./utils/searxng.sh<span class="w"> </span>install<span class="w"> </span>nginx
</pre></div>
</div>
<p>If you have special interests or problems with setting up nginx, the following
section might give you some guidance.</p>
<aside class="sidebar">
<p class="sidebar-title">further reading</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.nginx.com/nginx/admin-guide/">nginx</a></p></li>
<li><p><a class="reference external" href="https://nginx.org/en/docs/beginners_guide.html">nginx beginners guide</a></p></li>
<li><p><a class="reference external" href="https://docs.nginx.com/nginx/admin-guide/web-server/web-server/#setting-up-virtual-servers">nginx server configuration</a></p></li>
<li><p><a class="reference external" href="https://www.nginx.com/resources/wiki/start/">Getting Started wiki</a></p></li>
<li><p><a class="reference external" href="https://uwsgi-docs.readthedocs.io/en/latest/Nginx.html">uWSGI support from nginx</a></p></li>
</ul>
</aside>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#the-nginx-http-server" id="id2">The nginx HTTP server</a></p></li>
<li><p><a class="reference internal" href="#nginx-s-searxng-site" id="id3">NGINX’s SearXNG site</a></p></li>
<li><p><a class="reference internal" href="#disable-logs" id="id4">Disable logs</a></p></li>
</ul>
</nav>
<section id="the-nginx-http-server">
<h4><a class="toc-backref" href="#id2" role="doc-backlink">The nginx HTTP server</a><a class="headerlink" href="#the-nginx-http-server" title="Link to this heading">¶</a></h4>
<p>If <a class="reference external" href="https://docs.nginx.com/nginx/admin-guide/">nginx</a> is not installed, install it now.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-VWJ1bnR1IC8gZGViaWFu" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tab" tabindex="0">Ubuntu / debian</button><button aria-controls="panel-0-QXJjaCBMaW51eA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tab" tabindex="-1">Arch Linux</button><button aria-controls="panel-0-RmVkb3JhIC8gUkhFTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tab" tabindex="-1">Fedora / RHEL</button></div><div aria-labelledby="tab-0-VWJ1bnR1IC8gZGViaWFu" class="sphinx-tabs-panel group-tab" id="panel-0-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-H<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>nginx
</pre></div>
</div>
</div><div aria-labelledby="tab-0-QXJjaCBMaW51eA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tabpanel" tabindex="0"><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-H<span class="w"> </span>pacman<span class="w"> </span>-S<span class="w"> </span>nginx-mainline
sudo<span class="w"> </span>-H<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>nginx
sudo<span class="w"> </span>-H<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>nginx
</pre></div>
</div>
</div><div aria-labelledby="tab-0-RmVkb3JhIC8gUkhFTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tabpanel" tabindex="0"><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-H<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>nginx
sudo<span class="w"> </span>-H<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>nginx
sudo<span class="w"> </span>-H<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>nginx
</pre></div>
</div>
</div></div>
<p>Now at <a class="reference external" href="http://localhost">http://localhost</a> you should see a <em>Welcome to nginx!</em> page, on Fedora you
see a <em>Fedora Webserver - Test Page</em>.  The test page comes from the default
<a class="reference external" href="https://docs.nginx.com/nginx/admin-guide/web-server/web-server/#setting-up-virtual-servers">nginx server configuration</a>.  How this default site is configured,
depends on the linux distribution:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-VWJ1bnR1IC8gZGViaWFu" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tab" tabindex="0">Ubuntu / debian</button><button aria-controls="panel-1-QXJjaCBMaW51eA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tab" tabindex="-1">Arch Linux</button><button aria-controls="panel-1-RmVkb3JhIC8gUkhFTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tab" tabindex="-1">Fedora / RHEL</button></div><div aria-labelledby="tab-1-VWJ1bnR1IC8gZGViaWFu" class="sphinx-tabs-panel group-tab" id="panel-1-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>less<span class="w"> </span>/etc/nginx/nginx.conf
</pre></div>
</div>
<p>There is one line that includes site configurations from:</p>
<div class="highlight-nginx notranslate"><div class="highlight"><pre><span></span><span class="k">include</span><span class="w"> </span><span class="n">/etc/nginx/sites-enabled/*</span>;
</pre></div>
</div>
</div><div aria-labelledby="tab-1-QXJjaCBMaW51eA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tabpanel" tabindex="0"><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>less<span class="w"> </span>/etc/nginx/nginx.conf
</pre></div>
</div>
<p>There is a configuration section named <code class="docutils literal notranslate"><span class="pre">server</span></code>:</p>
<div class="highlight-nginx notranslate"><div class="highlight"><pre><span></span><span class="k">server</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kn">listen</span><span class="w">       </span><span class="mi">80</span><span class="p">;</span>
<span class="w">    </span><span class="kn">server_name</span><span class="w">  </span><span class="s">localhost</span><span class="p">;</span>
<span class="w">    </span><span class="c1"># ...</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-RmVkb3JhIC8gUkhFTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tabpanel" tabindex="0"><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>less<span class="w"> </span>/etc/nginx/nginx.conf
</pre></div>
</div>
<p>There is one line that includes site configurations from:</p>
<div class="highlight-nginx notranslate"><div class="highlight"><pre><span></span><span class="k">include</span><span class="w"> </span><span class="n">/etc/nginx/conf.d/*.conf</span>;
</pre></div>
</div>
</div></div>
</section>
<section id="nginx-s-searxng-site">
<span id="nginx-searxng-site"></span><h4><a class="toc-backref" href="#id3" role="doc-backlink">NGINX’s SearXNG site</a><a class="headerlink" href="#nginx-s-searxng-site" title="Link to this heading">¶</a></h4>
<p>Now you have to create a configuration file (<code class="docutils literal notranslate"><span class="pre">searxng.conf</span></code>) for the SearXNG
site.  If <a class="reference external" href="https://docs.nginx.com/nginx/admin-guide/">nginx</a> is new to you, the <a class="reference external" href="https://nginx.org/en/docs/beginners_guide.html">nginx beginners guide</a> is a good starting
point and the <a class="reference external" href="https://www.nginx.com/resources/wiki/start/">Getting Started wiki</a> is always a good resource <em>to keep in the
pocket</em>.</p>
<p>Depending on what your SearXNG installation is listening on, you need a http or socket
communication to upstream.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-c29ja2V0" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-c29ja2V0" name="c29ja2V0" role="tab" tabindex="0">socket</button><button aria-controls="panel-2-aHR0cA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-aHR0cA==" name="aHR0cA==" role="tab" tabindex="-1">http</button></div><div aria-labelledby="tab-2-c29ja2V0" class="sphinx-tabs-panel group-tab" id="panel-2-c29ja2V0" name="c29ja2V0" role="tabpanel" tabindex="0"></div><div aria-labelledby="tab-2-aHR0cA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-aHR0cA==" name="aHR0cA==" role="tabpanel" tabindex="0"></div></div>
<p>The <a class="reference internal" href="#installation-scripts"><span class="std std-ref">Installation Script</span></a> installs the <a class="reference internal" href="#use-default-settings-yml"><span class="std std-ref">reference setup</span></a> and a <a class="reference internal" href="#uwsgi-setup"><span class="std std-ref">uWSGI setup</span></a> that listens on a socket by default.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-3-VWJ1bnR1IC8gZGViaWFu" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-3-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tab" tabindex="0">Ubuntu / debian</button><button aria-controls="panel-3-QXJjaCBMaW51eA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tab" tabindex="-1">Arch Linux</button><button aria-controls="panel-3-RmVkb3JhIC8gUkhFTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tab" tabindex="-1">Fedora / RHEL</button></div><div aria-labelledby="tab-3-VWJ1bnR1IC8gZGViaWFu" class="sphinx-tabs-panel group-tab" id="panel-3-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tabpanel" tabindex="0"><p>Create configuration at <code class="docutils literal notranslate"><span class="pre">/etc/nginx/sites-available/</span></code> and place a
symlink to <code class="docutils literal notranslate"><span class="pre">sites-enabled</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-H<span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>/etc/nginx/sites-available/searxng.conf<span class="w"> </span><span class="se">\</span>
<span class="w">              </span>/etc/nginx/sites-enabled/searxng.conf
</pre></div>
</div>
</div><div aria-labelledby="tab-3-QXJjaCBMaW51eA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tabpanel" tabindex="0"><p>In the <code class="docutils literal notranslate"><span class="pre">/etc/nginx/nginx.conf</span></code> file, in the <code class="docutils literal notranslate"><span class="pre">server</span></code> section add a
<a class="reference external" href="https://nginx.org/en/docs/ngx_core_module.html#include">include</a>
directive:</p>
<div class="highlight-nginx notranslate"><div class="highlight"><pre><span></span><span class="k">server</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1"># ...</span>
<span class="w">    </span><span class="kn">include</span><span class="w"> </span><span class="s">/etc/nginx/default.d/*.conf</span><span class="p">;</span>
<span class="w">    </span><span class="c1"># ...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Create two folders, one for the <em>available sites</em> and one for the <em>enabled sites</em>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>-p<span class="w"> </span>/etc/nginx/default.d
mkdir<span class="w"> </span>-p<span class="w"> </span>/etc/nginx/default.apps-available
</pre></div>
</div>
<p>Create configuration at <code class="docutils literal notranslate"><span class="pre">/etc/nginx/default.apps-available</span></code> and place a
symlink to <code class="docutils literal notranslate"><span class="pre">default.d</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-H<span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>/etc/nginx/default.apps-available/searxng.conf<span class="w"> </span><span class="se">\</span>
<span class="w">              </span>/etc/nginx/default.d/searxng.conf
</pre></div>
</div>
</div><div aria-labelledby="tab-3-RmVkb3JhIC8gUkhFTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tabpanel" tabindex="0"><p>Create a folder for the <em>available sites</em>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>-p<span class="w"> </span>/etc/nginx/default.apps-available
</pre></div>
</div>
<p>Create configuration at <code class="docutils literal notranslate"><span class="pre">/etc/nginx/default.apps-available</span></code> and place a
symlink to <code class="docutils literal notranslate"><span class="pre">conf.d</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-H<span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>/etc/nginx/default.apps-available/searxng.conf<span class="w"> </span><span class="se">\</span>
<span class="w">              </span>/etc/nginx/conf.d/searxng.conf
</pre></div>
</div>
</div></div>
<p>Restart services:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-4-VWJ1bnR1IC8gZGViaWFu" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-4-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tab" tabindex="0">Ubuntu / debian</button><button aria-controls="panel-4-QXJjaCBMaW51eA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tab" tabindex="-1">Arch Linux</button><button aria-controls="panel-4-RmVkb3JhIC8gUkhFTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tab" tabindex="-1">Fedora / RHEL</button></div><div aria-labelledby="tab-4-VWJ1bnR1IC8gZGViaWFu" class="sphinx-tabs-panel group-tab" id="panel-4-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-H<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>nginx
sudo<span class="w"> </span>-H<span class="w"> </span>service<span class="w"> </span>uwsgi<span class="w"> </span>restart<span class="w"> </span>searxng
</pre></div>
</div>
</div><div aria-labelledby="tab-4-QXJjaCBMaW51eA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-H<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>nginx
sudo<span class="w"> </span>-H<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>uwsgi@searxng
</pre></div>
</div>
</div><div aria-labelledby="tab-4-RmVkb3JhIC8gUkhFTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-H<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>nginx
sudo<span class="w"> </span>-H<span class="w"> </span>touch<span class="w"> </span>/etc/uwsgi.d/searxng.ini
</pre></div>
</div>
</div></div>
</section>
<section id="disable-logs">
<h4><a class="toc-backref" href="#id4" role="doc-backlink">Disable logs</a><a class="headerlink" href="#disable-logs" title="Link to this heading">¶</a></h4>
<p>For better privacy you can disable nginx logs in <code class="docutils literal notranslate"><span class="pre">/etc/nginx/nginx.conf</span></code>.</p>
<div class="highlight-nginx notranslate"><div class="highlight"><pre><span></span><span class="k">http</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1"># ...</span>
<span class="w">    </span><span class="kn">access_log</span><span class="w"> </span><span class="s">/dev/null</span><span class="p">;</span>
<span class="w">    </span><span class="kn">error_log</span><span class="w">  </span><span class="s">/dev/null</span><span class="p">;</span>
<span class="w">    </span><span class="c1"># ...</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<span id="document-admin/installation-apache"></span><section id="apache">
<span id="installation-apache"></span><h3>Apache<a class="headerlink" href="#apache" title="Link to this heading">¶</a></h3>
<p>This section explains how to set up a SearXNG instance using the HTTP server <a class="reference external" href="https://httpd.apache.org/">Apache</a>.
If you did use the <a class="reference internal" href="#installation-scripts"><span class="std std-ref">Installation Script</span></a> and do not have any special preferences
you can install the <a class="reference internal" href="#apache-searxng-site"><span class="std std-ref">SearXNG site</span></a> using
<a class="reference internal" href="#searxng-sh-overview"><span class="std std-ref">searxng.sh</span></a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>-H<span class="w"> </span>./utils/searxng.sh<span class="w"> </span>install<span class="w"> </span>apache
</pre></div>
</div>
<p>If you have special interests or problems with setting up Apache, the following
section might give you some guidance.</p>
<aside class="sidebar">
<p class="sidebar-title">further read</p>
<ul class="simple">
<li><p><a class="reference external" href="https://wiki.archlinux.org/index.php/Apache_HTTP_Server">Apache Arch Linux</a></p></li>
<li><p><a class="reference external" href="https://cwiki.apache.org/confluence/display/HTTPD/DistrosDefaultLayout#DistrosDefaultLayout-Debian,Ubuntu(Apachehttpd2.x):">Apache Debian</a></p></li>
<li><p><a class="reference external" href="https://salsa.debian.org/apache-team/apache2/raw/master/debian/apache2.README.Debian">apache2.README.Debian</a></p></li>
<li><p><a class="reference external" href="https://docs.fedoraproject.org/en-US/quick-docs/getting-started-with-apache-http-server/index.html">Apache Fedora</a></p></li>
<li><p><a class="reference external" href="https://httpd.apache.org/docs/trunk/mod/directives.html">Apache directives</a></p></li>
</ul>
</aside>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#the-apache-http-server" id="id5">The Apache HTTP server</a></p>
<ul>
<li><p><a class="reference internal" href="#debian-s-apache-layout" id="id6">Debian’s Apache layout</a></p></li>
<li><p><a class="reference internal" href="#apache-modules" id="id7">Apache modules</a></p></li>
<li><p><a class="reference internal" href="#apache-sites" id="id8">Apache sites</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#apache-s-searxng-site" id="id9">Apache’s SearXNG site</a></p></li>
<li><p><a class="reference internal" href="#disable-logs" id="id10">disable logs</a></p></li>
</ul>
</nav>
<section id="the-apache-http-server">
<h4><a class="toc-backref" href="#id5" role="doc-backlink">The Apache HTTP server</a><a class="headerlink" href="#the-apache-http-server" title="Link to this heading">¶</a></h4>
<p>If <a class="reference external" href="https://httpd.apache.org/">Apache</a> is not installed, install it now. If <a class="reference external" href="https://httpd.apache.org/">apache</a> is new to you, the
<a class="reference external" href="https://httpd.apache.org/docs/current/en/getting-started.html">Getting Started</a>, <a class="reference external" href="https://httpd.apache.org/docs/current/en/configuring.html">Configuration Files</a> and <a class="reference external" href="https://httpd.apache.org/docs/current/en/mod/directive-dict.html">Terms Used to Describe
Directives</a> documentation gives first orientation.  There is also a list of
<a class="reference external" href="https://httpd.apache.org/docs/trunk/mod/directives.html">Apache directives</a> <em>to keep in the pocket</em>.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-VWJ1bnR1IC8gZGViaWFu" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tab" tabindex="0">Ubuntu / debian</button><button aria-controls="panel-0-QXJjaCBMaW51eA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tab" tabindex="-1">Arch Linux</button><button aria-controls="panel-0-RmVkb3JhIC8gUkhFTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tab" tabindex="-1">Fedora / RHEL</button></div><div aria-labelledby="tab-0-VWJ1bnR1IC8gZGViaWFu" class="sphinx-tabs-panel group-tab" id="panel-0-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-H<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>apache2
</pre></div>
</div>
</div><div aria-labelledby="tab-0-QXJjaCBMaW51eA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-H<span class="w"> </span>pacman<span class="w"> </span>-S<span class="w"> </span>apache
sudo<span class="w"> </span>-H<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>httpd
sudo<span class="w"> </span>-H<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>http
</pre></div>
</div>
</div><div aria-labelledby="tab-0-RmVkb3JhIC8gUkhFTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-H<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>httpd
sudo<span class="w"> </span>-H<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>httpd
sudo<span class="w"> </span>-H<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>httpd
</pre></div>
</div>
</div></div>
<p>Now at <a class="reference external" href="http://localhost">http://localhost</a> you should see some kind of <em>Welcome</em> or <em>Test</em> page.
How this default site is configured, depends on the linux distribution
(compare <a class="reference external" href="https://httpd.apache.org/docs/trunk/mod/directives.html">Apache directives</a>).</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-VWJ1bnR1IC8gZGViaWFu" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tab" tabindex="0">Ubuntu / debian</button><button aria-controls="panel-1-QXJjaCBMaW51eA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tab" tabindex="-1">Arch Linux</button><button aria-controls="panel-1-RmVkb3JhIC8gUkhFTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tab" tabindex="-1">Fedora / RHEL</button></div><div aria-labelledby="tab-1-VWJ1bnR1IC8gZGViaWFu" class="sphinx-tabs-panel group-tab" id="panel-1-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>less<span class="w"> </span>/etc/apache2/sites-enabled/000-default.conf
</pre></div>
</div>
<p>In this file, there is a line setting the <a class="reference external" href="https://httpd.apache.org/docs/trunk/mod/core.html#documentroot">DocumentRoot</a> directive:</p>
<div class="highlight-apache notranslate"><div class="highlight"><pre><span></span><span class="nb">DocumentRoot</span><span class="w"> </span><span class="sx">/var/www/html</span>
</pre></div>
</div>
<p>And the <em>welcome</em> page is the HTML file at <code class="docutils literal notranslate"><span class="pre">/var/www/html/index.html</span></code>.</p>
</div><div aria-labelledby="tab-1-QXJjaCBMaW51eA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>less<span class="w"> </span>/etc/httpd/conf/httpd.conf
</pre></div>
</div>
<p>In this file, there is a line setting the <a class="reference external" href="https://httpd.apache.org/docs/trunk/mod/core.html#documentroot">DocumentRoot</a> directive:</p>
<div class="highlight-apache notranslate"><div class="highlight"><pre><span></span><span class="nb">DocumentRoot</span><span class="w"> </span><span class="s2">&quot;/srv/http&quot;</span>
<span class="nt">&lt;Directory</span><span class="w"> </span><span class="s">&quot;/srv/http&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nb">Options</span><span class="w"> </span>Indexes<span class="w"> </span>FollowSymLinks
<span class="w">    </span><span class="nb">AllowOverride</span><span class="w"> </span><span class="k">None</span>
<span class="w">    </span><span class="nb">Require</span><span class="w"> </span><span class="k">all</span><span class="w"> </span>granted
<span class="nt">&lt;/Directory&gt;</span>
</pre></div>
</div>
<p>The <em>welcome</em> page of Arch Linux is a page showing the directory located
at <code class="docutils literal notranslate"><span class="pre">DocumentRoot</span></code>.  This <em>directory</em> page is generated by the Module
<a class="reference external" href="https://httpd.apache.org/docs/2.4/mod/mod_autoindex.html">mod_autoindex</a>:</p>
<div class="highlight-apache notranslate"><div class="highlight"><pre><span></span><span class="nb">LoadModule</span><span class="w"> </span>autoindex_module<span class="w"> </span>modules/mod_autoindex.so
...
<span class="nb">Include</span><span class="w"> </span>conf/extra/httpd-autoindex.conf
</pre></div>
</div>
</div><div aria-labelledby="tab-1-RmVkb3JhIC8gUkhFTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>less<span class="w"> </span>/etc/httpd/conf/httpd.conf
</pre></div>
</div>
<p>In this file, there is a line setting the <code class="docutils literal notranslate"><span class="pre">DocumentRoot</span></code> directive:</p>
<div class="highlight-apache notranslate"><div class="highlight"><pre><span></span><span class="nb">DocumentRoot</span><span class="w"> </span><span class="s2">&quot;/var/www/html&quot;</span>
...
<span class="nt">&lt;Directory</span><span class="w"> </span><span class="s">&quot;/var/www&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nb">AllowOverride</span><span class="w"> </span><span class="k">None</span>
<span class="w">    </span><span class="c"># Allow open access:</span>
<span class="w">    </span><span class="nb">Require</span><span class="w"> </span><span class="k">all</span><span class="w"> </span>granted
<span class="nt">&lt;/Directory&gt;</span>
</pre></div>
</div>
<p>On fresh installations, the <code class="docutils literal notranslate"><span class="pre">/var/www</span></code> is empty and the <em>default
welcome page</em> is shown, the configuration is located at:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">less</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">httpd</span><span class="o">/</span><span class="n">conf</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">welcome</span><span class="o">.</span><span class="n">conf</span>
</pre></div>
</div>
</div></div>
<section id="debian-s-apache-layout">
<span id="id2"></span><h5><a class="toc-backref" href="#id6" role="doc-backlink">Debian’s Apache layout</a><a class="headerlink" href="#debian-s-apache-layout" title="Link to this heading">¶</a></h5>
<p>Be aware, Debian’s Apache layout is quite different from the standard Apache
configuration.  For details look at the <a class="reference external" href="https://salsa.debian.org/apache-team/apache2/raw/master/debian/apache2.README.Debian">apache2.README.Debian</a>
(<code class="docutils literal notranslate"><span class="pre">/usr/share/doc/apache2/README.Debian.gz</span></code>).  Some commands you should know on
Debian:</p>
<ul class="simple">
<li><p><a class="extlink-man reference external" href="https://manpages.debian.org/jump?q=apache2ctl">apache2ctl</a>:  Apache HTTP server control interface</p></li>
<li><p><a class="extlink-man reference external" href="https://manpages.debian.org/jump?q=a2enmod">a2enmod</a>, <a class="extlink-man reference external" href="https://manpages.debian.org/jump?q=a2dismod">a2dismod</a>: switch on/off modules</p></li>
<li><p><a class="extlink-man reference external" href="https://manpages.debian.org/jump?q=a2enconf">a2enconf</a>, <a class="extlink-man reference external" href="https://manpages.debian.org/jump?q=a2disconf">a2disconf</a>: switch on/off configurations</p></li>
<li><p><a class="extlink-man reference external" href="https://manpages.debian.org/jump?q=a2ensite">a2ensite</a>, <a class="extlink-man reference external" href="https://manpages.debian.org/jump?q=a2dissite">a2dissite</a>: switch on/off sites</p></li>
</ul>
</section>
<section id="apache-modules">
<span id="id3"></span><h5><a class="toc-backref" href="#id7" role="doc-backlink">Apache modules</a><a class="headerlink" href="#apache-modules" title="Link to this heading">¶</a></h5>
<p>To load additional modules, in most distributions you have to uncomment the
lines with the corresponding <a class="reference external" href="https://httpd.apache.org/docs/mod/mod_so.html#loadmodule">LoadModule</a> directive, except in <a class="reference internal" href="#debian-s-apache-layout"><span class="std std-ref">Debian’s Apache layout</span></a>.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-VWJ1bnR1IC8gZGViaWFu" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tab" tabindex="0">Ubuntu / debian</button><button aria-controls="panel-2-QXJjaCBMaW51eA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tab" tabindex="-1">Arch Linux</button><button aria-controls="panel-2-RmVkb3JhIC8gUkhFTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tab" tabindex="-1">Fedora / RHEL</button></div><div aria-labelledby="tab-2-VWJ1bnR1IC8gZGViaWFu" class="sphinx-tabs-panel group-tab" id="panel-2-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tabpanel" tabindex="0"><p><a class="reference internal" href="#debian-s-apache-layout"><span class="std std-ref">Debian’s Apache layout</span></a> uses <a class="extlink-man reference external" href="https://manpages.debian.org/jump?q=a2enmod">a2enmod</a> and <a class="extlink-man reference external" href="https://manpages.debian.org/jump?q=a2dismod">a2dismod</a> to
activate or disable modules:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-H<span class="w"> </span>a2enmod<span class="w"> </span>ssl
sudo<span class="w"> </span>-H<span class="w"> </span>a2enmod<span class="w"> </span>headers
sudo<span class="w"> </span>-H<span class="w"> </span>a2enmod<span class="w"> </span>proxy
sudo<span class="w"> </span>-H<span class="w"> </span>a2enmod<span class="w"> </span>proxy_http
sudo<span class="w"> </span>-H<span class="w"> </span>a2enmod<span class="w"> </span>proxy_uwsgi
</pre></div>
</div>
</div><div aria-labelledby="tab-2-QXJjaCBMaW51eA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tabpanel" tabindex="0"><p>In the <code class="docutils literal notranslate"><span class="pre">/etc/httpd/conf/httpd.conf</span></code> file, activate <a class="reference external" href="https://httpd.apache.org/docs/mod/mod_so.html#loadmodule">LoadModule</a>
directives:</p>
<div class="highlight-apache notranslate"><div class="highlight"><pre><span></span><span class="nb">LoadModule</span><span class="w"> </span>ssl_module<span class="w">           </span>modules/mod_ssl.so
<span class="nb">LoadModule</span><span class="w"> </span>headers_module<span class="w">       </span>modules/mod_headers.so
<span class="nb">LoadModule</span><span class="w"> </span>proxy_module<span class="w">         </span>modules/mod_proxy.so
<span class="nb">LoadModule</span><span class="w"> </span>proxy_http_module<span class="w">    </span>modules/mod_proxy_http.so
<span class="nb">LoadModule</span><span class="w"> </span>proxy_uwsgi_module<span class="w">   </span>modules/mod_proxy_uwsgi.so
</pre></div>
</div>
</div><div aria-labelledby="tab-2-RmVkb3JhIC8gUkhFTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tabpanel" tabindex="0"><p>In the <code class="docutils literal notranslate"><span class="pre">/etc/httpd/conf/httpd.conf</span></code> file, activate <a class="reference external" href="https://httpd.apache.org/docs/mod/mod_so.html#loadmodule">LoadModule</a>
directives:</p>
<div class="highlight-apache notranslate"><div class="highlight"><pre><span></span><span class="nb">LoadModule</span><span class="w"> </span>ssl_module<span class="w">           </span>modules/mod_ssl.so
<span class="nb">LoadModule</span><span class="w"> </span>headers_module<span class="w">       </span>modules/mod_headers.so
<span class="nb">LoadModule</span><span class="w"> </span>proxy_module<span class="w">         </span>modules/mod_proxy.so
<span class="nb">LoadModule</span><span class="w"> </span>proxy_http_module<span class="w">    </span>modules/mod_proxy_http.so
<span class="nb">LoadModule</span><span class="w"> </span>proxy_uwsgi_module<span class="w">   </span>modules/mod_proxy_uwsgi.so
</pre></div>
</div>
</div></div>
</section>
<section id="apache-sites">
<span id="id4"></span><h5><a class="toc-backref" href="#id8" role="doc-backlink">Apache sites</a><a class="headerlink" href="#apache-sites" title="Link to this heading">¶</a></h5>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-3-VWJ1bnR1IC8gZGViaWFu" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-3-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tab" tabindex="0">Ubuntu / debian</button><button aria-controls="panel-3-QXJjaCBMaW51eA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tab" tabindex="-1">Arch Linux</button><button aria-controls="panel-3-RmVkb3JhIC8gUkhFTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tab" tabindex="-1">Fedora / RHEL</button></div><div aria-labelledby="tab-3-VWJ1bnR1IC8gZGViaWFu" class="sphinx-tabs-panel group-tab" id="panel-3-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tabpanel" tabindex="0"><p>In <a class="reference internal" href="#debian-s-apache-layout"><span class="std std-ref">Debian’s Apache layout</span></a> you create a <code class="docutils literal notranslate"><span class="pre">searxng.conf</span></code> with the
<code class="docutils literal notranslate"><span class="pre">&lt;Location</span> <span class="pre">/searxng</span> <span class="pre">&gt;</span></code> directive and save this file in the <em>sites
available</em> folder at <code class="docutils literal notranslate"><span class="pre">/etc/apache2/sites-available</span></code>.  To enable the
<code class="docutils literal notranslate"><span class="pre">searxng.conf</span></code> use <a class="extlink-man reference external" href="https://manpages.debian.org/jump?q=a2ensite">a2ensite</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-H<span class="w"> </span>a2ensite<span class="w"> </span>searxng.conf
</pre></div>
</div>
</div><div aria-labelledby="tab-3-QXJjaCBMaW51eA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tabpanel" tabindex="0"><p>In the <code class="docutils literal notranslate"><span class="pre">/etc/httpd/conf/httpd.conf</span></code> file add a <a class="reference external" href="https://httpd.apache.org/docs/mod/core.html#includeoptional">IncludeOptional</a>
directive:</p>
<div class="highlight-apache notranslate"><div class="highlight"><pre><span></span><span class="nb">IncludeOptional</span><span class="w"> </span>sites-enabled/*.conf
</pre></div>
</div>
<p>Create two folders, one for the <em>available sites</em> and one for the <em>enabled sites</em>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>-p<span class="w"> </span>/etc/httpd/sites-available
mkdir<span class="w"> </span>-p<span class="w"> </span>/etc/httpd/sites-enabled
</pre></div>
</div>
<p>Create configuration at <code class="docutils literal notranslate"><span class="pre">/etc/httpd/sites-available</span></code> and place a
symlink to <code class="docutils literal notranslate"><span class="pre">sites-enabled</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-H<span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>/etc/httpd/sites-available/searxng.conf<span class="w"> </span><span class="se">\</span>
<span class="w">              </span>/etc/httpd/sites-enabled/searxng.conf
</pre></div>
</div>
</div><div aria-labelledby="tab-3-RmVkb3JhIC8gUkhFTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tabpanel" tabindex="0"><p>In the <code class="docutils literal notranslate"><span class="pre">/etc/httpd/conf/httpd.conf</span></code> file add a <a class="reference external" href="https://httpd.apache.org/docs/mod/core.html#includeoptional">IncludeOptional</a>
directive:</p>
<div class="highlight-apache notranslate"><div class="highlight"><pre><span></span><span class="nb">IncludeOptional</span><span class="w"> </span>sites-enabled/*.conf
</pre></div>
</div>
<p>Create two folders, one for the <em>available sites</em> and one for the <em>enabled sites</em>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>-p<span class="w"> </span>/etc/httpd/sites-available
mkdir<span class="w"> </span>-p<span class="w"> </span>/etc/httpd/sites-enabled
</pre></div>
</div>
<p>Create configuration at <code class="docutils literal notranslate"><span class="pre">/etc/httpd/sites-available</span></code> and place a
symlink to <code class="docutils literal notranslate"><span class="pre">sites-enabled</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-H<span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>/etc/httpd/sites-available/searxng.conf<span class="w"> </span><span class="se">\</span>
<span class="w">              </span>/etc/httpd/sites-enabled/searxng.conf
</pre></div>
</div>
</div></div>
</section>
</section>
<section id="apache-s-searxng-site">
<span id="apache-searxng-site"></span><h4><a class="toc-backref" href="#id9" role="doc-backlink">Apache’s SearXNG site</a><a class="headerlink" href="#apache-s-searxng-site" title="Link to this heading">¶</a></h4>
<aside class="sidebar">
<p class="sidebar-title">uWSGI</p>
<p>Use <a class="reference external" href="https://uwsgi-docs.readthedocs.io/en/latest/Apache.html#mod-proxy-uwsgi">mod_proxy_uwsgi</a> / don’t use the old <a class="reference external" href="https://uwsgi-docs.readthedocs.io/en/latest/Apache.html#mod-uwsgi">mod_uwsgi</a> anymore.</p>
</aside>
<p>To proxy the incoming requests to the SearXNG instance Apache needs the
<a class="reference external" href="https://httpd.apache.org/docs/current/mod/mod_proxy.html">mod_proxy</a> module (<a class="reference internal" href="#apache-modules"><span class="std std-ref">Apache modules</span></a>).</p>
<aside class="sidebar">
<p class="sidebar-title">HTTP headers</p>
<p>With <a class="reference external" href="https://httpd.apache.org/docs/trunk/mod/mod_proxy.html#proxypreservehost">ProxyPreserveHost</a> the incoming <code class="docutils literal notranslate"><span class="pre">Host</span></code> header is passed to the proxied
host.</p>
</aside>
<p>Depending on what your SearXNG installation is listening on, you need a http
<a class="reference external" href="https://httpd.apache.org/docs/current/mod/mod_proxy_http.html">mod_proxy_http</a>) or socket (<a class="reference external" href="https://uwsgi-docs.readthedocs.io/en/latest/Apache.html#mod-proxy-uwsgi">mod_proxy_uwsgi</a>) communication to upstream.</p>
<p>The <a class="reference internal" href="#installation-scripts"><span class="std std-ref">Installation Script</span></a> installs the <a class="reference internal" href="#use-default-settings-yml"><span class="std std-ref">reference setup</span></a> and a <a class="reference internal" href="#uwsgi-setup"><span class="std std-ref">uWSGI setup</span></a> that listens on a socket by default.
You can install and activate your own <code class="docutils literal notranslate"><span class="pre">searxng.conf</span></code> like shown in
<a class="reference internal" href="#apache-sites"><span class="std std-ref">Apache sites</span></a>.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-4-c29ja2V0" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-4-c29ja2V0" name="c29ja2V0" role="tab" tabindex="0">socket</button><button aria-controls="panel-4-aHR0cA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-aHR0cA==" name="aHR0cA==" role="tab" tabindex="-1">http</button></div><div aria-labelledby="tab-4-c29ja2V0" class="sphinx-tabs-panel group-tab" id="panel-4-c29ja2V0" name="c29ja2V0" role="tabpanel" tabindex="0"></div><div aria-labelledby="tab-4-aHR0cA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-aHR0cA==" name="aHR0cA==" role="tabpanel" tabindex="0"></div></div>
<p id="restart-apache">Restart service:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-5-VWJ1bnR1IC8gZGViaWFu" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-5-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tab" tabindex="0">Ubuntu / debian</button><button aria-controls="panel-5-QXJjaCBMaW51eA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tab" tabindex="-1">Arch Linux</button><button aria-controls="panel-5-RmVkb3JhIC8gUkhFTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tab" tabindex="-1">Fedora / RHEL</button></div><div aria-labelledby="tab-5-VWJ1bnR1IC8gZGViaWFu" class="sphinx-tabs-panel group-tab" id="panel-5-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-H<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>apache2
sudo<span class="w"> </span>-H<span class="w"> </span>service<span class="w"> </span>uwsgi<span class="w"> </span>restart<span class="w"> </span>searxng
</pre></div>
</div>
</div><div aria-labelledby="tab-5-QXJjaCBMaW51eA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-H<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>httpd
sudo<span class="w"> </span>-H<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>uwsgi@searxng
</pre></div>
</div>
</div><div aria-labelledby="tab-5-RmVkb3JhIC8gUkhFTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-H<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>httpd
sudo<span class="w"> </span>-H<span class="w"> </span>touch<span class="w"> </span>/etc/uwsgi.d/searxng.ini
</pre></div>
</div>
</div></div>
</section>
<section id="disable-logs">
<h4><a class="toc-backref" href="#id10" role="doc-backlink">disable logs</a><a class="headerlink" href="#disable-logs" title="Link to this heading">¶</a></h4>
<p>For better privacy you can disable Apache logs.  In the examples above activate
one of the lines and <a class="reference internal" href="#restart-apache">restart apache</a>:</p>
<div class="highlight-apache notranslate"><div class="highlight"><pre><span></span><span class="nb">SetEnvIf</span><span class="w"> </span>Request_URI<span class="w"> </span><span class="s2">&quot;/searxng&quot;</span><span class="w"> </span>dontlog
<span class="c"># CustomLog /dev/null combined env=dontlog</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">CustomLog</span></code> directive disables logs for the entire (virtual) server, use it
when the URL of the service does not have a path component (<code class="docutils literal notranslate"><span class="pre">/searxng</span></code>), so when
SearXNG is located at root (<code class="docutils literal notranslate"><span class="pre">/</span></code>).</p>
</section>
</section>
<span id="document-admin/update-searxng"></span><section id="searxng-maintenance">
<span id="id1"></span><h3>SearXNG maintenance<a class="headerlink" href="#searxng-maintenance" title="Link to this heading">¶</a></h3>
<aside class="sidebar">
<p class="sidebar-title">further read</p>
<ul class="simple">
<li><p><a class="reference internal" href="#toolboxing"><span class="std std-ref">DevOps tooling box</span></a></p></li>
<li><p><a class="reference internal" href="#uwsgi-maintenance"><span class="std std-ref">uWSGI maintenance</span></a></p></li>
</ul>
</aside>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#how-to-update" id="id3">How to update</a></p></li>
<li><p><a class="reference internal" href="#how-to-inspect-debug" id="id4">How to inspect &amp; debug</a></p></li>
<li><p><a class="reference internal" href="#migrate-and-stay-tuned" id="id5">Migrate and stay tuned!</a></p>
<ul>
<li><p><a class="reference internal" href="#check-after-installation" id="id6">Check after Installation</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="how-to-update">
<span id="update-searxng"></span><h4><a class="toc-backref" href="#id3" role="doc-backlink">How to update</a><a class="headerlink" href="#how-to-update" title="Link to this heading">¶</a></h4>
<p>How to update depends on the <a class="reference internal" href="#installation"><span class="std std-ref">Installation</span></a> method.  If you have used the
<a class="reference internal" href="#installation-scripts"><span class="std std-ref">Installation Script</span></a>, use the <code class="docutils literal notranslate"><span class="pre">update</span></code> command from the <a class="reference internal" href="#searxng-sh"><span class="std std-ref">utils/searxng.sh</span></a>
script.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-H<span class="w"> </span>./utils/searxng.sh<span class="w"> </span>instance<span class="w"> </span>update
</pre></div>
</div>
</section>
<section id="how-to-inspect-debug">
<span id="inspect-searxng"></span><h4><a class="toc-backref" href="#id4" role="doc-backlink">How to inspect &amp; debug</a><a class="headerlink" href="#how-to-inspect-debug" title="Link to this heading">¶</a></h4>
<p>How to debug depends on the <a class="reference internal" href="#installation"><span class="std std-ref">Installation</span></a> method.  If you have used the
<a class="reference internal" href="#installation-scripts"><span class="std std-ref">Installation Script</span></a>, use the <code class="docutils literal notranslate"><span class="pre">inspect</span></code> command from the <a class="reference internal" href="#searxng-sh"><span class="std std-ref">utils/searxng.sh</span></a>
script.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-H<span class="w"> </span>./utils/searxng.sh<span class="w"> </span>instance<span class="w"> </span>inspect
</pre></div>
</div>
</section>
<section id="migrate-and-stay-tuned">
<span id="id2"></span><h4><a class="toc-backref" href="#id5" role="doc-backlink">Migrate and stay tuned!</a><a class="headerlink" href="#migrate-and-stay-tuned" title="Link to this heading">¶</a></h4>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<ul class="simple">
<li><p><a class="extlink-pull reference external" href="https://github.com/searxng/searxng/pull/1332">PR 1332</a></p></li>
<li><p><a class="extlink-pull reference external" href="https://github.com/searxng/searxng/pull/456">PR 456</a></p></li>
<li><p><a class="extlink-pull reference external" href="https://github.com/searxng/searxng/pull/446#issuecomment-954730358">A comment about rolling release</a></p></li>
</ul>
</aside>
<p>SearXNG is a <em>rolling release</em>; each commit to the master branch is a release.
SearXNG is growing rapidly, the services and opportunities are change every now
and then, to name just a few:</p>
<ul class="simple">
<li><p>Bot protection has been switched from filtron to SearXNG’s <a class="reference internal" href="#limiter"><span class="std std-ref">limiter</span></a>, this requires a <a class="reference internal" href="#settings-valkey"><span class="std std-ref">Valkey</span></a> database.</p></li>
</ul>
<p>To stay tuned and get in use of the new features, instance maintainers have to
update the SearXNG code regularly (see <a class="reference internal" href="#update-searxng"><span class="std std-ref">How to update</span></a>).  As the above
examples show, this is not always enough, sometimes services have to be set up
or reconfigured and sometimes services that are no longer needed should be
uninstalled.</p>
<p>Here you will find a list of changes that affect the infrastructure.  Please
check to what extent it is necessary to update your installations:</p>
<dl class="simple">
<dt><a class="extlink-pull reference external" href="https://github.com/searxng/searxng/pull/1595">PR 1595</a>: <code class="docutils literal notranslate"><span class="pre">[fix]</span> <span class="pre">uWSGI:</span> <span class="pre">increase</span> <span class="pre">buffer-size</span></code></dt><dd><p>Re-install uWSGI (<a class="reference internal" href="#searxng-sh"><span class="std std-ref">utils/searxng.sh</span></a>) or fix your uWSGI <code class="docutils literal notranslate"><span class="pre">searxng.ini</span></code>
file manually.</p>
</dd>
</dl>
<section id="check-after-installation">
<h5><a class="toc-backref" href="#id6" role="doc-backlink">Check after Installation</a><a class="headerlink" href="#check-after-installation" title="Link to this heading">¶</a></h5>
<p>Once you have done your installation, you can run a SearXNG <em>check</em> procedure,
to see if there are some left overs.  In this example there exists a <em>old</em>
<code class="docutils literal notranslate"><span class="pre">/etc/searx/settings.yml</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo -H ./utils/searxng.sh instance check

SearXNG checks
--------------
ERROR: settings.yml in /etc/searx/ is deprecated, move file to folder /etc/searxng/
...
INFO    searx.valkeydb                 : connecting to Valkey db=0 path=&#39;/usr/local/searxng-valkey/run/valkey.sock&#39;
INFO    searx.valkeydb                 : connected to Valkey
</pre></div>
</div>
</section>
</section>
</section>
<span id="document-admin/answer-captcha"></span><section id="answer-captcha-from-server-s-ip">
<h3>Answer CAPTCHA from server’s IP<a class="headerlink" href="#answer-captcha-from-server-s-ip" title="Link to this heading">¶</a></h3>
<p>With a SSH tunnel we can send requests from server’s IP and solve a CAPTCHA that
blocks requests from this IP.  If your SearXNG instance is hosted at
<code class="docutils literal notranslate"><span class="pre">example.org</span></code> and your login is <code class="docutils literal notranslate"><span class="pre">user</span></code> you can setup a proxy simply by
<a class="extlink-man reference external" href="https://manpages.debian.org/jump?q=ssh">ssh</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># SOCKS server: socks://127.0.0.1:8080</span>

$<span class="w"> </span>ssh<span class="w"> </span>-q<span class="w"> </span>-N<span class="w"> </span>-D<span class="w"> </span><span class="m">8080</span><span class="w"> </span>user@example.org
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">socks://localhost:8080</span></code> from above can be tested by:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-c2VydmVyJ3MgSVA=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-c2VydmVyJ3MgSVA=" name="c2VydmVyJ3MgSVA=" role="tab" tabindex="0">server’s IP</button><button aria-controls="panel-0-ZGVza3RvcCdzIElQ" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-ZGVza3RvcCdzIElQ" name="ZGVza3RvcCdzIElQ" role="tab" tabindex="-1">desktop’s IP</button></div><div aria-labelledby="tab-0-c2VydmVyJ3MgSVA=" class="sphinx-tabs-panel group-tab" id="panel-0-c2VydmVyJ3MgSVA=" name="c2VydmVyJ3MgSVA=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>curl<span class="w"> </span>-x<span class="w"> </span>socks://127.0.0.1:8080<span class="w"> </span>http://ipecho.net/plain
n.n.n.n
</pre></div>
</div>
</div><div aria-labelledby="tab-0-ZGVza3RvcCdzIElQ" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-ZGVza3RvcCdzIElQ" name="ZGVza3RvcCdzIElQ" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>curl<span class="w"> </span>http://ipecho.net/plain
x.x.x.x
</pre></div>
</div>
</div></div>
<p>In the settings of the WEB browser open the <em>“Network Settings”</em> and setup a
proxy on <code class="docutils literal notranslate"><span class="pre">SOCKS5</span> <span class="pre">127.0.0.1:8080</span></code> (see screenshot below).  In the WEB browser
check the IP from the server is used:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://ipecho.net/plain">http://ipecho.net/plain</a></p></li>
</ul>
<p>Now open the search engine that blocks requests from your server’s IP.  If you
have <a class="reference external" href="https://github.com/searxng/searxng/issues/2011#issuecomment-1553317619">issues with the qwant engine</a>,
solve the CAPTCHA from <a class="reference external" href="https://www.qwant.com/">qwant.com</a>.</p>
<hr class="docutils" />
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-RmlyZWZveA==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-RmlyZWZveA==" name="RmlyZWZveA==" role="tab" tabindex="0">Firefox</button></div><div aria-labelledby="tab-1-RmlyZWZveA==" class="sphinx-tabs-panel group-tab" id="panel-1-RmlyZWZveA==" name="RmlyZWZveA==" role="tabpanel" tabindex="0"><figure class="align-default" id="id1">
<img alt="FFox proxy on SOCKS5, 127.0.0.1:8080" src="_images/ffox-setting-proxy-socks.png" />
<figcaption>
<p><span class="caption-number">Fig. 1 </span><span class="caption-text">Firefox’s network settings</span><a class="headerlink" href="#id1" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</div></div>
<div class="admonition-man-ssh-manual admonition">
<p class="admonition-title"><a class="extlink-man reference external" href="https://manpages.debian.org/jump?q=ssh">ssh</a> manual:</p>
<dl class="simple">
<dt>-D [bind_address:]port</dt><dd><p>Specifies a local “dynamic” application-level port forwarding.  This works
by allocating a socket to listen to port on the local side ..  Whenever a
connection is made to this port, the connection is forwarded over the
secure channel, and the application protocol is then used to determine
where to connect to from the remote machine .. ssh will act as a SOCKS
server ..</p>
</dd>
</dl>
<dl class="option-list">
<dt><kbd><span class="option">-N</span></kbd></dt>
<dd><p>Do not execute a remote command.  This is useful for just forwarding ports.</p>
</dd>
</dl>
</div>
</section>
<span id="document-admin/searx.favicons"></span><section id="favicons">
<span id="id1"></span><h3>Favicons<a class="headerlink" href="#favicons" title="Link to this heading">¶</a></h3>
<aside class="sidebar">
<p class="sidebar-title">warning</p>
<p>Don’t activate the favicons before reading the documentation.</p>
</aside>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#infrastructure" id="id3">Infrastructure</a></p></li>
<li><p><a class="reference internal" href="#setting-up-the-cache" id="id4">Setting up the cache</a></p>
<ul>
<li><p><a class="reference internal" href="#maintenance-of-the-cache" id="id5">Maintenance of the cache</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#proxy-configuration" id="id6">Proxy configuration</a></p>
<ul>
<li><p><a class="reference internal" href="#register-resolvers" id="id7">Register resolvers</a></p></li>
</ul>
</li>
</ul>
</nav>
<p>Activating the favicons in SearXNG is very easy, but this <strong>generates a
significantly higher load</strong> in the client/server communication and increases
resources needed on the server.</p>
<p>To mitigate these disadvantages, various methods have been implemented,
including a <em>cache</em>.  The cache must be parameterized according to your own
requirements and maintained regularly.</p>
<p>To activate favicons in SearXNG’s result list, set a default
<code class="docutils literal notranslate"><span class="pre">favicon_resolver</span></code> in the <a class="reference internal" href="#settings-search"><span class="std std-ref">search</span></a> settings:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">search</span><span class="p">:</span>
<span class="w">  </span><span class="nt">favicon_resolver</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;duckduckgo&quot;</span>
</pre></div>
</div>
<p>By default and without any extensions, SearXNG serves these resolvers:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">duckduckgo</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">allesedv</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">google</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">yandex</span></code></p></li>
</ul>
<p>With the above setting favicons are displayed, the user has the option to
deactivate this feature in his settings.  If the user is to have the option of
selecting from several <em>resolvers</em>, a further setting is required / but this
setting will be discussed <a class="reference internal" href="#register-resolvers"><span class="std std-ref">later</span></a> in this article,
first we have to setup the favicons cache.</p>
<section id="infrastructure">
<h4><a class="toc-backref" href="#id3" role="doc-backlink">Infrastructure</a><a class="headerlink" href="#infrastructure" title="Link to this heading">¶</a></h4>
<p>The infrastructure for providing the favicons essentially consists of three
parts:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#module-searx.favicons.proxy" title="searx.favicons.proxy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Favicons-Proxy</span></code></a> (aka <em>proxy</em>)</p></li>
<li><p><a class="reference internal" href="#module-searx.favicons.resolvers" title="searx.favicons.resolvers"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Favicons-Resolvers</span></code></a> (aka <em>resolver</em>)</p></li>
<li><p><a class="reference internal" href="#module-searx.favicons.cache" title="searx.favicons.cache"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Favicons-Cache</span></code></a> (aka <em>cache</em>)</p></li>
</ul>
<p>To protect the privacy of users, the favicons are provided via a <em>proxy</em>.  This
<em>proxy</em> is automatically activated with the above activation of a <em>resolver</em>.
Additional requests are required to provide the favicons: firstly, the <em>proxy</em>
must process the incoming requests and secondly, the <em>resolver</em> must make
outgoing requests to obtain the favicons from external sources.</p>
<p>A <em>cache</em> has been developed to massively reduce both, incoming and outgoing
requests.  This <em>cache</em> is also activated automatically with the above
activation of a <em>resolver</em>.  In its defaults, however, the <em>cache</em> is minimal
and not well suitable for a production environment!</p>
</section>
<section id="setting-up-the-cache">
<span id="favicon-cache-setup"></span><h4><a class="toc-backref" href="#id4" role="doc-backlink">Setting up the cache</a><a class="headerlink" href="#setting-up-the-cache" title="Link to this heading">¶</a></h4>
<p>To parameterize the <em>cache</em> and more settings of the favicons infrastructure, a
<a class="reference external" href="https://toml.io/en/">TOML</a> configuration is created in the file <code class="docutils literal notranslate"><span class="pre">/etc/searxng/favicons.toml</span></code>.</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[favicons]</span>

<span class="n">cfg_schema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">   </span><span class="c1"># config&#39;s schema version no.</span>

<span class="k">[favicons.cache]</span>

<span class="n">db_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/var/cache/searxng/faviconcache.db&quot;</span><span class="w">  </span><span class="c1"># default: &quot;/tmp/faviconcache.db&quot;</span>
<span class="n">LIMIT_TOTAL_BYTES</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2147483648</span><span class="w">                 </span><span class="c1"># 2 GB / default: 50 MB</span>
<span class="c1"># HOLD_TIME = 5184000                            # 60 days / default: 30 days</span>
<span class="c1"># BLOB_MAX_BYTES = 40960                         # 40 KB / default 20 KB</span>
<span class="c1"># MAINTENANCE_MODE = &quot;off&quot;                       # default: &quot;auto&quot;</span>
<span class="c1"># MAINTENANCE_PERIOD = 600                       # 10min / default: 1h</span>
</pre></div>
</div>
<dl>
<dt><a class="reference internal" href="#searx.favicons.config.FaviconConfig.cfg_schema" title="searx.favicons.config.FaviconConfig.cfg_schema"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cfg_schema</span></code></a>:</dt><dd><p>Is required to trigger any processes required for future upgrades / don’t
change it.</p>
</dd>
<dt><a class="reference internal" href="#searx.favicons.cache.FaviconCacheConfig.db_url" title="searx.favicons.cache.FaviconCacheConfig.db_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cache.db_url</span></code></a>:</dt><dd><p>The path to the (<a class="reference external" href="https://www.sqlite.org/">SQLite</a>) database file.  The default path is in the <a class="reference external" href="https://refspecs.linuxfoundation.org/FHS_3.0/fhs/ch03s18.html">/tmp</a>
folder, which is deleted on every reboot and is therefore unsuitable for a
production environment.  The <a class="reference external" href="https://refspecs.linuxfoundation.org/FHS_3.0/fhs/index.html">FHS</a> provides the folder <a class="reference external" href="https://refspecs.linuxfoundation.org/FHS_3.0/fhs/ch05s05.html">/var/cache</a> for the
cache of applications, so a suitable storage location of SearXNG’s caches is
folder <code class="docutils literal notranslate"><span class="pre">/var/cache/searxng</span></code>.</p>
<p>In a standard installation (compare <a class="reference internal" href="#create-searxng-user"><span class="std std-ref">Create user</span></a>), the folder
must be created and the user under which the SearXNG process is running must
be given write permission to this folder.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>mkdir<span class="w"> </span>/var/cache/searxng
$<span class="w"> </span>sudo<span class="w"> </span>chown<span class="w"> </span>root:searxng<span class="w"> </span>/var/cache/searxng/
$<span class="w"> </span>sudo<span class="w"> </span>chmod<span class="w"> </span>g+w<span class="w"> </span>/var/cache/searxng/
</pre></div>
</div>
<p>In container systems, a volume should be mounted for this folder.  Check
whether the process in the container has read/write access to the mounted
folder.</p>
</dd>
<dt><a class="reference internal" href="#searx.favicons.cache.FaviconCacheConfig.LIMIT_TOTAL_BYTES" title="searx.favicons.cache.FaviconCacheConfig.LIMIT_TOTAL_BYTES"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cache.LIMIT_TOTAL_BYTES</span></code></a>:</dt><dd><p>Maximum of bytes stored in the cache of all blobs.  The limit is only reached
at each maintenance interval after which the oldest BLOBs are deleted; the
limit is exceeded during the maintenance period.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>If the maintenance period is too long or maintenance is switched
off completely, the cache grows uncontrollably.</p>
</div>
</dd>
</dl>
<p>SearXNG hosters can change other parameters of the cache as required:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.favicons.cache.FaviconCacheConfig.HOLD_TIME" title="searx.favicons.cache.FaviconCacheConfig.HOLD_TIME"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cache.HOLD_TIME</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.favicons.cache.FaviconCacheConfig.BLOB_MAX_BYTES" title="searx.favicons.cache.FaviconCacheConfig.BLOB_MAX_BYTES"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cache.BLOB_MAX_BYTES</span></code></a></p></li>
</ul>
<section id="maintenance-of-the-cache">
<h5><a class="toc-backref" href="#id5" role="doc-backlink">Maintenance of the cache</a><a class="headerlink" href="#maintenance-of-the-cache" title="Link to this heading">¶</a></h5>
<p>Regular maintenance of the cache is required!  By default, regular maintenance
is triggered automatically as part of the client requests:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.favicons.cache.FaviconCacheConfig.MAINTENANCE_MODE" title="searx.favicons.cache.FaviconCacheConfig.MAINTENANCE_MODE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cache.MAINTENANCE_MODE</span></code></a> (default <code class="docutils literal notranslate"><span class="pre">auto</span></code>)</p></li>
<li><p><a class="reference internal" href="#searx.favicons.cache.FaviconCacheConfig.MAINTENANCE_PERIOD" title="searx.favicons.cache.FaviconCacheConfig.MAINTENANCE_PERIOD"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cache.MAINTENANCE_PERIOD</span></code></a> (default <code class="docutils literal notranslate"><span class="pre">6000</span></code> / 1h)</p></li>
</ul>
<p>As an alternative to maintenance as part of the client request process, it is
also possible to carry out maintenance using an external process. For example,
by creating a <a class="extlink-man reference external" href="https://manpages.debian.org/jump?q=crontab">crontab</a> entry for maintenance:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>searx.favicons<span class="w"> </span>cache<span class="w"> </span>maintenance
</pre></div>
</div>
<p>The following command can be used to display the state of the cache:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>searx.favicons<span class="w"> </span>cache<span class="w"> </span>state
</pre></div>
</div>
</section>
</section>
<section id="proxy-configuration">
<span id="favicon-proxy-setup"></span><h4><a class="toc-backref" href="#id6" role="doc-backlink">Proxy configuration</a><a class="headerlink" href="#proxy-configuration" title="Link to this heading">¶</a></h4>
<p>Most of the options of the <a class="reference internal" href="#module-searx.favicons.proxy" title="searx.favicons.proxy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Favicons-Proxy</span></code></a> are
already set sensibly with settings from the <a class="reference internal" href="#searxng-settings-yml"><span class="std std-ref">settings.yml</span></a> and should not normally be adjusted.</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[favicons.proxy]</span>

<span class="n">max_age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5184000</span><span class="w">             </span><span class="c1"># 60 days / default: 7 days (604800 sec)</span>
</pre></div>
</div>
<dl class="simple">
<dt><a class="reference internal" href="#searx.favicons.proxy.FaviconProxyConfig.max_age" title="searx.favicons.proxy.FaviconProxyConfig.max_age"><code class="xref py py-obj docutils literal notranslate"><span class="pre">max_age</span></code></a>:</dt><dd><p>The <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control#response_directives">HTTP Cache-Control max-age</a> response directive indicates that the
response remains fresh until N seconds after the response is generated.  This
setting therefore determines how long a favicon remains in the client’s cache.
As a rule, in the favicons infrastructure of SearXNG’s this setting only
affects favicons whose byte size exceeds <a class="reference internal" href="#favicon-cache-setup"><span class="std std-ref">BLOB_MAX_BYTES</span></a> (the other favicons that are already in the cache are embedded as
<a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URLs">data URL</a> in the <a class="reference internal" href="#searx.favicons.proxy.favicon_url" title="searx.favicons.proxy.favicon_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generated</span> <span class="pre">HTML</span></code></a>,
which can greatly reduce the number of additional requests).</p>
</dd>
</dl>
<section id="register-resolvers">
<span id="id2"></span><h5><a class="toc-backref" href="#id7" role="doc-backlink">Register resolvers</a><a class="headerlink" href="#register-resolvers" title="Link to this heading">¶</a></h5>
<p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">resolver</span></code> is a function that obtains the favicon
from an external source.  The resolver functions available to the user are
registered with their fully qualified name (<a class="reference external" href="https://en.wikipedia.org/wiki/Fully_qualified_name">FQN</a>) in a <code class="docutils literal notranslate"><span class="pre">resolver_map</span></code>.</p>
<p>If no <code class="docutils literal notranslate"><span class="pre">resolver_map</span></code> is defined in the <code class="docutils literal notranslate"><span class="pre">favicon.toml</span></code>, the favicon
infrastructure of SearXNG generates this <code class="docutils literal notranslate"><span class="pre">resolver_map</span></code> automatically
depending on the <code class="docutils literal notranslate"><span class="pre">settings.yml</span></code>.  SearXNG would automatically generate the
following TOML configuration from the following YAML configuration:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">search</span><span class="p">:</span>
<span class="w">  </span><span class="nt">favicon_resolver</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;duckduckgo&quot;</span>
</pre></div>
</div>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[favicons.proxy.resolver_map]</span>

<span class="s2">&quot;duckduckgo&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;searx.favicons.resolvers.duckduckgo&quot;</span>
</pre></div>
</div>
<p>If this automatism is not desired, then (and only then) a separate
<code class="docutils literal notranslate"><span class="pre">resolver_map</span></code> must be created.  For example, to give the user two resolvers to
choose from, the following configuration could be used:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[favicons.proxy.resolver_map]</span>

<span class="s2">&quot;duckduckgo&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;searx.favicons.resolvers.duckduckgo&quot;</span>
<span class="s2">&quot;allesedv&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;searx.favicons.resolvers.allesedv&quot;</span>
<span class="c1"># &quot;google&quot; = &quot;searx.favicons.resolvers.google&quot;</span>
<span class="c1"># &quot;yandex&quot; = &quot;searx.favicons.resolvers.yandex&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>With each resolver, the resource requirement increases significantly.</p>
</div>
<p>The number of resolvers increases:</p>
<ul class="simple">
<li><p>the number of incoming/outgoing requests and</p></li>
<li><p>the number of favicons to be stored in the cache.</p></li>
</ul>
<p>In the following we list the resolvers available in the core of SearXNG, but via
the <a class="reference external" href="https://en.wikipedia.org/wiki/Fully_qualified_name">FQN</a> it is also possible to implement your own resolvers and integrate them
into the <em>proxy</em>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.favicons.resolvers.duckduckgo" title="searx.favicons.resolvers.duckduckgo"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.favicons.resolvers.duckduckgo</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.favicons.resolvers.allesedv" title="searx.favicons.resolvers.allesedv"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.favicons.resolvers.allesedv</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.favicons.resolvers.google" title="searx.favicons.resolvers.google"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.favicons.resolvers.google</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.favicons.resolvers.yandex" title="searx.favicons.resolvers.yandex"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.favicons.resolvers.yandex</span></code></a></p></li>
</ul>
</section>
</section>
</section>
<span id="document-admin/searx.limiter"></span><section id="limiter">
<span id="id1"></span><h3>Limiter<a class="headerlink" href="#limiter" title="Link to this heading">¶</a></h3>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<p>The limiter requires a <a class="reference internal" href="#settings-valkey"><span class="std std-ref">Valkey</span></a> database.</p>
</aside>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#enable-limiter" id="id3">Enable Limiter</a></p></li>
<li><p><a class="reference internal" href="#configure-limiter" id="id4">Configure Limiter</a></p></li>
<li><p><a class="reference internal" href="#limiter-toml" id="id5"><code class="docutils literal notranslate"><span class="pre">limiter.toml</span></code></a></p></li>
<li><p><a class="reference internal" href="#implementation" id="id6">Implementation</a></p></li>
</ul>
</nav>
<p id="module-searx.limiter">Bot protection / IP rate limitation.  The intention of rate limitation is to
limit suspicious requests from an IP.  The motivation behind this is the fact
that SearXNG passes through requests from bots and is thus classified as a bot
itself.  As a result, the SearXNG engine then receives a CAPTCHA or is blocked
by the search engine (the origin) in some other way.</p>
<p>To avoid blocking, the requests from bots to SearXNG must also be blocked, this
is the task of the limiter.  To perform this task, the limiter uses the methods
from the <a class="reference internal" href="#botdetection"><span class="std std-ref">Bot Detection</span></a>:</p>
<ul class="simple">
<li><p>Analysis of the HTTP header in the request / <a class="reference internal" href="#botdetection-probe-headers"><span class="std std-ref">Probe HTTP headers</span></a>
can be easily bypassed.</p></li>
<li><p>Block and pass lists in which IPs are listed / <a class="reference internal" href="#botdetection-ip-lists"><span class="std std-ref">IP lists</span></a>
are hard to maintain, since the IPs of bots are not all known and change over
the time.</p></li>
<li><p>Detection &amp; dynamically <a class="reference internal" href="#botdetection-rate-limit"><span class="std std-ref">Rate limit</span></a> of bots based on the
behavior of the requests.  For dynamically changeable IP lists a Valkey
database is needed.</p></li>
</ul>
<p>The prerequisite for IP based methods is the correct determination of the IP of
the client. The IP of the client is determined via the <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For">X-Forwarded-For</a> HTTP
header.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>A correct setup of the HTTP request headers <code class="docutils literal notranslate"><span class="pre">X-Forwarded-For</span></code> and
<code class="docutils literal notranslate"><span class="pre">X-Real-IP</span></code> is essential to be able to assign a request to an IP correctly:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.searxng.org/admin/installation-nginx.html#nginx-s-searxng-site">NGINX RequestHeader</a></p></li>
<li><p><a class="reference external" href="https://docs.searxng.org/admin/installation-apache.html#apache-s-searxng-site">Apache RequestHeader</a></p></li>
</ul>
</div>
<section id="enable-limiter">
<h4><a class="toc-backref" href="#id3" role="doc-backlink">Enable Limiter</a><a class="headerlink" href="#enable-limiter" title="Link to this heading">¶</a></h4>
<p>To enable the limiter activate:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">server</span><span class="p">:</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">limiter</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">  </span><span class="c1"># rate limit the number of request on the instance, block some bots</span>
</pre></div>
</div>
<p>and set the valkey-url connection. Check the value, it depends on your valkey DB
(see <a class="reference internal" href="#settings-valkey"><span class="std std-ref">valkey:</span></a>), by example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">valkey</span><span class="p">:</span>
<span class="w">  </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">valkey://localhost:6379/0</span>
</pre></div>
</div>
</section>
<section id="configure-limiter">
<h4><a class="toc-backref" href="#id4" role="doc-backlink">Configure Limiter</a><a class="headerlink" href="#configure-limiter" title="Link to this heading">¶</a></h4>
<p>The methods of <a class="reference internal" href="#botdetection"><span class="std std-ref">Bot Detection</span></a> the limiter uses are configured in a local
file <code class="docutils literal notranslate"><span class="pre">/etc/searxng/limiter.toml</span></code>.  The defaults are shown in <a class="reference internal" href="#limiter-toml">limiter.toml</a> /
Don’t copy all values to your local configuration, just enable what you need by
overwriting the defaults.  For instance to activate the <code class="docutils literal notranslate"><span class="pre">link_token</span></code> method in
the <a class="reference internal" href="#botdetection-ip-limit"><span class="std std-ref">Method ip_limit</span></a> you only need to set this option to <code class="docutils literal notranslate"><span class="pre">true</span></code>:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[botdetection.ip_limit]</span>
<span class="n">link_token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</pre></div>
</div>
</section>
<section id="limiter-toml">
<span id="id2"></span><h4><a class="toc-backref" href="#id5" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">limiter.toml</span></code></a><a class="headerlink" href="#limiter-toml" title="Link to this heading">¶</a></h4>
<p>In this file the limiter finds the configuration of the <a class="reference internal" href="#botdetection"><span class="std std-ref">Bot Detection</span></a>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#botdetection-ip-lists"><span class="std std-ref">IP lists</span></a></p></li>
<li><p><a class="reference internal" href="#botdetection-rate-limit"><span class="std std-ref">Rate limit</span></a></p></li>
<li><p><a class="reference internal" href="#botdetection-probe-headers"><span class="std std-ref">Probe HTTP headers</span></a></p></li>
</ul>
<div class="code toml highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">botdetection</span><span class="p">]</span>

<span class="c1"># The prefix defines the number of leading bits in an address that are compared</span>
<span class="c1"># to determine whether or not an address is part of a (client) network.</span>

<span class="n">ipv4_prefix</span> <span class="o">=</span> <span class="mi">32</span>
<span class="n">ipv6_prefix</span> <span class="o">=</span> <span class="mi">48</span>

<span class="c1"># If the request IP is in trusted_proxies list, the client IP address is</span>
<span class="c1"># extracted from the X-Forwarded-For and X-Real-IP headers. This should be</span>
<span class="c1"># used if SearXNG is behind a reverse proxy or load balancer.</span>

<span class="n">trusted_proxies</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s1">&#39;127.0.0.0/8&#39;</span><span class="p">,</span>
  <span class="s1">&#39;::1&#39;</span><span class="p">,</span>
  <span class="c1"># &#39;192.168.0.0/16&#39;,</span>
  <span class="c1"># &#39;172.16.0.0/12&#39;,</span>
  <span class="c1"># &#39;10.0.0.0/8&#39;,</span>
  <span class="c1"># &#39;fd00::/8&#39;,</span>
<span class="p">]</span>

<span class="p">[</span><span class="n">botdetection</span><span class="o">.</span><span class="n">ip_limit</span><span class="p">]</span>

<span class="c1"># To get unlimited access in a local network, by default link-local addresses</span>
<span class="c1"># (networks) are not monitored by the ip_limit</span>
<span class="n">filter_link_local</span> <span class="o">=</span> <span class="n">false</span>

<span class="c1"># activate link_token method in the ip_limit method</span>
<span class="n">link_token</span> <span class="o">=</span> <span class="n">false</span>

<span class="p">[</span><span class="n">botdetection</span><span class="o">.</span><span class="n">ip_lists</span><span class="p">]</span>

<span class="c1"># In the limiter, the ip_lists method has priority over all other methods -&gt; if</span>
<span class="c1"># an IP is in the pass_ip list, it has unrestricted access and it is also not</span>
<span class="c1"># checked if e.g. the &quot;user agent&quot; suggests a bot (e.g. curl).</span>

<span class="n">block_ip</span> <span class="o">=</span> <span class="p">[</span>
  <span class="c1"># &#39;93.184.216.34&#39;,  # IPv4 of example.org</span>
  <span class="c1"># &#39;257.1.1.1&#39;,      # invalid IP --&gt; will be ignored, logged in ERROR class</span>
<span class="p">]</span>

<span class="n">pass_ip</span> <span class="o">=</span> <span class="p">[</span>
  <span class="c1"># &#39;192.168.0.0/16&#39;,      # IPv4 private network</span>
  <span class="c1"># &#39;fe80::/10&#39;            # IPv6 linklocal / wins over botdetection.ip_limit.filter_link_local</span>
<span class="p">]</span>

<span class="c1"># Activate passlist of (hardcoded) IPs from the SearXNG organization,</span>
<span class="c1"># e.g. `check.searx.space`.</span>
<span class="n">pass_searxng_org</span> <span class="o">=</span> <span class="n">true</span>
</pre></div>
</div>
</section>
<section id="implementation">
<h4><a class="toc-backref" href="#id6" role="doc-backlink">Implementation</a><a class="headerlink" href="#implementation" title="Link to this heading">¶</a></h4>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.limiter.LIMITER_CFG_SCHEMA">
<span class="sig-prename descclassname"><span class="pre">searx.limiter.</span></span><span class="sig-name descname"><span class="pre">LIMITER_CFG_SCHEMA</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/mnt/d/code/searxng/searx/limiter.toml')</span></em><a class="headerlink" href="#searx.limiter.LIMITER_CFG_SCHEMA" title="Link to this definition">¶</a></dt>
<dd><p>Base configuration (schema) of the botdetection.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.limiter.get_cfg">
<span class="sig-prename descclassname"><span class="pre">searx.limiter.</span></span><span class="sig-name descname"><span class="pre">get_cfg</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#searx.botdetection.config.Config" title="searx.botdetection.config.Config"><span class="pre">Config</span></a></span></span><a class="headerlink" href="#searx.limiter.get_cfg" title="Link to this definition">¶</a></dt>
<dd><p>Returns SearXNG’s global limiter configuration.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.limiter.pre_request">
<span class="sig-prename descclassname"><span class="pre">searx.limiter.</span></span><span class="sig-name descname"><span class="pre">pre_request</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#searx.limiter.pre_request" title="Link to this definition">¶</a></dt>
<dd><p>See <a class="reference external" href="https://flask.palletsprojects.com/en/stable/api/#flask.Flask.before_request" title="(in Flask v3.1.x)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flask.Flask.before_request</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.limiter.is_installed">
<span class="sig-prename descclassname"><span class="pre">searx.limiter.</span></span><span class="sig-name descname"><span class="pre">is_installed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#searx.limiter.is_installed" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if limiter is active and a valkey DB is available.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.limiter.initialize">
<span class="sig-prename descclassname"><span class="pre">searx.limiter.</span></span><span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://flask.palletsprojects.com/en/stable/api/#flask.Flask" title="(in Flask v3.1.x)"><span class="pre">Flask</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.limiter.initialize" title="Link to this definition">¶</a></dt>
<dd><p>Install the limiter</p>
</dd></dl>

</section>
<span id="document-admin/api"></span><section id="administration-api">
<span id="adminapi"></span><h3>Administration API<a class="headerlink" href="#administration-api" title="Link to this heading">¶</a></h3>
<section id="get-configuration-data">
<h4>Get configuration data<a class="headerlink" href="#get-configuration-data" title="Link to this heading">¶</a></h4>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/config</span>  <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>
</div>
<section id="sample-response">
<h5>Sample response<a class="headerlink" href="#sample-response" title="Link to this heading">¶</a></h5>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;autocomplete&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;map&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;it&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;images&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;default_locale&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;default_theme&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;simple&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;engines&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;map&quot;</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;openstreetmap&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;shortcut&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;osm&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;it&quot;</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;arch linux wiki&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;shortcut&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;al&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;images&quot;</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;google images&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;shortcut&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;goi&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;it&quot;</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bitbucket&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;shortcut&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bb&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;instance_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SearXNG&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;locales&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;de&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Deutsch (German)&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;English&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;eo&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Esperanto (Esperanto)&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;plugins&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;HTTPS rewrite&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;safe_search&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="embed-search-bar">
<h4>Embed search bar<a class="headerlink" href="#embed-search-bar" title="Link to this heading">¶</a></h4>
<p>The search bar can be embedded into websites.  Just paste the example into the
HTML of the site.  URL of the SearXNG instance and values are customizable.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;https://example.org/&quot;</span><span class="p">&gt;</span>
  <span class="cm">&lt;!-- search      --&gt;</span> <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;q&quot;</span><span class="p">&gt;</span>
  <span class="cm">&lt;!-- categories  --&gt;</span> <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;categories&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;general,social media&quot;</span><span class="p">&gt;</span>
  <span class="cm">&lt;!-- language    --&gt;</span> <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;lang&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;all&quot;</span><span class="p">&gt;</span>
  <span class="cm">&lt;!-- locale      --&gt;</span> <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;locale&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;en&quot;</span><span class="p">&gt;</span>
  <span class="cm">&lt;!-- date filter --&gt;</span> <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;time_range&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;month&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
</section>
<span id="document-admin/architecture"></span><section id="architecture">
<span id="id1"></span><h3>Architecture<a class="headerlink" href="#architecture" title="Link to this heading">¶</a></h3>
<aside class="sidebar">
<p class="sidebar-title">Further reading</p>
<ul class="simple">
<li><p>Reverse Proxy: <a class="reference internal" href="#apache-searxng-site"><span class="std std-ref">Apache</span></a> &amp; <a class="reference internal" href="#nginx-searxng-site"><span class="std std-ref">nginx</span></a></p></li>
<li><p>uWSGI: <a class="reference internal" href="#searxng-uwsgi"><span class="std std-ref">uWSGI</span></a></p></li>
<li><p>SearXNG: <a class="reference internal" href="#installation-basic"><span class="std std-ref">Step by step installation</span></a></p></li>
</ul>
</aside>
<p>Herein you will find some hints and suggestions about typical architectures of
SearXNG infrastructures.</p>
<section id="uwsgi-setup">
<span id="architecture-uwsgi"></span><h4>uWSGI Setup<a class="headerlink" href="#uwsgi-setup" title="Link to this heading">¶</a></h4>
<p>We start with a <em>reference</em> setup for public SearXNG instances which can be build
up and maintained by the scripts from our <a class="reference internal" href="#toolboxing"><span class="std std-ref">DevOps tooling box</span></a>.</p>
<figure class="align-default" id="id2">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">digraph</span> <span class="n">G</span> <span class="p">{</span>

  <span class="n">node</span> <span class="p">[</span><span class="n">style</span><span class="o">=</span><span class="n">filled</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="n">box</span><span class="p">,</span> <span class="n">fillcolor</span><span class="o">=</span><span class="s2">&quot;#ffffcc&quot;</span><span class="p">,</span> <span class="n">fontname</span><span class="o">=</span><span class="n">Sans</span><span class="p">];</span>
  <span class="n">edge</span> <span class="p">[</span><span class="n">fontname</span><span class="o">=</span><span class="s2">&quot;Sans&quot;</span><span class="p">];</span>

  <span class="n">browser</span> <span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;browser&quot;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="n">tab</span><span class="p">,</span> <span class="n">fillcolor</span><span class="o">=</span><span class="n">aliceblue</span><span class="p">];</span>
  <span class="n">rp</span>      <span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;reverse proxy&quot;</span><span class="p">];</span>
  <span class="n">static</span>  <span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;static files&quot;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="n">folder</span><span class="p">,</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;url to configure static files&quot;</span><span class="p">,</span> <span class="n">fillcolor</span><span class="o">=</span><span class="n">lightgray</span><span class="p">];</span>
  <span class="n">uwsgi</span>   <span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;uwsgi&quot;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="n">parallelogram</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;https://docs.searxng.org/utils/searxng.sh.html&quot;</span><span class="p">]</span>
  <span class="n">valkey</span>  <span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;valkey DB&quot;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="n">cylinder</span><span class="p">];</span>

  <span class="n">searxng1</span>  <span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;SearXNG #1&quot;</span><span class="p">,</span> <span class="n">fontcolor</span><span class="o">=</span><span class="n">blue3</span><span class="p">];</span>
  <span class="n">searxng2</span>  <span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;SearXNG #2&quot;</span><span class="p">,</span> <span class="n">fontcolor</span><span class="o">=</span><span class="n">blue3</span><span class="p">];</span>
  <span class="n">searxng3</span>  <span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;SearXNG #3&quot;</span><span class="p">,</span> <span class="n">fontcolor</span><span class="o">=</span><span class="n">blue3</span><span class="p">];</span>
  <span class="n">searxng4</span>  <span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;SearXNG #4&quot;</span><span class="p">,</span> <span class="n">fontcolor</span><span class="o">=</span><span class="n">blue3</span><span class="p">];</span>

  <span class="n">browser</span> <span class="o">-&gt;</span> <span class="n">rp</span> <span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;HTTPS&quot;</span><span class="p">]</span>

  <span class="n">subgraph</span> <span class="n">cluster_searxng</span> <span class="p">{</span>
      <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;SearXNG instance&quot;</span> <span class="n">fontname</span><span class="o">=</span><span class="n">Sans</span><span class="p">;</span>
      <span class="n">bgcolor</span><span class="o">=</span><span class="s2">&quot;#fafafa&quot;</span><span class="p">;</span>
      <span class="p">{</span> <span class="n">rank</span><span class="o">=</span><span class="n">same</span><span class="p">;</span> <span class="n">static</span> <span class="n">rp</span> <span class="p">};</span>
      <span class="n">rp</span> <span class="o">-&gt;</span> <span class="n">static</span>  <span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;optional: reverse proxy serves static files&quot;</span><span class="p">,</span> <span class="n">fillcolor</span><span class="o">=</span><span class="n">slategray</span><span class="p">,</span> <span class="n">fontcolor</span><span class="o">=</span><span class="n">slategray</span><span class="p">];</span>
      <span class="n">rp</span> <span class="o">-&gt;</span> <span class="n">uwsgi</span> <span class="p">[</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;http:// (tcp) or unix:// (socket)&quot;</span><span class="p">];</span>
      <span class="n">uwsgi</span> <span class="o">-&gt;</span> <span class="n">searxng1</span> <span class="o">-&gt;</span> <span class="n">valkey</span><span class="p">;</span>
      <span class="n">uwsgi</span> <span class="o">-&gt;</span> <span class="n">searxng2</span> <span class="o">-&gt;</span> <span class="n">valkey</span><span class="p">;</span>
      <span class="n">uwsgi</span> <span class="o">-&gt;</span> <span class="n">searxng3</span> <span class="o">-&gt;</span> <span class="n">valkey</span><span class="p">;</span>
      <span class="n">uwsgi</span> <span class="o">-&gt;</span> <span class="n">searxng4</span> <span class="o">-&gt;</span> <span class="n">valkey</span><span class="p">;</span>
  <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<figcaption>
<p><span class="caption-number">Fig. 2 </span><span class="caption-text">Reference architecture of a public SearXNG setup.</span><a class="headerlink" href="#id2" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>The reference installation activates <code class="docutils literal notranslate"><span class="pre">server.limiter</span></code> and
<code class="docutils literal notranslate"><span class="pre">server.image_proxy</span></code> (<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/utils/templates/etc/searxng/settings.yml">/etc/searxng/settings.yml</a>)</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># SearXNG settings</span>

<span class="nt">use_default_settings</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="nt">general</span><span class="p">:</span>
<span class="w">  </span><span class="nt">debug</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">instance_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;SearXNG&quot;</span>

<span class="nt">search</span><span class="p">:</span>
<span class="w">  </span><span class="nt">safe_search</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">  </span><span class="nt">autocomplete</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;duckduckgo&#39;</span>
<span class="w">  </span><span class="nt">formats</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">html</span>

<span class="nt">server</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># Is overwritten by ${SEARXNG_SECRET}</span>
<span class="w">  </span><span class="nt">secret_key</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ultrasecretkey&quot;</span>
<span class="w">  </span><span class="nt">limiter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">image_proxy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="c1"># public URL of the instance, to ensure correct inbound links. Is overwritten</span>
<span class="w">  </span><span class="c1"># by ${SEARXNG_BASE_URL}.</span>
<span class="w">  </span><span class="c1"># base_url: http://example.com/location</span>

<span class="nt">valkey</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># URL to connect valkey database. Is overwritten by ${SEARXNG_VALKEY_URL}.</span>
<span class="w">  </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">valkey://localhost:6379/0</span>
</pre></div>
</div>
</section>
</section>
<span id="document-admin/plugins"></span><section id="list-of-plugins">
<span id="plugins-admin"></span><h3>List of plugins<a class="headerlink" href="#list-of-plugins" title="Link to this heading">¶</a></h3>
<p>Further reading ..</p>
<ul class="simple">
<li><p><a class="reference internal" href="#settings-plugins"><span class="std std-ref">SearXNG settings</span></a></p></li>
<li><p><a class="reference internal" href="#dev-plugin"><span class="std std-ref">Plugin Development</span></a></p></li>
</ul>
<span id="configured-plugins"></span><table class="docutils align-default" id="id1">
<caption><span class="caption-number">Table 1 </span><span class="caption-text">Plugins configured at built time (defaults)</span><a class="headerlink" href="#id1" title="Link to this table">¶</a></caption>
<colgroup>
<col style="width: 23.1%" />
<col style="width: 7.7%" />
<col style="width: 69.2%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub"><p>Name</p></th>
<th class="head"><p>Active</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><th class="stub"><p>Hash plugin</p></th>
<td><p>yes</p></td>
<td><p>Converts strings to different hash digests. Available functions: md5, sha1, sha224, sha256, sha384, sha512.</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p>Self Information</p></th>
<td><p>yes</p></td>
<td><p>Displays your IP if the query is “ip” and your user agent if the query is “user-agent”.</p></td>
</tr>
<tr class="row-even"><th class="stub"><p>Tracker URL remover</p></th>
<td><p>yes</p></td>
<td><p>Remove trackers arguments from the returned URL</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p>Basic Calculator</p></th>
<td><p>yes</p></td>
<td><p>Calculate mathematical expressions via the search bar</p></td>
</tr>
<tr class="row-even"><th class="stub"><p>Unit converter plugin</p></th>
<td><p>yes</p></td>
<td><p>Convert between units</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p>Open Access DOI rewrite</p></th>
<td><p>no</p></td>
<td><p>Avoid paywalls by redirecting to open-access versions of publications when available</p></td>
</tr>
<tr class="row-even"><th class="stub"><p>Tor check plugin</p></th>
<td><p>no</p></td>
<td><p>This plugin checks if the address of the request is a Tor exit-node, and informs the user if it is; like check.torproject.org, but from SearXNG.</p></td>
</tr>
</tbody>
</table>
</section>
<span id="document-admin/buildhosts"></span><section id="buildhosts">
<span id="id1"></span><h3>Buildhosts<a class="headerlink" href="#buildhosts" title="Link to this heading">¶</a></h3>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#build-and-development-tools" id="id2">Build and Development tools</a></p></li>
<li><p><a class="reference internal" href="#build-docs" id="id3">Build docs</a></p></li>
<li><p><a class="reference internal" href="#lint-shell-scripts" id="id4">Lint shell scripts</a></p></li>
</ul>
</nav>
<p>To get best results from build, it’s recommend to install additional packages on
build hosts (see <a class="reference internal" href="#searxng-sh"><span class="std std-ref">utils/searxng.sh</span></a>).</p>
<section id="build-and-development-tools">
<span id="searxng-sh-install-buildhost"></span><h4><a class="toc-backref" href="#id2" role="doc-backlink">Build and Development tools</a><a class="headerlink" href="#build-and-development-tools" title="Link to this heading">¶</a></h4>
<p>To Install tools used by build and development tasks in once:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-U2VhclhORydzIGRldmVsb3BtZW50IHRvb2xz" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-U2VhclhORydzIGRldmVsb3BtZW50IHRvb2xz" name="U2VhclhORydzIGRldmVsb3BtZW50IHRvb2xz" role="tab" tabindex="0">SearXNG’s development tools</button></div><div aria-labelledby="tab-0-U2VhclhORydzIGRldmVsb3BtZW50IHRvb2xz" class="sphinx-tabs-panel group-tab" id="panel-0-U2VhclhORydzIGRldmVsb3BtZW50IHRvb2xz" name="U2VhclhORydzIGRldmVsb3BtZW50IHRvb2xz" role="tabpanel" tabindex="0"><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>-H<span class="w"> </span>./utils/searxng.sh<span class="w"> </span>install<span class="w"> </span>buildhost
</pre></div>
</div>
</div></div>
<p>This will install packages needed by SearXNG:</p>
<p>and packages needed to build documentation and run tests:</p>
</section>
<section id="build-docs">
<span id="docs-build"></span><h4><a class="toc-backref" href="#id3" role="doc-backlink">Build docs</a><a class="headerlink" href="#build-docs" title="Link to this heading">¶</a></h4>
<aside class="sidebar">
<p class="sidebar-title">Sphinx build needs</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.imagemagick.org">ImageMagick</a></p></li>
<li><p><a class="reference external" href="https://graphviz.gitlab.io">Graphviz</a></p></li>
<li><p><a class="reference external" href="https://tug.org/xetex/">XeTeX</a></p></li>
<li><p><a class="reference external" href="https://dvisvgm.de/">dvisvgm</a></p></li>
</ul>
</aside>
<p>Most of the sphinx requirements are installed from <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/setup.py">git://setup.py</a> and the
docs can be build from scratch with <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">docs.html</span></code>.  For better math and
image processing additional packages are needed.  The <a class="reference external" href="https://tug.org/xetex/">XeTeX</a> needed not only for
PDF creation, it’s also needed for <a class="reference internal" href="#math"><span class="std std-ref">Math equations</span></a> when HTML output is build.</p>
<p>To be able to do <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/extensions/math.html#math-support" title="(in Sphinx v8.3.0)"><span>Math support for HTML outputs in Sphinx</span></a> without CDNs, the math are rendered
as images (<code class="docutils literal notranslate"><span class="pre">sphinx.ext.imgmath</span></code> extension).</p>
<p>Here is the extract from the <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/docs/conf.py">git://docs/conf.py</a> file, setting math renderer
to <code class="docutils literal notranslate"><span class="pre">imgmath</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_math_renderer</span> <span class="o">=</span> <span class="s1">&#39;imgmath&#39;</span>
<span class="n">imgmath_image_format</span> <span class="o">=</span> <span class="s1">&#39;svg&#39;</span>
<span class="n">imgmath_font_size</span> <span class="o">=</span> <span class="mi">14</span>
</pre></div>
</div>
<p>If your docs build (<code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">docs.html</span></code>) shows warnings like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WARNING</span><span class="p">:</span> <span class="n">dot</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="ow">not</span> <span class="n">found</span><span class="p">,</span> <span class="k">for</span> <span class="n">better</span> <span class="n">output</span> <span class="n">quality</span> <span class="n">install</span> \
         <span class="n">graphviz</span> <span class="kn">from</span><span class="w"> </span><span class="nn">https</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">graphviz</span><span class="o">.</span><span class="n">org</span>
<span class="o">..</span>
<span class="n">WARNING</span><span class="p">:</span> <span class="n">LaTeX</span> <span class="n">command</span> <span class="s1">&#39;latex&#39;</span> <span class="n">cannot</span> <span class="n">be</span> <span class="n">run</span> <span class="p">(</span><span class="n">needed</span> <span class="k">for</span> <span class="n">math</span> \
         <span class="n">display</span><span class="p">),</span> <span class="n">check</span> <span class="n">the</span> <span class="n">imgmath_latex</span> <span class="n">setting</span>
</pre></div>
</div>
<p>you need to install additional packages on your build host, to get better HTML
output (<a class="reference internal" href="#searxng-sh-install-buildhost"><span class="std std-ref">install buildhost</span></a>).</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-VWJ1bnR1IC8gZGViaWFu" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tab" tabindex="0">Ubuntu / debian</button><button aria-controls="panel-1-QXJjaCBMaW51eA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tab" tabindex="-1">Arch Linux</button><button aria-controls="panel-1-RmVkb3JhIC8gUkhFTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tab" tabindex="-1">Fedora / RHEL</button></div><div aria-labelledby="tab-1-VWJ1bnR1IC8gZGViaWFu" class="sphinx-tabs-panel group-tab" id="panel-1-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tabpanel" tabindex="0"><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>graphviz<span class="w"> </span>imagemagick<span class="w"> </span>texlive-xetex<span class="w"> </span>librsvg2-bin
</pre></div>
</div>
</div><div aria-labelledby="tab-1-QXJjaCBMaW51eA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tabpanel" tabindex="0"><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>pacman<span class="w"> </span>-S<span class="w"> </span>graphviz<span class="w"> </span>imagemagick<span class="w"> </span>texlive-bin<span class="w"> </span>extra/librsvg
</pre></div>
</div>
</div><div aria-labelledby="tab-1-RmVkb3JhIC8gUkhFTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tabpanel" tabindex="0"><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>graphviz<span class="w"> </span>graphviz-gd<span class="w"> </span>ImageMagick<span class="w"> </span>texlive-xetex-bin<span class="w"> </span>librsvg2-tools
</pre></div>
</div>
</div></div>
<p>For PDF output you also need:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-VWJ1bnR1IC8gZGViaWFu" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tab" tabindex="0">Ubuntu / debian</button><button aria-controls="panel-2-QXJjaCBMaW51eA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tab" tabindex="-1">Arch Linux</button><button aria-controls="panel-2-RmVkb3JhIC8gUkhFTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tab" tabindex="-1">Fedora / RHEL</button></div><div aria-labelledby="tab-2-VWJ1bnR1IC8gZGViaWFu" class="sphinx-tabs-panel group-tab" id="panel-2-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tabpanel" tabindex="0"><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>texlive-latex-recommended<span class="w"> </span>texlive-extra-utils<span class="w"> </span>ttf-dejavu
</pre></div>
</div>
</div><div aria-labelledby="tab-2-QXJjaCBMaW51eA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tabpanel" tabindex="0"><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>pacman<span class="w"> </span>-S<span class="w"> </span>texlive-core<span class="w"> </span>texlive-latexextra<span class="w"> </span>ttf-dejavu
</pre></div>
</div>
</div><div aria-labelledby="tab-2-RmVkb3JhIC8gUkhFTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tabpanel" tabindex="0"><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>texlive-collection-fontsrecommended<span class="w"> </span>texlive-collection-latex<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>dejavu-sans-fonts<span class="w"> </span>dejavu-serif-fonts<span class="w"> </span>dejavu-sans-mono-fonts
</pre></div>
</div>
</div></div>
</section>
<section id="lint-shell-scripts">
<span id="sh-lint"></span><h4><a class="toc-backref" href="#id4" role="doc-backlink">Lint shell scripts</a><a class="headerlink" href="#lint-shell-scripts" title="Link to this heading">¶</a></h4>
<p>To lint shell scripts we use <a class="reference external" href="https://github.com/koalaman/shellcheck">ShellCheck</a> - a shell script static analysis tool
(<a class="reference internal" href="#searxng-sh-install-buildhost"><span class="std std-ref">install buildhost</span></a>).</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-3-VWJ1bnR1IC8gZGViaWFu" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-3-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tab" tabindex="0">Ubuntu / debian</button><button aria-controls="panel-3-QXJjaCBMaW51eA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tab" tabindex="-1">Arch Linux</button><button aria-controls="panel-3-RmVkb3JhIC8gUkhFTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tab" tabindex="-1">Fedora / RHEL</button></div><div aria-labelledby="tab-3-VWJ1bnR1IC8gZGViaWFu" class="sphinx-tabs-panel group-tab" id="panel-3-VWJ1bnR1IC8gZGViaWFu" name="VWJ1bnR1IC8gZGViaWFu" role="tabpanel" tabindex="0"><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>shellcheck
</pre></div>
</div>
</div><div aria-labelledby="tab-3-QXJjaCBMaW51eA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-QXJjaCBMaW51eA==" name="QXJjaCBMaW51eA==" role="tabpanel" tabindex="0"><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>pacman<span class="w"> </span>-S<span class="w"> </span>shellcheck
</pre></div>
</div>
</div><div aria-labelledby="tab-3-RmVkb3JhIC8gUkhFTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-RmVkb3JhIC8gUkhFTA==" name="RmVkb3JhIC8gUkhFTA==" role="tabpanel" tabindex="0"><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>ShellCheck
</pre></div>
</div>
</div></div>
</section>
</section>
</div>
</section>
<span id="document-dev/index"></span><section id="developer-documentation">
<h2>Developer documentation<a class="headerlink" href="#developer-documentation" title="Link to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-dev/quickstart"></span><section id="development-quickstart">
<span id="devquickstart"></span><h3>Development Quickstart<a class="headerlink" href="#development-quickstart" title="Link to this heading">¶</a></h3>
<aside class="sidebar">
<p class="sidebar-title">further read</p>
<ul class="simple">
<li><p><a class="reference internal" href="#makefile"><span class="std std-ref">Makefile &amp; ./manage</span></a></p></li>
<li><p><a class="reference internal" href="#buildhosts"><span class="std std-ref">Buildhosts</span></a></p></li>
</ul>
</aside>
<p>Infinity Search loves developers; Developers do not need to worry about tool chains, the
usual developer tasks can be comfortably executed via <a class="reference internal" href="#makefile"><span class="std std-ref">make</span></a>.</p>
<p>Don’t hesitate, just clone Infinity Search’s sources and start hacking right now ..</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/burhanuddin-1/s.git<span class="w"> </span>infinity-search
</pre></div>
</div>
<p>Here is how a minimal workflow looks like:</p>
<ol class="arabic simple">
<li><p><em>start</em> hacking</p></li>
<li><p><em>run</em> your code: <a class="reference internal" href="#make-run"><span class="std std-ref">make run</span></a></p></li>
<li><p><em>format &amp; test</em> your code: <a class="reference internal" href="#make-format"><span class="std std-ref">make format</span></a> and <a class="reference internal" href="#make-test"><span class="std std-ref">make test</span></a></p></li>
</ol>
<p>If you think at some point something fails, go back to <em>start</em>.  Otherwise,
choose a meaningful commit message and we are happy to receive your pull
request. To not end in <em>wild west</em> we have some directives, please pay attention
to our “<a class="reference internal" href="#how-to-contribute"><span class="std std-ref">How to contribute</span></a>” guideline.</p>
<p>If you want to debug with the <em>good old Python Debugger</em> <a class="reference external" href="https://docs.python.org/3/library/pdb.html#module-pdb">pdb</a>: Alternatively to
<code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">run</span></code> (2.) which starts a <a class="reference internal" href="#searxng-granian"><span class="std std-ref">Granian</span></a> server you can jump
into the developer environment and start a python based HTTP server by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./manage dev.env
...
(dev.env)$ SEARXNG_DEBUG=1 python -m searx.webapp
</pre></div>
</div>
<p>Since this is a pure Python solution, you can set breakpoints in your code with
<code class="docutils literal notranslate"><span class="pre">pdb.set_trace()</span></code> and the debugger will wait for you in the terminal prompt.</p>
<aside class="sidebar">
<p class="sidebar-title">further read</p>
<ul class="simple">
<li><p><a class="reference internal" href="#make-nvm"><span class="std std-ref">NVM make nvm.install nvm.status</span></a></p></li>
<li><p><a class="reference internal" href="#make-themes"><span class="std std-ref">make themes.*</span></a></p></li>
</ul>
</aside>
<p>If you implement themes, you will need to setup a <a class="reference internal" href="#make-node-env"><span class="std std-ref">Node.js environment</span></a>.  Before you call <em>make run</em> (2.), you need to compile the
modified styles and JavaScript: <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">node.clean</span> <span class="pre">themes.all</span></code>.  If <a class="reference external" href="https://biomejs.dev/">Biome</a>
or <a class="reference external" href="https://stylelint.io/">Stylelint</a> reports issues, try <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">themes.fix</span></code>.</p>
<p>Alternatively you can also compile selective the theme you have modified,
e.g. the <em>simple</em> theme.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>themes.simple
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To get live builds while modifying CSS &amp; JS use: <code class="docutils literal notranslate"><span class="pre">LIVE_THEME=simple</span> <span class="pre">make</span> <span class="pre">run</span></code></p>
</div>
<aside class="sidebar">
<p class="sidebar-title">further read</p>
<ul class="simple">
<li><p><a class="reference internal" href="#make-static-build"><span class="std std-ref">make static.build.*</span></a></p></li>
</ul>
</aside>
<p>If you finished your <em>tests</em> you can start to commit your changes.  To separate
the modified source code from the build products first run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>static.build.restore
</pre></div>
</div>
<p>This will restore the old build products and only your changes of the code
remain in the working tree which can now be added &amp; committed.  When all sources
are committed, you can commit the build products simply by:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>static.build.commit
</pre></div>
</div>
<p>Committing the build products should be the last step, just before you send us
your PR.  There is also a make target to rewind this last build commit:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>static.build.drop
</pre></div>
</div>
</section>
<span id="document-dev/commits"></span><section id="git-commits-change-management">
<span id="create-commit"></span><h3>Git Commits &amp; Change Management<a class="headerlink" href="#git-commits-change-management" title="Link to this heading">¶</a></h3>
<aside class="sidebar">
<p class="sidebar-title">Create good commits!</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.conventionalcommits.org/">Conventional Commits</a></p></li>
<li><p><a class="reference external" href="https://wiki.openstack.org/wiki/GitCommitMessages#Structural_split_of_changes">Structural split of changes</a></p></li>
<li><p><a class="reference external" href="https://wiki.openstack.org/wiki/GitCommitMessages">Git Commit Good Practice</a></p></li>
</ul>
</aside>
<p>A commit and its commit message are among the most important information
available to a developer for bug fixing and further development.  A commit is a
change and changes have a context (a change request).</p>
<p>In a SCM system (git), the change history is derived from the commit history. A
commit message is therefore part of the documentation for change management and
thus elementary for the traceability of changes.</p>
<p><strong>What a commit is not</strong>: <em>A commit to an SCM system is not used to save files!</em></p>
<p>A commit should always have a context and the commit message describes what is
to be changed in that context, just as a function description should describe
what the intention and the goal of the function is, a commit message should
describe what the intention and the goal of that commit is.</p>
<p>The commit messages form the history and are the first and therefore most
important information a developer has when he has to research when and why a
change had to be made and how it was made (what the goal was).</p>
<p>Like any text, a commit message should be written for the reader and not from
the perspective of the author.</p>
<p>When scrolling through the history, the first thing one see is the title of the
commit message. Therefore the title should describe the change as briefly and
precisely as possible … followed by a blank line and then a somewhat detailed
description of the change.</p>
<hr class="docutils" />
<p>The follwing rules should be in mind, when creating a commit:</p>
<ul class="simple">
<li><p><strong>Commit history should be read like a history book.</strong></p></li>
<li><p><strong>Commit messages are for the reader not for the author of the commit.</strong></p></li>
<li><p><strong>A commit is the atomic code-modification of a change in change management.</strong></p></li>
<li><p><strong>Think about which descriptions from your PR might belong in the commit message.</strong></p></li>
<li><p><strong>The maximum line length in a commit message is 80 characters.</strong></p></li>
</ul>
<hr class="docutils" />
<p>Choose meaningful commit messages:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="nb">type</span><span class="p">]</span> <span class="n">optional</span> <span class="n">scope</span><span class="p">:</span> <span class="n">description</span>

<span class="p">[</span><span class="n">body</span><span class="p">]</span>

<span class="p">[</span><span class="n">optional</span> <span class="n">trailers</span><span class="p">]</span>
</pre></div>
</div>
</div></blockquote>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">[type]</span></code>:</dt><dd><p>Commits MUST be prefixed with a type .. <code class="docutils literal notranslate"><span class="pre">feat</span></code>, <code class="docutils literal notranslate"><span class="pre">fix</span></code>, <code class="docutils literal notranslate"><span class="pre">refactor</span></code>,
<code class="docutils literal notranslate"><span class="pre">mod</span></code>, <code class="docutils literal notranslate"><span class="pre">upd</span></code>, <code class="docutils literal notranslate"><span class="pre">doc</span></code>, <code class="docutils literal notranslate"><span class="pre">l10n</span></code>, <code class="docutils literal notranslate"><span class="pre">build</span></code> ..</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">[body]</span></code></dt><dd><p><a class="reference external" href="https://wiki.openstack.org/wiki/GitCommitMessages#Information_in_commit_messages">Information in commit messages</a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">[optional</span> <span class="pre">trailers]</span></code>:</dt><dd><ul class="simple">
<li><p><a class="reference external" href="https://git-scm.com/docs/git-commit#Documentation/git-commit.txt-code--signoffcode">Signed-off-by</a>: certify that the committer has the rights to submit the
work under the project’s license.  That the developer has this right is a
prerequisite for a merge.  If the <a class="reference external" href="https://git-scm.com/docs/git-commit#Documentation/git-commit.txt-code--signoffcode">Signed-off-by</a> is not set in the
commit, the contributor enters his <cite>Developer’s Certificate of Origin</cite> at
the latest when creating a PR!</p></li>
<li><p>Closes: Link to the bug report or the bug number (e.g. <code class="docutils literal notranslate"><span class="pre">Closes:</span> <span class="pre">#10</span></code>)</p></li>
<li><p><a class="reference external" href="https://docs.github.com/en/pull-requests/committing-changes-to-your-project/creating-and-editing-commits/creating-a-commit-with-multiple-authors">Co-authored-by</a>: email address of the co-author</p></li>
<li><p>Reported-by: email address (if there is no bug report)</p></li>
<li><p>Suggested-by: email address (if there is no bug report)</p></li>
</ul>
</dd>
</dl>
<hr class="docutils" />
<p>To give examples at hand, here are a few commits.  Follow the links to see the
full commit messages:</p>
<dl class="simple">
<dt><a class="extlink-patch reference external" href="https://github.com/burhanuddin-1/s/commit/44d941c93">#44d941c93</a></dt><dd><p><code class="docutils literal notranslate"><span class="pre">[fix]</span> <span class="pre">mojeek</span> <span class="pre">web</span> <span class="pre">engine:</span> <span class="pre">don't</span> <span class="pre">add</span> <span class="pre">empty</span> <span class="pre">fmt</span> <span class="pre">argument</span> <span class="pre">for</span> <span class="pre">web</span> <span class="pre">searches</span></code></p>
</dd>
<dt><a class="extlink-patch reference external" href="https://github.com/burhanuddin-1/s/commit/feb15e387">#feb15e387</a></dt><dd><p><code class="docutils literal notranslate"><span class="pre">[fix]</span> <span class="pre">brave.news</span> <span class="pre">engine:</span> <span class="pre">response</span> <span class="pre">is</span> <span class="pre">HTML</span> <span class="pre">and</span> <span class="pre">no</span> <span class="pre">longer</span> <span class="pre">JSON</span></code></p>
</dd>
<dt><a class="extlink-patch reference external" href="https://github.com/burhanuddin-1/s/commit/bdfe1c2a1">#bdfe1c2a1</a></dt><dd><p><code class="docutils literal notranslate"><span class="pre">[mod]</span> <span class="pre">engines:</span> <span class="pre">migration</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">individual</span> <span class="pre">cache</span> <span class="pre">solutions</span> <span class="pre">to</span> <span class="pre">EngineCache</span></code></p>
</dd>
</dl>
</section>
<span id="document-dev/rtm_asdf"></span><section id="runtime-management">
<h3>Runtime Management<a class="headerlink" href="#runtime-management" title="Link to this heading">¶</a></h3>
<p>The runtimes are managed with asdf and are activated in this project via the
<a class="reference external" href=".tool-versions">.tool-versions</a>. If you have not yet installed <a class="reference external" href="https://asdf-vm.com/">asdf</a>, then
chapter <a class="reference internal" href="#introduce-asdf"><span class="std std-ref">Introduce asdf</span></a> may be of help to you.</p>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#get-started" id="id2">Get started</a></p></li>
<li><p><a class="reference internal" href="#manage-versions" id="id3">Manage Versions</a></p></li>
<li><p><a class="reference internal" href="#introduce-asdf" id="id4">Introduce asdf</a></p></li>
</ul>
</nav>
<section id="get-started">
<h4><a class="toc-backref" href="#id2" role="doc-backlink">Get started</a><a class="headerlink" href="#get-started" title="Link to this heading">¶</a></h4>
<p>If you have asdf installed you can install the runtimes of this project by:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/path/to/searxng
$<span class="w"> </span>asdf<span class="w"> </span>install<span class="w">          </span><span class="c1"># will install runtimes listed in .tool-versions</span>
...
</pre></div>
</div>
</section>
<section id="manage-versions">
<h4><a class="toc-backref" href="#id3" role="doc-backlink">Manage Versions</a><a class="headerlink" href="#manage-versions" title="Link to this heading">¶</a></h4>
<p>If you want to perform a <code class="docutils literal notranslate"><span class="pre">test</span></code> with special runtime versions of nodejs,
python or shellcheck, you can patch the <code class="docutils literal notranslate"><span class="pre">.tool-versions</span></code>:</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="gd">--- a/.tool-versions</span>
<span class="gi">+++ b/.tool-versions</span>
<span class="gu">@@ -1,2 +1,2 @@</span>
<span class="gd">-python 3.12.0</span>
<span class="gd">-shellcheck 0.9.0</span>
<span class="gi">+python 3.11.6</span>
<span class="gi">+shellcheck 0.8.0</span>
</pre></div>
</div>
<p>To install use <code class="docutils literal notranslate"><span class="pre">asdf</span> <span class="pre">install</span></code> again.  If the runtime tools have changed, any
existing (nodejs and python) environments should be cleaned up with a <code class="docutils literal notranslate"><span class="pre">make</span>
<span class="pre">clean</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>asdf<span class="w"> </span>install
...
$<span class="w"> </span>make<span class="w"> </span>clean<span class="w"> </span><span class="nb">test</span>
</pre></div>
</div>
</section>
<section id="introduce-asdf">
<span id="id1"></span><h4><a class="toc-backref" href="#id4" role="doc-backlink">Introduce asdf</a><a class="headerlink" href="#introduce-asdf" title="Link to this heading">¶</a></h4>
<p>To <a class="reference external" href="https://asdf-vm.com/guide/getting-started.html#_2-download-asdf">download asdf</a> and <a class="reference external" href="https://asdf-vm.com/guide/getting-started.html#_3-install-asdf">install asdf</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/asdf-vm/asdf.git<span class="w"> </span>~/.asdf<span class="w"> </span>--branch<span class="w"> </span>&lt;version&gt;
$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;. &quot;$HOME/.asdf/asdf.sh&quot;&#39;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>~/.bashrc
$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;. &quot;$HOME/.asdf/completions/asdf.bash&quot;&#39;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>~/.bashrc
</pre></div>
</div>
<p>Start a new shell and try to <a class="reference external" href="https://asdf-vm.com/guide/getting-started.html#install-the-plugin">install plugins</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>asdf<span class="w"> </span>plugin-list-all<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-E<span class="w"> </span><span class="s1">&#39;(golang|python|nodejs|shellcheck).git&#39;</span>
golang<span class="w">                        </span>https://github.com/asdf-community/asdf-golang.git
nodejs<span class="w">                        </span>https://github.com/asdf-vm/asdf-nodejs.git
python<span class="w">                        </span>https://github.com/danhper/asdf-python.git
shellcheck<span class="w">                    </span>https://github.com/luizm/asdf-shellcheck.git

$<span class="w"> </span>asdf<span class="w"> </span>plugin<span class="w"> </span>add<span class="w"> </span>golang<span class="w"> </span>https://github.com/asdf-community/asdf-golang.git
$<span class="w"> </span>asdf<span class="w"> </span>plugin<span class="w"> </span>add<span class="w"> </span>nodejs<span class="w"> </span>https://github.com/asdf-vm/asdf-nodejs.git
$<span class="w"> </span>asdf<span class="w"> </span>plugin<span class="w"> </span>add<span class="w"> </span>python<span class="w"> </span>https://github.com/danhper/asdf-python.git
$<span class="w"> </span>asdf<span class="w"> </span>plugin<span class="w"> </span>add<span class="w"> </span>shellcheck<span class="w"> </span>https://github.com/luizm/asdf-shellcheck.git
</pre></div>
</div>
<p>Each plugin has dependencies, to compile runtimes visit the URLs from above and
look out for the dependencies you need to install on your OS, on Debian for the
runtimes listed above you will need:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>update
$<span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w">       </span>dirmngr<span class="w"> </span>gpg<span class="w"> </span>curl<span class="w"> </span>gawk<span class="w"> </span>coreutils<span class="w"> </span>build-essential<span class="w"> </span>libssl-dev<span class="w"> </span>zlib1g-dev<span class="w"> </span><span class="se">\</span>
<span class="w">       </span>libbz2-dev<span class="w"> </span>libreadline-dev<span class="w"> </span>libsqlite3-dev<span class="w"> </span><span class="se">\</span>
<span class="w">       </span>libncursesw5-dev<span class="w"> </span>xz-utils<span class="w"> </span>tk-dev<span class="w"> </span>libxml2-dev<span class="w"> </span>libxmlsec1-dev<span class="w"> </span>libffi-dev<span class="w"> </span>liblzma-dev
</pre></div>
</div>
<p>With dependencies installed you can install/compile runtimes:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>asdf<span class="w"> </span>install<span class="w"> </span>golang<span class="w"> </span>latest
$<span class="w"> </span>asdf<span class="w"> </span>install<span class="w"> </span>nodejs<span class="w"> </span>latest
$<span class="w"> </span>asdf<span class="w"> </span>install<span class="w"> </span>python<span class="w"> </span>latest
$<span class="w"> </span>asdf<span class="w"> </span>install<span class="w"> </span>shellcheck<span class="w"> </span>latest
</pre></div>
</div>
<p>Python will be compiled and will take a while.</p>
<p>In the repository the version is defined in <a class="reference external" href=".tool-versions">.tool-versions</a>. Outside the
repository, its recommended that the runtime should use the versions of the OS
(<a class="reference external" href="https://asdf-vm.com/manage/versions.html#fallback-to-system-version">Fallback to System Version</a>) / if not already done register the system
versions global:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/
$<span class="w"> </span>asdf<span class="w"> </span>global<span class="w"> </span>golang<span class="w"> </span>system
$<span class="w"> </span>asdf<span class="w"> </span>global<span class="w"> </span>nodejs<span class="w"> </span>system
$<span class="w"> </span>asdf<span class="w"> </span>global<span class="w"> </span>python<span class="w"> </span>system
$<span class="w"> </span>asdf<span class="w"> </span>global<span class="w"> </span>shellcheck<span class="w"> </span>system
</pre></div>
</div>
</section>
</section>
<span id="document-dev/contribution_guide"></span><section id="how-to-contribute">
<span id="id1"></span><h3>How to contribute<a class="headerlink" href="#how-to-contribute" title="Link to this heading">¶</a></h3>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#prime-directives-privacy-hackability" id="id3">Prime directives: Privacy, Hackability</a></p>
<ul>
<li><p><a class="reference internal" href="#privacy-by-design" id="id4">Privacy-by-design</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#code" id="id5">Code</a></p></li>
<li><p><a class="reference internal" href="#translation" id="id6">Translation</a></p></li>
<li><p><a class="reference internal" href="#documentation" id="id7">Documentation</a></p>
<ul>
<li><p><a class="reference internal" href="#live-build" id="id8">Live build</a></p></li>
<li><p><a class="reference internal" href="#deploy-on-github-io" id="id9">deploy on github.io</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="prime-directives-privacy-hackability">
<h4><a class="toc-backref" href="#id3" role="doc-backlink">Prime directives: Privacy, Hackability</a><a class="headerlink" href="#prime-directives-privacy-hackability" title="Link to this heading">¶</a></h4>
<p>SearXNG has two prime directives, <strong>privacy-by-design and hackability</strong> .  The
hackability comes in three levels:</p>
<ul class="simple">
<li><p>support of search engines</p></li>
<li><p>plugins to alter search behaviour</p></li>
<li><p>hacking SearXNG itself</p></li>
</ul>
<p>Note the lack of “world domination” among the directives.  SearXNG has no
intention of wide mass-adoption, rounded corners, etc.  The prime directive
“privacy” deserves a separate chapter, as it’s quite uncommon unfortunately.</p>
<section id="privacy-by-design">
<h5><a class="toc-backref" href="#id4" role="doc-backlink">Privacy-by-design</a><a class="headerlink" href="#privacy-by-design" title="Link to this heading">¶</a></h5>
<p>SearXNG was born out of the need for a <strong>privacy-respecting</strong> search tool which
can be extended easily to maximize both its search and its privacy protecting
capabilities.</p>
<p>Some widely used search engine features may work differently,
may be turned off by default, or may not be implemented at all in SearXNG
<strong>as a consequence of a privacy-by-design approach</strong>.</p>
<p>Following this approach, features reducing the privacy preserving aspects of SearXNG should be
switched off by default or should not be implemented at all.  There are plenty of
search engines already providing such features.  If a feature reduces
SearXNG’s efficacy in protecting a user’s privacy, the user must be informed about
the effect of choosing to enable it.  Features that protect privacy but differ from the
expectations of the user should also be carefully explained to them.</p>
<p>Also, if you think that something works weird with SearXNG, it might be because
the tool you are using is designed in a way that interferes with SearXNG’s privacy aspects.
Submitting a bug report to the vendor of the tool that misbehaves might be a good
feedback for them to reconsider the disrespect to their customers (e.g., <code class="docutils literal notranslate"><span class="pre">GET</span></code> vs <code class="docutils literal notranslate"><span class="pre">POST</span></code>
requests in various browsers).</p>
<p>Remember the other prime directive of SearXNG is to be hackable, so if the above
privacy concerns do not fancy you, simply fork it.</p>
<blockquote>
<div><p><em>Happy hacking.</em></p>
</div></blockquote>
</section>
</section>
<section id="code">
<h4><a class="toc-backref" href="#id5" role="doc-backlink">Code</a><a class="headerlink" href="#code" title="Link to this heading">¶</a></h4>
<aside class="sidebar">
<p class="sidebar-title">Create good commits!</p>
<ul class="simple">
<li><p><a class="reference internal" href="#create-commit"><span class="std std-ref">Git Commits &amp; Change Management</span></a></p></li>
</ul>
</aside>
<p>In order to submit a patch, please follow the steps below:</p>
<ul class="simple">
<li><p>Follow coding conventions.</p>
<ul>
<li><p><a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">PEP8</a> standards apply, except the convention of line length</p></li>
<li><p>Maximum line length is 120 characters</p></li>
</ul>
</li>
<li><p>The cardinal rule for creating good commits is to ensure there is only one
<em>logical change</em> per commit / read <a class="reference external" href="https://wiki.openstack.org/wiki/GitCommitMessages#Structural_split_of_changes">Structural split of changes</a></p></li>
<li><p>Check if your code breaks existing tests.  If so, update the tests or fix your
code.</p></li>
<li><p>If your code can be unit-tested, add unit tests.</p></li>
<li><p>Add yourself to the <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/AUTHORS.rst">git://AUTHORS.rst</a> file.</p></li>
<li><p>Choose meaningful commit messages, see <a class="reference internal" href="#create-commit"><span class="std std-ref">Git Commits &amp; Change Management</span></a></p></li>
<li><p>Create a pull request.</p></li>
</ul>
<p>For more help on getting started with SearXNG development, see <a class="reference internal" href="#devquickstart"><span class="std std-ref">Development Quickstart</span></a>.</p>
</section>
<section id="translation">
<h4><a class="toc-backref" href="#id6" role="doc-backlink">Translation</a><a class="headerlink" href="#translation" title="Link to this heading">¶</a></h4>
<p>Translation currently takes place on <a class="reference internal" href="#translation"><span class="std std-ref">weblate</span></a>.</p>
</section>
<section id="documentation">
<span id="contrib-docs"></span><h4><a class="toc-backref" href="#id7" role="doc-backlink">Documentation</a><a class="headerlink" href="#documentation" title="Link to this heading">¶</a></h4>
<aside class="sidebar">
<p class="sidebar-title">The reST sources</p>
<p>has been moved from <code class="docutils literal notranslate"><span class="pre">gh-branch</span></code> into <code class="docutils literal notranslate"><span class="pre">master</span></code> (<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/docs">git://docs</a>).</p>
</aside>
<p>The documentation is built using <a class="reference external" href="https://www.sphinx-doc.org">Sphinx</a>.  So in order to be able to generate
the required files, you have to install it on your system.  Much easier, use
our <a class="reference internal" href="#makefile"><span class="std std-ref">Makefile &amp; ./manage</span></a>.</p>
<p>Here is an example which makes a complete rebuild:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>make<span class="w"> </span>docs.clean<span class="w"> </span>docs.html
...
The<span class="w"> </span>HTML<span class="w"> </span>pages<span class="w"> </span>are<span class="w"> </span><span class="k">in</span><span class="w"> </span>dist/docs.
</pre></div>
</div>
<section id="live-build">
<span id="make-docs-live"></span><h5><a class="toc-backref" href="#id8" role="doc-backlink">Live build</a><a class="headerlink" href="#live-build" title="Link to this heading">¶</a></h5>
<aside class="sidebar">
<p class="sidebar-title">docs.clean</p>
<p>It is recommended to assert a complete rebuild before deploying (use
<code class="docutils literal notranslate"><span class="pre">docs.clean</span></code>).</p>
</aside>
<p>Live build is like WYSIWYG.  It’s the recommended way to go if you want to edit the documentation.
The Makefile target <code class="docutils literal notranslate"><span class="pre">docs.live</span></code> builds the docs, opens
URL in your favorite browser and rebuilds every time a reST file has been
changed (<a class="reference internal" href="#make-docs-clean"><span class="std std-ref">make docs.clean docs.live</span></a>).</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>make<span class="w"> </span>docs.live
...
The<span class="w"> </span>HTML<span class="w"> </span>pages<span class="w"> </span>are<span class="w"> </span><span class="k">in</span><span class="w"> </span>dist/docs.
...<span class="w"> </span>Serving<span class="w"> </span>on<span class="w"> </span>http://0.0.0.0:8000
...<span class="w"> </span>Start<span class="w"> </span>watching<span class="w"> </span>changes
</pre></div>
</div>
<p>Live builds are implemented by <a class="reference external" href="https://github.com/executablebooks/sphinx-autobuild/blob/master/README.md">sphinx-autobuild</a>.  Use environment
<code class="docutils literal notranslate"><span class="pre">$(SPHINXOPTS)</span></code> to pass arguments to the <a class="reference external" href="https://github.com/executablebooks/sphinx-autobuild/blob/master/README.md">sphinx-autobuild</a> command.  You can
pass any argument except for the <code class="docutils literal notranslate"><span class="pre">--host</span></code> option (which is always set to <code class="docutils literal notranslate"><span class="pre">0.0.0.0</span></code>).
E.g., to find and use a free port, use:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nv">SPHINXOPTS</span><span class="o">=</span><span class="s2">&quot;--port 0&quot;</span><span class="w"> </span>make<span class="w"> </span>docs.live
...
...<span class="w"> </span>Serving<span class="w"> </span>on<span class="w"> </span>http://0.0.0.0:50593
...
</pre></div>
</div>
</section>
<section id="deploy-on-github-io">
<span id="id2"></span><h5><a class="toc-backref" href="#id9" role="doc-backlink">deploy on github.io</a><a class="headerlink" href="#deploy-on-github-io" title="Link to this heading">¶</a></h5>
<p>To deploy documentation at <a class="extlink-docs reference external" href="https://docs.searxng.org//.">github.io</a> use Makefile target <a class="reference internal" href="#make-docs-gh-pages"><span class="std std-ref">make docs.gh-pages</span></a>, which builds the documentation and runs all the needed git add,
commit and push:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>make<span class="w"> </span>docs.clean<span class="w"> </span>docs.gh-pages
</pre></div>
</div>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>If you are working in your own brand, don’t forget to adjust your
<a class="reference internal" href="#settings-brand"><span class="std std-ref">brand:</span></a>.</p>
</div>
</section>
</section>
</section>
<span id="document-dev/extended_types"></span><section id="module-searx.extended_types">
<span id="id1"></span><span id="extended-types"></span><h3>Extended Types<a class="headerlink" href="#module-searx.extended_types" title="Link to this heading">¶</a></h3>
<p>This module implements the type extensions applied by SearXNG.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://flask.palletsprojects.com/en/stable/api/#flask.request" title="(in Flask v3.1.x)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flask.request</span></code></a> is replaced by <a class="reference internal" href="#searx.extended_types.sxng_request" title="searx.extended_types.sxng_request"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sxng_request</span></code></a></p></li>
<li><p><a class="reference external" href="https://flask.palletsprojects.com/en/stable/api/#flask.Request" title="(in Flask v3.1.x)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flask.Request</span></code></a> is replaced by <a class="reference internal" href="#searx.extended_types.SXNG_Request" title="searx.extended_types.SXNG_Request"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SXNG_Request</span></code></a></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">httpx.response</span></code> is replaced by <a class="reference internal" href="#searx.extended_types.SXNG_Response" title="searx.extended_types.SXNG_Response"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SXNG_Response</span></code></a></p></li>
</ul>
<hr class="docutils" />
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.extended_types.sxng_request">
<span class="sig-prename descclassname"><span class="pre">searx.extended_types.</span></span><span class="sig-name descname"><span class="pre">sxng_request</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#searx.extended_types.SXNG_Request" title="searx.extended_types.SXNG_Request"><span class="pre">SXNG_Request</span></a></em><a class="headerlink" href="#searx.extended_types.sxng_request" title="Link to this definition">¶</a></dt>
<dd><p>A replacement for <a class="reference external" href="https://flask.palletsprojects.com/en/stable/api/#flask.request" title="(in Flask v3.1.x)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flask.request</span></code></a> with type cast <a class="reference internal" href="#searx.extended_types.SXNG_Request" title="searx.extended_types.SXNG_Request"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SXNG_Request</span></code></a>.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.extended_types.SXNG_Request">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.extended_types.</span></span><span class="sig-name descname"><span class="pre">SXNG_Request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">environ</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">WSGIEnvironment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">populate_request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shallow</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.extended_types.SXNG_Request" title="Link to this definition">¶</a></dt>
<dd><p>SearXNG extends the class <a class="reference external" href="https://flask.palletsprojects.com/en/stable/api/#flask.Request" title="(in Flask v3.1.x)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flask.Request</span></code></a> with properties from
<em>this</em> class definition, see type cast <a class="reference internal" href="#searx.extended_types.sxng_request" title="searx.extended_types.sxng_request"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sxng_request</span></code></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.extended_types.SXNG_Request.user_plugins">
<span class="sig-name descname"><span class="pre">user_plugins</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.extended_types.SXNG_Request.user_plugins" title="Link to this definition">¶</a></dt>
<dd><p>list of searx.plugins.Plugin.id (the id of the plugins)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.extended_types.SXNG_Request.preferences">
<span class="sig-name descname"><span class="pre">preferences</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">searx.preferences.Preferences</span></em><a class="headerlink" href="#searx.extended_types.SXNG_Request.preferences" title="Link to this definition">¶</a></dt>
<dd><p>The preferences of the request.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.extended_types.SXNG_Request.errors">
<span class="sig-name descname"><span class="pre">errors</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.extended_types.SXNG_Request.errors" title="Link to this definition">¶</a></dt>
<dd><p>A list of errors (translated text) added by <code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.webapp</span></code> in
case of errors.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.extended_types.SXNG_Request.start_time">
<span class="sig-name descname"><span class="pre">start_time</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><a class="headerlink" href="#searx.extended_types.SXNG_Request.start_time" title="Link to this definition">¶</a></dt>
<dd><p>Start time of the request, <a class="reference external" href="https://docs.python.org/3/library/timeit.html#timeit.default_timer" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">timeit.default_timer</span></code></a> added by
<code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.webapp</span></code> to calculate the total time of the request.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.extended_types.SXNG_Request.render_time">
<span class="sig-name descname"><span class="pre">render_time</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><a class="headerlink" href="#searx.extended_types.SXNG_Request.render_time" title="Link to this definition">¶</a></dt>
<dd><p>Duration of the rendering, calculated and added by
<code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.webapp</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.extended_types.SXNG_Request.timings">
<span class="sig-name descname"><span class="pre">timings</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'searx.results.Timing'</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.extended_types.SXNG_Request.timings" title="Link to this definition">¶</a></dt>
<dd><p>A list of <code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.results.Timing</span></code> of the engines, calculatid in
and hold by <code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.results.ResultContainer.timings</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.extended_types.SXNG_Response">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.extended_types.</span></span><span class="sig-name descname"><span class="pre">SXNG_Response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status_code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Headers</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.13)"><span class="pre">Mapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.13)"><span class="pre">Mapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.13)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.13)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.13)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.AsyncIterable" title="(in Python v3.13)"><span class="pre">AsyncIterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SyncByteStream</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">AsyncByteStream</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Request</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extensions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.13)"><span class="pre">Mapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">history</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Response</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_encoding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.13)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'utf-8'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.extended_types.SXNG_Response" title="Link to this definition">¶</a></dt>
<dd><p>SearXNG extends the class <code class="xref py py-obj docutils literal notranslate"><span class="pre">httpx.Response</span></code> with properties from
<em>this</em> class (type cast of <code class="xref py py-obj docutils literal notranslate"><span class="pre">httpx.Response</span></code>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">httpx</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://example.org&quot;</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">SXNG_Response</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
<span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">ok</span><span class="p">:</span>
   <span class="o">...</span>
</pre></div>
</div>
</dd></dl>

</section>
<span id="document-dev/engines/index"></span><section id="engine-implementations">
<span id="id1"></span><h3>Engine Implementations<a class="headerlink" href="#engine-implementations" title="Link to this heading">¶</a></h3>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#resultlist-and-engines" id="id7">ResultList and engines</a></p></li>
<li><p><a class="reference internal" href="#engine-types" id="id8">Engine Types</a></p>
<ul>
<li><p><a class="reference internal" href="#online-engines" id="id9">Online Engines</a></p></li>
<li><p><a class="reference internal" href="#offline-engines" id="id10">Offline Engines</a></p></li>
<li><p><a class="reference internal" href="#online-url-search" id="id11">Online URL Search</a></p></li>
<li><p><a class="reference internal" href="#online-currency" id="id12">Online Currency</a></p></li>
<li><p><a class="reference internal" href="#online-dictionary" id="id13">Online Dictionary</a></p></li>
</ul>
</li>
</ul>
</nav>
<div class="toctree-wrapper compound">
<span id="document-dev/engines/enginelib"></span><section id="module-searx.enginelib">
<span id="engine-library"></span><span id="searx-enginelib"></span><h4>Engine Library<a class="headerlink" href="#module-searx.enginelib" title="Link to this heading">¶</a></h4>
<p>Implementations of the framework for the SearXNG engines.</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.enginelib.EngineCache" title="searx.enginelib.EngineCache"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.enginelib.EngineCache</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.enginelib.Engine" title="searx.enginelib.Engine"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.enginelib.Engine</span></code></a></p></li>
<li><p><a class="reference internal" href="#module-searx.enginelib.traits" title="searx.enginelib.traits"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.enginelib.traits</span></code></a></p></li>
</ul>
<p>There is a command line for developer purposes and for deeper analysis.  Here is
an example in which the command line is called in the development environment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./manage pyenv.cmd bash --norc --noprofile
(py3) python -m searx.enginelib --help
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>The long term goal is to modularize all implementations of the engine
framework here in this Python package.  ToDo:</p>
<ul class="simple">
<li><p>move implementations of the <a class="reference internal" href="#searx-engines-loader"><span class="std std-ref">Infinity Search’s engines loader</span></a> to a new module in
the <a class="reference internal" href="#module-searx.enginelib" title="searx.enginelib"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.enginelib</span></code></a> namespace.</p></li>
</ul>
</div>
<hr class="docutils" />
<dl class="py class">
<dt class="sig sig-object py" id="searx.enginelib.EngineCache">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.enginelib.</span></span><span class="sig-name descname"><span class="pre">EngineCache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">expire</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.enginelib.EngineCache" title="Link to this definition">¶</a></dt>
<dd><p>Persistent (SQLite) key/value cache that deletes its values again after
<code class="docutils literal notranslate"><span class="pre">expire</span></code> seconds (default/max: <a class="reference internal" href="#searx.cache.ExpireCacheCfg.MAXHOLD_TIME" title="searx.cache.ExpireCacheCfg.MAXHOLD_TIME"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MAXHOLD_TIME</span></code></a>).  This class is a wrapper around
<a class="reference internal" href="#searx.enginelib.ENGINES_CACHE" title="searx.enginelib.ENGINES_CACHE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ENGINES_CACHE</span></code></a> (<a class="reference internal" href="#searx.cache.ExpireCacheSQLite" title="searx.cache.ExpireCacheSQLite"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ExpireCacheSQLite</span></code></a>).</p>
<p>In the <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/demo_offline.py">git://searx/engines/demo_offline.py</a> engine you can find an
exemplary implementation of such a cache other examples are implemented
in:</p>
<ul class="simple">
<li><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/radio_browser.py">git://searx/engines/radio_browser.py</a></p></li>
<li><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/soundcloud.py">git://searx/engines/soundcloud.py</a></p></li>
<li><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/startpage.py">git://searx/engines/startpage.py</a></p></li>
</ul>
<p>For introspection of the DB, jump into developer environment and run command to
show cache state:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./manage pyenv.cmd bash --norc --noprofile
(py3) python -m searx.enginelib cache state

cache tables and key/values
===========================
[demo_offline        ] 2025-04-22 11:32:50 count        --&gt; (int) 4
[startpage           ] 2025-04-22 12:32:30 SC_CODE      --&gt; (str) fSOBnhEMlDfE20
[duckduckgo          ] 2025-04-22 12:32:31 4dff493e.... --&gt; (str) 4-128634958369380006627592672385352473325
[duckduckgo          ] 2025-04-22 12:40:06 3e2583e2.... --&gt; (str) 4-263126175288871260472289814259666848451
[radio_browser       ] 2025-04-23 11:33:08 servers      --&gt; (list) [&#39;https://de2.api.radio-browser.info&#39;,  ...]
[soundcloud          ] 2025-04-29 11:40:06 guest_client_id --&gt; (str) EjkRJG0BLNEZquRiPZYdNtJdyGtTuHdp
[wolframalpha        ] 2025-04-22 12:40:06 code         --&gt; (str) 5aa79f86205ad26188e0e26e28fb7ae7
number of tables: 6
number of key/value pairs: 7
</pre></div>
</div>
<p>In the “cache tables and key/values” section, the table name (engine name) is at
first position on the second there is the calculated expire date and on the
third and fourth position the key/value is shown.</p>
<p>About duckduckgo: The <em>vqd coode</em> of ddg depends on the query term and therefore
the key is a hash value of the query term (to not to store the raw query term).</p>
<p>In the “properties of ENGINES_CACHE” section all properties of the SQLiteAppl /
ExpireCache and their last modification date are shown:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">properties</span> <span class="n">of</span> <span class="n">ENGINES_CACHE</span>
<span class="o">===========================</span>
<span class="p">[</span><span class="n">last</span> <span class="n">modified</span><span class="p">:</span> <span class="mi">2025</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">22</span> <span class="mi">11</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">27</span><span class="p">]</span> <span class="n">DB_SCHEMA</span>           <span class="p">:</span> <span class="mi">1</span>
<span class="p">[</span><span class="n">last</span> <span class="n">modified</span><span class="p">:</span> <span class="mi">2025</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">22</span> <span class="mi">11</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">27</span><span class="p">]</span> <span class="n">LAST_MAINTENANCE</span>    <span class="p">:</span>
<span class="p">[</span><span class="n">last</span> <span class="n">modified</span><span class="p">:</span> <span class="mi">2025</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">22</span> <span class="mi">11</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">27</span><span class="p">]</span> <span class="n">crypt_hash</span>          <span class="p">:</span> <span class="n">ca612e3566fdfd7cf7efe</span><span class="o">...</span>
<span class="p">[</span><span class="n">last</span> <span class="n">modified</span><span class="p">:</span> <span class="mi">2025</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">22</span> <span class="mi">11</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">30</span><span class="p">]</span> <span class="n">CACHE</span><span class="o">-</span><span class="n">TABLE</span><span class="o">--</span><span class="n">demo_offline</span><span class="p">:</span> <span class="n">demo_offline</span>
<span class="p">[</span><span class="n">last</span> <span class="n">modified</span><span class="p">:</span> <span class="mi">2025</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">22</span> <span class="mi">11</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">30</span><span class="p">]</span> <span class="n">CACHE</span><span class="o">-</span><span class="n">TABLE</span><span class="o">--</span><span class="n">startpage</span><span class="p">:</span> <span class="n">startpage</span>
<span class="p">[</span><span class="n">last</span> <span class="n">modified</span><span class="p">:</span> <span class="mi">2025</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">22</span> <span class="mi">11</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">31</span><span class="p">]</span> <span class="n">CACHE</span><span class="o">-</span><span class="n">TABLE</span><span class="o">--</span><span class="n">duckduckgo</span><span class="p">:</span> <span class="n">duckduckgo</span>
<span class="p">[</span><span class="n">last</span> <span class="n">modified</span><span class="p">:</span> <span class="mi">2025</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">22</span> <span class="mi">11</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">08</span><span class="p">]</span> <span class="n">CACHE</span><span class="o">-</span><span class="n">TABLE</span><span class="o">--</span><span class="n">radio_browser</span><span class="p">:</span> <span class="n">radio_browser</span>
<span class="p">[</span><span class="n">last</span> <span class="n">modified</span><span class="p">:</span> <span class="mi">2025</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">22</span> <span class="mi">11</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">06</span><span class="p">]</span> <span class="n">CACHE</span><span class="o">-</span><span class="n">TABLE</span><span class="o">--</span><span class="n">soundcloud</span><span class="p">:</span> <span class="n">soundcloud</span>
<span class="p">[</span><span class="n">last</span> <span class="n">modified</span><span class="p">:</span> <span class="mi">2025</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">22</span> <span class="mi">11</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">06</span><span class="p">]</span> <span class="n">CACHE</span><span class="o">-</span><span class="n">TABLE</span><span class="o">--</span><span class="n">wolframalpha</span><span class="p">:</span> <span class="n">wolframalpha</span>
</pre></div>
</div>
<p>These properties provide information about the state of the ExpireCache and
control the behavior.  For example, the maintenance intervals are controlled by
the last modification date of the LAST_MAINTENANCE property and the hash value
of the password can be used to detect whether the password has been changed (in
this case the DB entries can no longer be decrypted and the entire cache must be
discarded).</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.enginelib.Engine">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.enginelib.</span></span><span class="sig-name descname"><span class="pre">Engine</span></span><a class="headerlink" href="#searx.enginelib.Engine" title="Link to this definition">¶</a></dt>
<dd><p>Class of engine instances build from YAML settings.</p>
<p>Further documentation see <a class="reference internal" href="#general-engine-configuration"><span class="std std-ref">General Engine Configuration</span></a>.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>This class is currently never initialized and only used for type hinting.</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.engine_type">
<span class="sig-name descname"><span class="pre">engine_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.enginelib.Engine.engine_type" title="Link to this definition">¶</a></dt>
<dd><p>Type of the engine (<a class="reference internal" href="#searx-search-processors"><span class="std std-ref">Search processors</span></a>)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.paging">
<span class="sig-name descname"><span class="pre">paging</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#searx.enginelib.Engine.paging" title="Link to this definition">¶</a></dt>
<dd><p>Engine supports multiple pages.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.time_range_support">
<span class="sig-name descname"><span class="pre">time_range_support</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#searx.enginelib.Engine.time_range_support" title="Link to this definition">¶</a></dt>
<dd><p>Engine supports search time range.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.safesearch">
<span class="sig-name descname"><span class="pre">safesearch</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#searx.enginelib.Engine.safesearch" title="Link to this definition">¶</a></dt>
<dd><p>Engine supports SafeSearch</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.language_support">
<span class="sig-name descname"><span class="pre">language_support</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#searx.enginelib.Engine.language_support" title="Link to this definition">¶</a></dt>
<dd><p>Engine supports languages (locales) search.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.language">
<span class="sig-name descname"><span class="pre">language</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.enginelib.Engine.language" title="Link to this definition">¶</a></dt>
<dd><p>For an engine, when there is <code class="docutils literal notranslate"><span class="pre">language:</span> <span class="pre">...</span></code> in the YAML settings the engine
does support only this one language:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">google french</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">google</span>
<span class="w">  </span><span class="nt">language</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fr</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.region">
<span class="sig-name descname"><span class="pre">region</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.enginelib.Engine.region" title="Link to this definition">¶</a></dt>
<dd><p>For an engine, when there is <code class="docutils literal notranslate"><span class="pre">region:</span> <span class="pre">...</span></code> in the YAML settings the engine
does support only this one region:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">code</span><span class="p">::</span> <span class="n">yaml</span>
</pre></div>
</div>
<blockquote>
<div><ul class="simple">
<li><p>name: google belgium
engine: google
region: fr-BE</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.fetch_traits">
<span class="sig-name descname"><span class="pre">fetch_traits</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.13)"><span class="pre">Callable</span></a></em><a class="headerlink" href="#searx.enginelib.Engine.fetch_traits" title="Link to this definition">¶</a></dt>
<dd><p>Function to to fetch engine’s traits from origin.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.traits">
<span class="sig-name descname"><span class="pre">traits</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><span class="pre">EngineTraits</span></a></em><a class="headerlink" href="#searx.enginelib.Engine.traits" title="Link to this definition">¶</a></dt>
<dd><p>Traits of the engine.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.categories">
<span class="sig-name descname"><span class="pre">categories</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.enginelib.Engine.categories" title="Link to this definition">¶</a></dt>
<dd><p>Specifies to which <a class="reference internal" href="#engine-categories"><span class="std std-ref">categories</span></a> the engine should be added.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.enginelib.Engine.name" title="Link to this definition">¶</a></dt>
<dd><p>Name that will be used across SearXNG to define this engine.  In settings, on
the result page ..</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.engine">
<span class="sig-name descname"><span class="pre">engine</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.enginelib.Engine.engine" title="Link to this definition">¶</a></dt>
<dd><p>Name of the python file used to handle requests and responses to and from
this search engine (file name from <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines">git://searx/engines</a> without
<code class="docutils literal notranslate"><span class="pre">.py</span></code>).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.enable_http">
<span class="sig-name descname"><span class="pre">enable_http</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#searx.enginelib.Engine.enable_http" title="Link to this definition">¶</a></dt>
<dd><p>Enable HTTP (by default only HTTPS is enabled).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.shortcut">
<span class="sig-name descname"><span class="pre">shortcut</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.enginelib.Engine.shortcut" title="Link to this definition">¶</a></dt>
<dd><p>Code used to execute bang requests (<code class="docutils literal notranslate"><span class="pre">!foo</span></code>)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.timeout">
<span class="sig-name descname"><span class="pre">timeout</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><a class="headerlink" href="#searx.enginelib.Engine.timeout" title="Link to this definition">¶</a></dt>
<dd><p>Specific timeout for search-engine.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.display_error_messages">
<span class="sig-name descname"><span class="pre">display_error_messages</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#searx.enginelib.Engine.display_error_messages" title="Link to this definition">¶</a></dt>
<dd><p>Display error messages on the web UI.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.proxies">
<span class="sig-name descname"><span class="pre">proxies</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a></em><a class="headerlink" href="#searx.enginelib.Engine.proxies" title="Link to this definition">¶</a></dt>
<dd><p>Set proxies for a specific engine (YAML):</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">proxies </span><span class="p">:</span>
<span class="w">  </span><span class="nt">http</span><span class="p">:</span><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">socks5://proxy:port</span>
<span class="w">  </span><span class="nt">https</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">socks5://proxy:port</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.disabled">
<span class="sig-name descname"><span class="pre">disabled</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#searx.enginelib.Engine.disabled" title="Link to this definition">¶</a></dt>
<dd><p>To disable by default the engine, but not deleting it.  It will allow the
user to manually activate it in the settings.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.inactive">
<span class="sig-name descname"><span class="pre">inactive</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#searx.enginelib.Engine.inactive" title="Link to this definition">¶</a></dt>
<dd><p>Remove the engine from the settings (<em>disabled &amp; removed</em>).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.about">
<span class="sig-name descname"><span class="pre">about</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a></em><a class="headerlink" href="#searx.enginelib.Engine.about" title="Link to this definition">¶</a></dt>
<dd><p>Additional fields describing the engine.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">about</span><span class="p">:</span>
<span class="w">   </span><span class="nt">website</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://example.com</span>
<span class="w">   </span><span class="nt">wikidata_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Q306656</span>
<span class="w">   </span><span class="nt">official_api_documentation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://example.com/api-doc</span>
<span class="w">   </span><span class="nt">use_official_api</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">   </span><span class="nt">require_api_key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">   </span><span class="nt">results</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">HTML</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.using_tor_proxy">
<span class="sig-name descname"><span class="pre">using_tor_proxy</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#searx.enginelib.Engine.using_tor_proxy" title="Link to this definition">¶</a></dt>
<dd><p>Using tor proxy (<code class="docutils literal notranslate"><span class="pre">true</span></code>) or not (<code class="docutils literal notranslate"><span class="pre">false</span></code>) for this engine.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.send_accept_language_header">
<span class="sig-name descname"><span class="pre">send_accept_language_header</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#searx.enginelib.Engine.send_accept_language_header" title="Link to this definition">¶</a></dt>
<dd><p>When this option is activated, the language (locale) that is selected by
the user is used to build and send a <code class="docutils literal notranslate"><span class="pre">Accept-Language</span></code> header in the
request to the origin search engine.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.tokens">
<span class="sig-name descname"><span class="pre">tokens</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.enginelib.Engine.tokens" title="Link to this definition">¶</a></dt>
<dd><p>A list of secret tokens to make this engine <em>private</em>, more details see
<a class="reference internal" href="#private-engines"><span class="std std-ref">Private Engines (tokens)</span></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.Engine.weight">
<span class="sig-name descname"><span class="pre">weight</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#searx.enginelib.Engine.weight" title="Link to this definition">¶</a></dt>
<dd><p>Weighting of the results of this engine (<a class="reference internal" href="#settings-engines"><span class="std std-ref">weight</span></a>).</p>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.enginelib.ENGINES_CACHE">
<span class="sig-prename descclassname"><span class="pre">searx.enginelib.</span></span><span class="sig-name descname"><span class="pre">ENGINES_CACHE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;searx.cache.ExpireCacheSQLite</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#searx.enginelib.ENGINES_CACHE" title="Link to this definition">¶</a></dt>
<dd><p>Global <a class="reference internal" href="#searx.cache.ExpireCacheSQLite" title="searx.cache.ExpireCacheSQLite"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.cache.ExpireCacheSQLite</span></code></a> instance where the cached
values from all engines are stored.  The <cite>MAXHOLD_TIME</cite> is 7 days and the
<cite>MAINTENANCE_PERIOD</cite> is set to two hours.</p>
</dd></dl>

<section id="module-searx.enginelib.traits">
<span id="engine-traits"></span><span id="searx-enginelib-traits"></span><h5>Engine traits<a class="headerlink" href="#module-searx.enginelib.traits" title="Link to this heading">¶</a></h5>
<p>Engine’s traits are fetched from the origin engines and stored in a JSON file
in the <em>data folder</em>.  Most often traits are languages and region codes and
their mapping from SearXNG’s representation to the representation in the origin
search engine.  For new traits new properties can be added to the class
<a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><code class="xref py py-class docutils literal notranslate"><span class="pre">EngineTraits</span></code></a>.</p>
<p>To load traits from the persistence <a class="reference internal" href="#searx.enginelib.traits.EngineTraitsMap.from_data" title="searx.enginelib.traits.EngineTraitsMap.from_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EngineTraitsMap.from_data</span></code></a> can be
used.</p>
<dl class="py class">
<dt class="sig sig-object py" id="searx.enginelib.traits.EngineTraitsEncoder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.enginelib.traits.</span></span><span class="sig-name descname"><span class="pre">EngineTraitsEncoder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skipkeys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure_ascii</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_circular</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separators</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.enginelib.traits.EngineTraitsEncoder" title="Link to this definition">¶</a></dt>
<dd><p>Encodes <a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><code class="xref py py-class docutils literal notranslate"><span class="pre">EngineTraits</span></code></a> to a serializable object, see
<a class="reference external" href="https://docs.python.org/3/library/json.html#json.JSONEncoder" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">json.JSONEncoder</span></code></a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="searx.enginelib.traits.EngineTraitsEncoder.default">
<span class="sig-name descname"><span class="pre">default</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.enginelib.traits.EngineTraitsEncoder.default" title="Link to this definition">¶</a></dt>
<dd><p>Return dictionary of a <a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><code class="xref py py-class docutils literal notranslate"><span class="pre">EngineTraits</span></code></a> object.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.enginelib.traits.EngineTraits">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.enginelib.traits.</span></span><span class="sig-name descname"><span class="pre">EngineTraits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regions:</span> <span class="pre">~typing.Dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">languages:</span> <span class="pre">~typing.Dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_locale:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_type:</span> <span class="pre">~typing.Literal['traits_v1']</span> <span class="pre">=</span> <span class="pre">'traits_v1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom:</span> <span class="pre">~typing.Dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">~typing.Dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">~typing.Dict]</span> <span class="pre">|</span> <span class="pre">~typing.Iterable[str]]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.enginelib.traits.EngineTraits" title="Link to this definition">¶</a></dt>
<dd><p>The class is intended to be instantiated for each engine.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.traits.EngineTraits.regions">
<span class="sig-name descname"><span class="pre">regions</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.enginelib.traits.EngineTraits.regions" title="Link to this definition">¶</a></dt>
<dd><p>Maps SearXNG’s internal representation of a region to the one of the engine.</p>
<p>SearXNG’s internal representation can be parsed by babel and the value is
send to the engine:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">regions</span> <span class="o">=</span><span class="p">{</span>
    <span class="s1">&#39;fr-BE&#39;</span> <span class="p">:</span> <span class="o">&lt;</span><span class="n">engine</span><span class="s1">&#39;s region name&gt;,</span>
<span class="p">}</span>

<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">egnine_region</span> <span class="n">regions</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
   <span class="n">searxng_region</span> <span class="o">=</span> <span class="n">babel</span><span class="o">.</span><span class="n">Locale</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
   <span class="o">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.traits.EngineTraits.languages">
<span class="sig-name descname"><span class="pre">languages</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.enginelib.traits.EngineTraits.languages" title="Link to this definition">¶</a></dt>
<dd><p>Maps SearXNG’s internal representation of a language to the one of the engine.</p>
<p>SearXNG’s internal representation can be parsed by babel and the value is
send to the engine:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">languages</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;ca&#39;</span> <span class="p">:</span> <span class="o">&lt;</span><span class="n">engine</span><span class="s1">&#39;s language name&gt;,</span>
<span class="p">}</span>

<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">egnine_lang</span> <span class="ow">in</span> <span class="n">languages</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
   <span class="n">searxng_lang</span> <span class="o">=</span> <span class="n">babel</span><span class="o">.</span><span class="n">Locale</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
   <span class="o">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.traits.EngineTraits.all_locale">
<span class="sig-name descname"><span class="pre">all_locale</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#searx.enginelib.traits.EngineTraits.all_locale" title="Link to this definition">¶</a></dt>
<dd><p>To which locale value SearXNG’s <code class="docutils literal notranslate"><span class="pre">all</span></code> language is mapped (shown a “Default
language”).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.traits.EngineTraits.data_type">
<span class="sig-name descname"><span class="pre">data_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'traits_v1'</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'traits_v1'</span></em><a class="headerlink" href="#searx.enginelib.traits.EngineTraits.data_type" title="Link to this definition">¶</a></dt>
<dd><p>Data type, default is ‘traits_v1’.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.traits.EngineTraits.custom">
<span class="sig-name descname"><span class="pre">custom</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.13)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.enginelib.traits.EngineTraits.custom" title="Link to this definition">¶</a></dt>
<dd><p>A place to store engine’s custom traits, not related to the SearXNG core.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.enginelib.traits.EngineTraits.get_language">
<span class="sig-name descname"><span class="pre">get_language</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">searxng_locale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.enginelib.traits.EngineTraits.get_language" title="Link to this definition">¶</a></dt>
<dd><p>Return engine’s language string that <em>best fits</em> to SearXNG’s locale.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>searxng_locale</strong> – SearXNG’s internal representation of locale
selected by the user.</p></li>
<li><p><strong>default</strong> – engine’s default language</p></li>
</ul>
</dd>
</dl>
<p>The <em>best fits</em> rules are implemented in
<a class="reference internal" href="#searx.locales.get_engine_locale" title="searx.locales.get_engine_locale"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.locales.get_engine_locale</span></code></a>.  Except for the special value <code class="docutils literal notranslate"><span class="pre">all</span></code>
which is determined from <a class="reference internal" href="#searx.enginelib.traits.EngineTraits.all_locale" title="searx.enginelib.traits.EngineTraits.all_locale"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EngineTraits.all_locale</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.enginelib.traits.EngineTraits.get_region">
<span class="sig-name descname"><span class="pre">get_region</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">searxng_locale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.enginelib.traits.EngineTraits.get_region" title="Link to this definition">¶</a></dt>
<dd><p>Return engine’s region string that best fits to SearXNG’s locale.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>searxng_locale</strong> – SearXNG’s internal representation of locale
selected by the user.</p></li>
<li><p><strong>default</strong> – engine’s default region</p></li>
</ul>
</dd>
</dl>
<p>The <em>best fits</em> rules are implemented in
<a class="reference internal" href="#searx.locales.get_engine_locale" title="searx.locales.get_engine_locale"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.locales.get_engine_locale</span></code></a>.  Except for the special value <code class="docutils literal notranslate"><span class="pre">all</span></code>
which is determined from <a class="reference internal" href="#searx.enginelib.traits.EngineTraits.all_locale" title="searx.enginelib.traits.EngineTraits.all_locale"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EngineTraits.all_locale</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.enginelib.traits.EngineTraits.is_locale_supported">
<span class="sig-name descname"><span class="pre">is_locale_supported</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">searxng_locale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#searx.enginelib.traits.EngineTraits.is_locale_supported" title="Link to this definition">¶</a></dt>
<dd><p>A <em>locale</em> (SearXNG’s internal representation) is considered to be
supported by the engine if the <em>region</em> or the <em>language</em> is supported
by the engine.</p>
<p>For verification the functions <a class="reference internal" href="#searx.enginelib.traits.EngineTraits.get_region" title="searx.enginelib.traits.EngineTraits.get_region"><code class="xref py py-func docutils literal notranslate"><span class="pre">EngineTraits.get_region()</span></code></a> and
<a class="reference internal" href="#searx.enginelib.traits.EngineTraits.get_language" title="searx.enginelib.traits.EngineTraits.get_language"><code class="xref py py-func docutils literal notranslate"><span class="pre">EngineTraits.get_language()</span></code></a> are used.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.enginelib.traits.EngineTraits.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#searx.enginelib.traits.EngineTraits.copy" title="Link to this definition">¶</a></dt>
<dd><p>Create a copy of the dataclass object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.enginelib.traits.EngineTraits.fetch_traits">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fetch_traits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.enginelib.Engine" title="searx.enginelib.Engine"><span class="pre">Engine</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="s"><span class="pre">'EngineTraits'</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#searx.enginelib.traits.EngineTraits.fetch_traits" title="Link to this definition">¶</a></dt>
<dd><p>Call a function <code class="docutils literal notranslate"><span class="pre">fetch_traits(engine_traits)</span></code> from engines namespace to fetch
and set properties from the origin engine in the object <code class="docutils literal notranslate"><span class="pre">engine_traits</span></code>.  If
function does not exists, <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.enginelib.traits.EngineTraits.set_traits">
<span class="sig-name descname"><span class="pre">set_traits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.enginelib.Engine" title="searx.enginelib.Engine"><span class="pre">Engine</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.enginelib.traits.EngineTraits.set_traits" title="Link to this definition">¶</a></dt>
<dd><p>Set traits from self object in a <a class="reference internal" href="#searx.enginelib.Engine" title="searx.enginelib.Engine"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Engine</span></code></a> namespace.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>engine</strong> – engine instance build by <a class="reference internal" href="#searx.engines.load_engine" title="searx.engines.load_engine"><code class="xref py py-func docutils literal notranslate"><span class="pre">searx.engines.load_engine()</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.enginelib.traits.EngineTraitsMap">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.enginelib.traits.</span></span><span class="sig-name descname"><span class="pre">EngineTraitsMap</span></span><a class="headerlink" href="#searx.enginelib.traits.EngineTraitsMap" title="Link to this definition">¶</a></dt>
<dd><p>A python dictionary to map <a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><code class="xref py py-class docutils literal notranslate"><span class="pre">EngineTraits</span></code></a> by engine name.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.enginelib.traits.EngineTraitsMap.ENGINE_TRAITS_FILE">
<span class="sig-name descname"><span class="pre">ENGINE_TRAITS_FILE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/mnt/d/code/searxng/searx/data/engine_traits.json')</span></em><a class="headerlink" href="#searx.enginelib.traits.EngineTraitsMap.ENGINE_TRAITS_FILE" title="Link to this definition">¶</a></dt>
<dd><p>File with persistence of the <a class="reference internal" href="#searx.enginelib.traits.EngineTraitsMap" title="searx.enginelib.traits.EngineTraitsMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EngineTraitsMap</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.enginelib.traits.EngineTraitsMap.save_data">
<span class="sig-name descname"><span class="pre">save_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#searx.enginelib.traits.EngineTraitsMap.save_data" title="Link to this definition">¶</a></dt>
<dd><p>Store EngineTraitsMap in in file <code class="xref py py-obj docutils literal notranslate"><span class="pre">self.ENGINE_TRAITS_FILE</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.enginelib.traits.EngineTraitsMap.from_data">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#searx.enginelib.traits.EngineTraitsMap" title="searx.enginelib.traits.EngineTraitsMap"><span class="pre">EngineTraitsMap</span></a></span></span><a class="headerlink" href="#searx.enginelib.traits.EngineTraitsMap.from_data" title="Link to this definition">¶</a></dt>
<dd><p>Instantiate <a class="reference internal" href="#searx.enginelib.traits.EngineTraitsMap" title="searx.enginelib.traits.EngineTraitsMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">EngineTraitsMap</span></code></a> object from <code class="xref py py-obj docutils literal notranslate"><span class="pre">ENGINE_TRAITS</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.enginelib.traits.EngineTraitsMap.set_traits">
<span class="sig-name descname"><span class="pre">set_traits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.enginelib.Engine" title="searx.enginelib.Engine"><span class="pre">Engine</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/types.html#types.ModuleType" title="(in Python v3.13)"><span class="pre">types.ModuleType</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.enginelib.traits.EngineTraitsMap.set_traits" title="Link to this definition">¶</a></dt>
<dd><p>Set traits in a <code class="xref py py-obj docutils literal notranslate"><span class="pre">Engine</span></code> namespace.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>engine</strong> – engine instance build by <a class="reference internal" href="#searx.engines.load_engine" title="searx.engines.load_engine"><code class="xref py py-func docutils literal notranslate"><span class="pre">searx.engines.load_engine()</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<span id="document-dev/engines/engines"></span><section id="infinity-search-s-engines-loader">
<span id="searx-engines-loader"></span><h4>Infinity Search’s engines loader<a class="headerlink" href="#infinity-search-s-engines-loader" title="Link to this heading">¶</a></h4>
<p id="module-searx.engines">Load and initialize the <code class="docutils literal notranslate"><span class="pre">engines</span></code>, see <a class="reference internal" href="#searx.engines.load_engines" title="searx.engines.load_engines"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_engines()</span></code></a> and register
<a class="reference internal" href="#searx.engines.engine_shortcuts" title="searx.engines.engine_shortcuts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">engine_shortcuts</span></code></a>.</p>
<p>usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">load_engines</span><span class="p">(</span> <span class="n">settings</span><span class="p">[</span><span class="s1">&#39;engines&#39;</span><span class="p">]</span> <span class="p">)</span>
</pre></div>
</div>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.engine_shortcuts">
<span class="sig-prename descclassname"><span class="pre">searx.engines.</span></span><span class="sig-name descname"><span class="pre">engine_shortcuts</span></span><a class="headerlink" href="#searx.engines.engine_shortcuts" title="Link to this definition">¶</a></dt>
<dd><p>Simple map of registered <em>shortcuts</em> to name of the engine (or <code class="docutils literal notranslate"><span class="pre">None</span></code>).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">engine_shortcuts</span><span class="p">[</span><span class="n">engine</span><span class="o">.</span><span class="n">shortcut</span><span class="p">]</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.load_engine">
<span class="sig-prename descclassname"><span class="pre">searx.engines.</span></span><span class="sig-name descname"><span class="pre">load_engine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#searx.enginelib.Engine" title="searx.enginelib.Engine"><span class="pre">Engine</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/types.html#types.ModuleType" title="(in Python v3.13)"><span class="pre">types.ModuleType</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#searx.engines.load_engine" title="Link to this definition">¶</a></dt>
<dd><p>Load engine from <code class="docutils literal notranslate"><span class="pre">engine_data</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>engine_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – Attributes from YAML <code class="docutils literal notranslate"><span class="pre">settings:engines/&lt;engine&gt;</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>initialized namespace of the <code class="docutils literal notranslate"><span class="pre">&lt;engine&gt;</span></code>.</p>
</dd>
</dl>
<ol class="arabic simple">
<li><p>create a namespace and load module of the <code class="docutils literal notranslate"><span class="pre">&lt;engine&gt;</span></code></p></li>
<li><p>update namespace with the defaults from <code class="xref py py-obj docutils literal notranslate"><span class="pre">ENGINE_DEFAULT_ARGS</span></code></p></li>
<li><p>update namespace with values from <code class="docutils literal notranslate"><span class="pre">engine_data</span></code></p></li>
</ol>
<p>If engine <em>is active</em>, return namespace of the engine, otherwise return
<code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>This function also returns <code class="docutils literal notranslate"><span class="pre">None</span></code> if initialization of the namespace fails
for one of the following reasons:</p>
<ul class="simple">
<li><p>engine name contains underscore</p></li>
<li><p>engine name is not lowercase</p></li>
<li><p>required attribute is not set <a class="reference internal" href="#searx.engines.is_missing_required_attributes" title="searx.engines.is_missing_required_attributes"><code class="xref py py-func docutils literal notranslate"><span class="pre">is_missing_required_attributes()</span></code></a></p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.is_missing_required_attributes">
<span class="sig-prename descclassname"><span class="pre">searx.engines.</span></span><span class="sig-name descname"><span class="pre">is_missing_required_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.is_missing_required_attributes" title="Link to this definition">¶</a></dt>
<dd><p>An attribute is required when its name doesn’t start with <code class="docutils literal notranslate"><span class="pre">_</span></code> (underline).
Required attributes must not be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.using_tor_proxy">
<span class="sig-prename descclassname"><span class="pre">searx.engines.</span></span><span class="sig-name descname"><span class="pre">using_tor_proxy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.enginelib.Engine" title="searx.enginelib.Engine"><span class="pre">Engine</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/types.html#types.ModuleType" title="(in Python v3.13)"><span class="pre">types.ModuleType</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.using_tor_proxy" title="Link to this definition">¶</a></dt>
<dd><p>Return True if the engine configuration declares to use Tor.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.load_engines">
<span class="sig-prename descclassname"><span class="pre">searx.engines.</span></span><span class="sig-name descname"><span class="pre">load_engines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.load_engines" title="Link to this definition">¶</a></dt>
<dd><p>usage: <code class="docutils literal notranslate"><span class="pre">engine_list</span> <span class="pre">=</span> <span class="pre">settings['engines']</span></code></p>
</dd></dl>

</section>
<span id="document-dev/engines/engine_overview"></span><section id="engine-overview">
<span id="engines-dev"></span><h4>Engine Overview<a class="headerlink" href="#engine-overview" title="Link to this heading">¶</a></h4>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#general-engine-configuration" id="id10">General Engine Configuration</a></p>
<ul>
<li><p><a class="reference internal" href="#engine-file" id="id11">Engine File</a></p></li>
<li><p><a class="reference internal" href="#engine-settings-yml" id="id12">Engine <code class="docutils literal notranslate"><span class="pre">settings.yml</span></code></a></p></li>
<li><p><a class="reference internal" href="#overrides" id="id13">Overrides</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#making-a-request" id="id14">Making a Request</a></p>
<ul>
<li><p><a class="reference internal" href="#passed-arguments-request" id="id15">Passed Arguments (request)</a></p></li>
<li><p><a class="reference internal" href="#specify-request" id="id16">Specify Request</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#making-a-response" id="id17">Making a Response</a></p></li>
</ul>
</nav>
<aside class="sidebar">
<p class="sidebar-title">Further reading ..</p>
<ul class="simple">
<li><p><a class="reference internal" href="#configured-engines"><span class="std std-ref">Configured Engines</span></a></p></li>
<li><p><a class="reference internal" href="#settings-engines"><span class="std std-ref">engines:</span></a></p></li>
</ul>
</aside>
<p>Infinity Search is a <a class="reference external" href="https://en.wikipedia.org/wiki/Metasearch_engine">metasearch-engine</a>, so it uses different search engines to provide
better results.</p>
<p>Because there is no general search API which could be used for every search
engine, an adapter has to be built between Infinity Search and the external search
engines.  Adapters are stored under the folder <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines">git://searx/engines</a>.</p>
<section id="general-engine-configuration">
<span id="id1"></span><h5><a class="toc-backref" href="#id10" role="doc-backlink">General Engine Configuration</a><a class="headerlink" href="#general-engine-configuration" title="Link to this heading">¶</a></h5>
<p>It is required to tell Infinity Search the type of results the engine provides. The
arguments can be set in the engine file or in the settings file (normally
<code class="docutils literal notranslate"><span class="pre">settings.yml</span></code>). The arguments in the settings file override the ones in the
engine file.</p>
<p>It does not matter if an option is stored in the engine file or in the settings.
However, the standard way is the following:</p>
<section id="engine-file">
<span id="id2"></span><h6><a class="toc-backref" href="#id11" role="doc-backlink">Engine File</a><a class="headerlink" href="#engine-file" title="Link to this heading">¶</a></h6>
<table class="docutils align-default" id="id3" style="width: 100%">
<caption><span class="caption-number">Table 2 </span><span class="caption-text">Common options in the engine module</span><a class="headerlink" href="#id3" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>argument</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>information</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>categories</p></td>
<td><p>list</p></td>
<td><p>categories, in which the engine is working</p></td>
</tr>
<tr class="row-odd"><td><p>paging</p></td>
<td><p>boolean</p></td>
<td><p>support multiple pages</p></td>
</tr>
<tr class="row-even"><td><p>time_range_support</p></td>
<td><p>boolean</p></td>
<td><p>support search time range</p></td>
</tr>
<tr class="row-odd"><td><p>engine_type</p></td>
<td><p>str</p></td>
<td><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">online</span></code> <a class="reference internal" href="#online-engines"><span class="std std-ref">[ref]</span></a> by
default, other possibles values are:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">offline</span></code> <a class="reference internal" href="#offline-engines"><span class="std std-ref">[ref]</span></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">online_dictionary</span></code> <a class="reference internal" href="#online-dictionary"><span class="std std-ref">[ref]</span></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">online_currency</span></code> <a class="reference internal" href="#online-currency"><span class="std std-ref">[ref]</span></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">online_url_search</span></code> <a class="reference internal" href="#online-url-search"><span class="std std-ref">[ref]</span></a></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="engine-settings-yml">
<span id="engine-settings"></span><h6><a class="toc-backref" href="#id12" role="doc-backlink">Engine <code class="docutils literal notranslate"><span class="pre">settings.yml</span></code></a><a class="headerlink" href="#engine-settings-yml" title="Link to this heading">¶</a></h6>
<p>For a more  detailed description, see <a class="reference internal" href="#settings-engines"><span class="std std-ref">engines:</span></a> in the <a class="reference internal" href="#settings-yml"><span class="std std-ref">settings.yml</span></a>.</p>
<table class="docutils align-default" id="id4" style="width: 100%">
<caption><span class="caption-number">Table 3 </span><span class="caption-text">Common options in the engine setup (<code class="docutils literal notranslate"><span class="pre">settings.yml</span></code>)</span><a class="headerlink" href="#id4" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>argument</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>information</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>name</p></td>
<td><p>string</p></td>
<td><p>name of search-engine</p></td>
</tr>
<tr class="row-odd"><td><p>engine</p></td>
<td><p>string</p></td>
<td><p>name of searxng-engine (file name without <code class="docutils literal notranslate"><span class="pre">.py</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p>enable_http</p></td>
<td><p>bool</p></td>
<td><p>enable HTTP (by default only HTTPS is enabled).</p></td>
</tr>
<tr class="row-odd"><td><p>shortcut</p></td>
<td><p>string</p></td>
<td><p>shortcut of search-engine</p></td>
</tr>
<tr class="row-even"><td><p>timeout</p></td>
<td><p>string</p></td>
<td><p>specific timeout for search-engine</p></td>
</tr>
<tr class="row-odd"><td><p>display_error_messages</p></td>
<td><p>boolean</p></td>
<td><p>display error messages on the web UI</p></td>
</tr>
<tr class="row-even"><td><p>proxies</p></td>
<td><p>dict</p></td>
<td><p>set proxies for a specific engine
(e.g. <code class="docutils literal notranslate"><span class="pre">proxies</span> <span class="pre">:</span> <span class="pre">{http:</span> <span class="pre">socks5://proxy:port,</span>
<span class="pre">https:</span> <span class="pre">socks5://proxy:port}</span></code>)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="overrides">
<span id="engine-overrides"></span><h6><a class="toc-backref" href="#id13" role="doc-backlink">Overrides</a><a class="headerlink" href="#overrides" title="Link to this heading">¶</a></h6>
<p>A few of the options have default values in the namespace of the engine’s python
module, but are often overwritten by the settings.  If <code class="docutils literal notranslate"><span class="pre">None</span></code> is assigned to an
option in the engine file, it has to be redefined in the settings, otherwise
SearXNG will not start with that engine (global names with a leading underline can
be <code class="docutils literal notranslate"><span class="pre">None</span></code>).</p>
<p>Here is an very simple example of the global names in the namespace of engine’s
module:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># engine dependent config</span>
<span class="n">categories</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;general&#39;</span><span class="p">]</span>
<span class="n">paging</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">_non_overwritten_global</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span>
</pre></div>
</div>
<table class="docutils align-default" id="id5" style="width: 100%">
<caption><span class="caption-number">Table 4 </span><span class="caption-text">The naming of overrides is arbitrary / recommended overrides are:</span><a class="headerlink" href="#id5" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>argument</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>information</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>base_url</p></td>
<td><p>string</p></td>
<td><p>base-url, can be overwritten to use same
engine on other URL</p></td>
</tr>
<tr class="row-odd"><td><p>number_of_results</p></td>
<td><p>int</p></td>
<td><p>maximum number of results per request</p></td>
</tr>
<tr class="row-even"><td><p>language</p></td>
<td><p>string</p></td>
<td><p>ISO code of language and country like en_US</p></td>
</tr>
<tr class="row-odd"><td><p>api_key</p></td>
<td><p>string</p></td>
<td><p>api-key if required by engine</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="making-a-request">
<span id="engine-request"></span><h5><a class="toc-backref" href="#id14" role="doc-backlink">Making a Request</a><a class="headerlink" href="#making-a-request" title="Link to this heading">¶</a></h5>
<p>To perform a search an URL have to be specified.  In addition to specifying an
URL, arguments can be passed to the query.</p>
<section id="passed-arguments-request">
<span id="engine-request-arguments"></span><h6><a class="toc-backref" href="#id15" role="doc-backlink">Passed Arguments (request)</a><a class="headerlink" href="#passed-arguments-request" title="Link to this heading">¶</a></h6>
<p>These arguments can be used to construct the search query.  Furthermore,
parameters with default value can be redefined for special purposes.</p>
<span id="engine-request-online"></span><table class="docutils align-default" id="id6" style="width: 100%">
<caption><span class="caption-number">Table 5 </span><span class="caption-text">If the <code class="docutils literal notranslate"><span class="pre">engine_type</span></code> is <a class="reference internal" href="#searx.search.processors.online.OnlineProcessor.get_params" title="searx.search.processors.online.OnlineProcessor.get_params"><code class="xref py py-obj docutils literal notranslate"><span class="pre">online</span></code></a></span><a class="headerlink" href="#id6" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>argument</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>default-value, information</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>url</p></td>
<td><p>str</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">''</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>method</p></td>
<td><p>str</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">'GET'</span></code></p></td>
</tr>
<tr class="row-even"><td><p>headers</p></td>
<td><p>set</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">{}</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>set</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">{}</span></code></p></td>
</tr>
<tr class="row-even"><td><p>cookies</p></td>
<td><p>set</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">{}</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>verify</p></td>
<td><p>bool</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">True</span></code></p></td>
</tr>
<tr class="row-even"><td><p>headers.User-Agent</p></td>
<td><p>str</p></td>
<td><p>a random User-Agent</p></td>
</tr>
<tr class="row-odd"><td><p>category</p></td>
<td><p>str</p></td>
<td><p>current category, like <code class="docutils literal notranslate"><span class="pre">'general'</span></code></p></td>
</tr>
<tr class="row-even"><td><p>safesearch</p></td>
<td><p>int</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0</span></code>, between <code class="docutils literal notranslate"><span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">2</span></code> (normal, moderate, strict)</p></td>
</tr>
<tr class="row-odd"><td><p>time_range</p></td>
<td><p>Optional[str]</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">None</span></code>, can be <code class="docutils literal notranslate"><span class="pre">day</span></code>, <code class="docutils literal notranslate"><span class="pre">week</span></code>, <code class="docutils literal notranslate"><span class="pre">month</span></code>, <code class="docutils literal notranslate"><span class="pre">year</span></code></p></td>
</tr>
<tr class="row-even"><td><p>pageno</p></td>
<td><p>int</p></td>
<td><p>current pagenumber</p></td>
</tr>
<tr class="row-odd"><td><p>searxng_locale</p></td>
<td><p>str</p></td>
<td><p>SearXNG’s locale selected by user.  Specific language code like
<code class="docutils literal notranslate"><span class="pre">'en'</span></code>, <code class="docutils literal notranslate"><span class="pre">'en-US'</span></code>, or <code class="docutils literal notranslate"><span class="pre">'all'</span></code> if unspecified.</p></td>
</tr>
</tbody>
</table>
<span id="engine-request-online-dictionary"></span><table class="docutils align-default" id="id7" style="width: 100%">
<caption><span class="caption-number">Table 6 </span><span class="caption-text">If the <code class="docutils literal notranslate"><span class="pre">engine_type</span></code> is <a class="reference internal" href="#searx.search.processors.online_dictionary.OnlineDictionaryProcessor.get_params" title="searx.search.processors.online_dictionary.OnlineDictionaryProcessor.get_params"><code class="xref py py-obj docutils literal notranslate"><span class="pre">online_dictionary</span></code></a>,
        in addition to the <a class="reference internal" href="#engine-request-online"><span class="std std-ref">online</span></a> arguments:</span><a class="headerlink" href="#id7" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>argument</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>default-value, information</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>from_lang</p></td>
<td><p>str</p></td>
<td><p>specific language code like <code class="docutils literal notranslate"><span class="pre">'en_US'</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>to_lang</p></td>
<td><p>str</p></td>
<td><p>specific language code like <code class="docutils literal notranslate"><span class="pre">'en_US'</span></code></p></td>
</tr>
<tr class="row-even"><td><p>query</p></td>
<td><p>str</p></td>
<td><p>the text query without the languages</p></td>
</tr>
</tbody>
</table>
<span id="engine-request-online-currency"></span><table class="docutils align-default" id="id8" style="width: 100%">
<caption><span class="caption-number">Table 7 </span><span class="caption-text">If the <code class="docutils literal notranslate"><span class="pre">engine_type</span></code> is <a class="reference internal" href="#searx.search.processors.online_currency.OnlineCurrencyProcessor.get_params" title="searx.search.processors.online_currency.OnlineCurrencyProcessor.get_params"><code class="xref py py-obj docutils literal notranslate"><span class="pre">online_currency</span></code></a>,
        in addition to the <a class="reference internal" href="#engine-request-online"><span class="std std-ref">online</span></a> arguments:</span><a class="headerlink" href="#id8" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>argument</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>default-value, information</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>amount</p></td>
<td><p>float</p></td>
<td><p>the amount to convert</p></td>
</tr>
<tr class="row-odd"><td><p>from</p></td>
<td><p>str</p></td>
<td><p>ISO 4217 code</p></td>
</tr>
<tr class="row-even"><td><p>to</p></td>
<td><p>str</p></td>
<td><p>ISO 4217 code</p></td>
</tr>
<tr class="row-odd"><td><p>from_name</p></td>
<td><p>str</p></td>
<td><p>currency name</p></td>
</tr>
<tr class="row-even"><td><p>to_name</p></td>
<td><p>str</p></td>
<td><p>currency name</p></td>
</tr>
</tbody>
</table>
<span id="engine-request-online-url-search"></span><table class="docutils align-default" id="id9" style="width: 100%">
<caption><span class="caption-number">Table 8 </span><span class="caption-text">If the <code class="docutils literal notranslate"><span class="pre">engine_type</span></code> is <a class="reference internal" href="#searx.search.processors.online_url_search.OnlineUrlSearchProcessor.get_params" title="searx.search.processors.online_url_search.OnlineUrlSearchProcessor.get_params"><code class="xref py py-obj docutils literal notranslate"><span class="pre">online_url_search</span></code></a>,
        in addition to the <a class="reference internal" href="#engine-request-online"><span class="std std-ref">online</span></a> arguments:</span><a class="headerlink" href="#id9" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>argument</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>default-value, information</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>search_url</p></td>
<td><p>dict</p></td>
<td><p>URLs from the search query:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s1">&#39;http&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
  <span class="s1">&#39;ftp&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
  <span class="s1">&#39;data:image&#39;</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</section>
<section id="specify-request">
<h6><a class="toc-backref" href="#id16" role="doc-backlink">Specify Request</a><a class="headerlink" href="#specify-request" title="Link to this heading">¶</a></h6>
<p>The function <a class="reference internal" href="#searx.engines.demo_online.request" title="searx.engines.demo_online.request"><code class="xref py py-func docutils literal notranslate"><span class="pre">def</span> <span class="pre">request(query,</span> <span class="pre">params):</span></code></a> always returns the <code class="docutils literal notranslate"><span class="pre">params</span></code> variable, the
following parameters can be used to specify a search request:</p>
<table class="docutils align-default" style="width: 100%">
<thead>
<tr class="row-odd"><th class="head"><p>argument</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>information</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>url</p></td>
<td><p>str</p></td>
<td><p>requested url</p></td>
</tr>
<tr class="row-odd"><td><p>method</p></td>
<td><p>str</p></td>
<td><p>HTTP request method</p></td>
</tr>
<tr class="row-even"><td><p>headers</p></td>
<td><p>set</p></td>
<td><p>HTTP header information</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>set</p></td>
<td><p>HTTP data information</p></td>
</tr>
<tr class="row-even"><td><p>cookies</p></td>
<td><p>set</p></td>
<td><p>HTTP cookies</p></td>
</tr>
<tr class="row-odd"><td><p>verify</p></td>
<td><p>bool</p></td>
<td><p>Performing SSL-Validity check</p></td>
</tr>
<tr class="row-even"><td><p>allow_redirects</p></td>
<td><p>bool</p></td>
<td><p>Follow redirects</p></td>
</tr>
<tr class="row-odd"><td><p>max_redirects</p></td>
<td><p>int</p></td>
<td><p>maximum redirects, hard limit</p></td>
</tr>
<tr class="row-even"><td><p>soft_max_redirects</p></td>
<td><p>int</p></td>
<td><p>maximum redirects, soft limit. Record an error but don’t stop the engine</p></td>
</tr>
<tr class="row-odd"><td><p>raise_for_httperror</p></td>
<td><p>bool</p></td>
<td><p>True by default: raise an exception if the HTTP code of response is &gt;= 300</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="making-a-response">
<h5><a class="toc-backref" href="#id17" role="doc-backlink">Making a Response</a><a class="headerlink" href="#making-a-response" title="Link to this heading">¶</a></h5>
<p>In the <code class="docutils literal notranslate"><span class="pre">response</span></code> function of the engine, the HTTP response (<code class="docutils literal notranslate"><span class="pre">resp</span></code>) is
parsed and a list of results is returned.</p>
<p>A engine can append result-items of different media-types and different
result-types to the result list.  The list of the result items is render to HTML
by templates.  For more details read section:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#simple-theme-templates"><span class="std std-ref">Simple Theme Templates</span></a></p></li>
<li><p><a class="reference internal" href="#result-types"><span class="std std-ref">Result Types</span></a></p></li>
</ul>
</section>
</section>
</div>
<section id="resultlist-and-engines">
<h4><a class="toc-backref" href="#id7" role="doc-backlink">ResultList and engines</a><a class="headerlink" href="#resultlist-and-engines" title="Link to this heading">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="searx.result_types.ResultList">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.result_types.</span></span><span class="sig-name descname"><span class="pre">ResultList</span></span><a class="headerlink" href="#searx.result_types.ResultList" title="Link to this definition">¶</a></dt>
<dd><p>Base class of all result lists (abstract).</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.result_types.EngineResults">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.result_types.</span></span><span class="sig-name descname"><span class="pre">EngineResults</span></span><a class="headerlink" href="#searx.result_types.EngineResults" title="Link to this definition">¶</a></dt>
<dd><p>Result list that should be used by engine developers.  For convenience,
engine developers don’t need to import types / see <code class="xref py py-obj docutils literal notranslate"><span class="pre">ResultList.types</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">searx.result_types</span><span class="w"> </span><span class="kn">import</span> <span class="n">EngineResults</span>
<span class="o">...</span>
<span class="k">def</span><span class="w"> </span><span class="nf">response</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">EngineResults</span><span class="p">:</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">EngineResults</span><span class="p">()</span>
    <span class="o">...</span>
    <span class="n">res</span><span class="o">.</span><span class="n">add</span><span class="p">(</span> <span class="n">res</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Answer</span><span class="p">(</span><span class="n">answer</span><span class="o">=</span><span class="s2">&quot;lorem ipsum ..&quot;</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://example.org&quot;</span><span class="p">)</span> <span class="p">)</span>
    <span class="o">...</span>
    <span class="k">return</span> <span class="n">res</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="engine-types">
<h4><a class="toc-backref" href="#id8" role="doc-backlink">Engine Types</a><a class="headerlink" href="#engine-types" title="Link to this heading">¶</a></h4>
<p>The <a class="reference internal" href="#searx.enginelib.Engine.engine_type" title="searx.enginelib.Engine.engine_type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">engine_type</span></code></a> of an engine
determines which <a class="reference internal" href="#searx-search-processors"><span class="std std-ref">search processor</span></a> is used by
the engine.</p>
<p>In this section a list of the engines that are documented is given, a complete
list of the engines can be found in the source under: <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines">git://searx/engines</a>.</p>
<section id="online-engines">
<span id="id2"></span><h5><a class="toc-backref" href="#id9" role="doc-backlink">Online Engines</a><a class="headerlink" href="#online-engines" title="Link to this heading">¶</a></h5>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<ul class="simple">
<li><p><a class="reference internal" href="#module-searx.search.processors.online" title="searx.search.processors.online"><code class="xref py py-obj docutils literal notranslate"><span class="pre">processors.online</span></code></a></p></li>
</ul>
</aside>
<div class="toctree-wrapper compound">
<span id="document-dev/engines/demo/demo_online"></span><section id="demo-online-engine">
<span id="id1"></span><h6>Demo Online Engine<a class="headerlink" href="#demo-online-engine" title="Link to this heading">¶</a></h6>
<p id="module-searx.engines.demo_online">Within this module we implement a <em>demo online engine</em>.  Do not look to
close to the implementation, its just a simple example which queries <a class="reference external" href="https://www.artic.edu">The Art
Institute of Chicago</a></p>
<p>To get in use of this <em>demo</em> engine add the following entry to your engines
list in <code class="docutils literal notranslate"><span class="pre">settings.yml</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my online engine</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">demo_online</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">demo</span>
<span class="w">  </span><span class="nt">disabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.demo_online.init">
<span class="sig-prename descclassname"><span class="pre">searx.engines.demo_online.</span></span><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.demo_online.init" title="Link to this definition">¶</a></dt>
<dd><p>Initialization of the (online) engine.  If no initialization is needed, drop
this init function.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.demo_online.request">
<span class="sig-prename descclassname"><span class="pre">searx.engines.demo_online.</span></span><span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.demo_online.request" title="Link to this definition">¶</a></dt>
<dd><p>Build up the <code class="docutils literal notranslate"><span class="pre">params</span></code> for the online request.  In this example we build a
URL to fetch images from <a class="reference external" href="https://artic.edu">artic.edu</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.demo_online.response">
<span class="sig-prename descclassname"><span class="pre">searx.engines.demo_online.</span></span><span class="sig-name descname"><span class="pre">response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resp</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#searx.result_types.EngineResults" title="searx.result_types.EngineResults"><span class="pre">EngineResults</span></a></span></span><a class="headerlink" href="#searx.engines.demo_online.response" title="Link to this definition">¶</a></dt>
<dd><p>Parse out the result items from the response.  In this example we parse the
response from <a class="reference external" href="https://artic.edu">api.artic.edu</a> and filter out all
images.</p>
</dd></dl>

</section>
<span id="document-dev/engines/xpath"></span><section id="xpath-engine">
<span id="id1"></span><h6>XPath Engine<a class="headerlink" href="#xpath-engine" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#configuration" id="id2">Configuration</a></p></li>
<li><p><a class="reference internal" href="#example" id="id3">Example</a></p></li>
<li><p><a class="reference internal" href="#implementations" id="id4">Implementations</a></p></li>
</ul>
</nav>
<p id="module-searx.engines.xpath">The XPath engine is a <em>generic</em> engine with which it is possible to configure
engines in the settings.</p>
<section id="configuration">
<h6 aria-level="7"><a class="toc-backref" href="#id2" role="doc-backlink">Configuration</a><a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>Request:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.xpath.search_url" title="searx.engines.xpath.search_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search_url</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.xpath.lang_all" title="searx.engines.xpath.lang_all"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lang_all</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.xpath.soft_max_redirects" title="searx.engines.xpath.soft_max_redirects"><code class="xref py py-obj docutils literal notranslate"><span class="pre">soft_max_redirects</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.xpath.method" title="searx.engines.xpath.method"><code class="xref py py-obj docutils literal notranslate"><span class="pre">method</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.xpath.request_body" title="searx.engines.xpath.request_body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">request_body</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.xpath.cookies" title="searx.engines.xpath.cookies"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cookies</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.xpath.headers" title="searx.engines.xpath.headers"><code class="xref py py-obj docutils literal notranslate"><span class="pre">headers</span></code></a></p></li>
</ul>
<p>Paging:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.xpath.paging" title="searx.engines.xpath.paging"><code class="xref py py-obj docutils literal notranslate"><span class="pre">paging</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.xpath.page_size" title="searx.engines.xpath.page_size"><code class="xref py py-obj docutils literal notranslate"><span class="pre">page_size</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.xpath.first_page_num" title="searx.engines.xpath.first_page_num"><code class="xref py py-obj docutils literal notranslate"><span class="pre">first_page_num</span></code></a></p></li>
</ul>
<p>Time Range:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.xpath.time_range_support" title="searx.engines.xpath.time_range_support"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time_range_support</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.xpath.time_range_url" title="searx.engines.xpath.time_range_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time_range_url</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.xpath.time_range_map" title="searx.engines.xpath.time_range_map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time_range_map</span></code></a></p></li>
</ul>
<p>Safe-Search:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.xpath.safe_search_support" title="searx.engines.xpath.safe_search_support"><code class="xref py py-obj docutils literal notranslate"><span class="pre">safe_search_support</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.xpath.safe_search_map" title="searx.engines.xpath.safe_search_map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">safe_search_map</span></code></a></p></li>
</ul>
<p>Response:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.xpath.no_result_for_http_status" title="searx.engines.xpath.no_result_for_http_status"><code class="xref py py-obj docutils literal notranslate"><span class="pre">no_result_for_http_status</span></code></a></p></li>
</ul>
<p><a class="reference external" href="https://quickref.me/xpath.html#xpath-selectors">XPath selector</a>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.xpath.results_xpath" title="searx.engines.xpath.results_xpath"><code class="xref py py-obj docutils literal notranslate"><span class="pre">results_xpath</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.xpath.url_xpath" title="searx.engines.xpath.url_xpath"><code class="xref py py-obj docutils literal notranslate"><span class="pre">url_xpath</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.xpath.title_xpath" title="searx.engines.xpath.title_xpath"><code class="xref py py-obj docutils literal notranslate"><span class="pre">title_xpath</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.xpath.content_xpath" title="searx.engines.xpath.content_xpath"><code class="xref py py-obj docutils literal notranslate"><span class="pre">content_xpath</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.xpath.thumbnail_xpath" title="searx.engines.xpath.thumbnail_xpath"><code class="xref py py-obj docutils literal notranslate"><span class="pre">thumbnail_xpath</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.xpath.suggestion_xpath" title="searx.engines.xpath.suggestion_xpath"><code class="xref py py-obj docutils literal notranslate"><span class="pre">suggestion_xpath</span></code></a></p></li>
</ul>
</section>
<section id="example">
<h6 aria-level="7"><a class="toc-backref" href="#id3" role="doc-backlink">Example</a><a class="headerlink" href="#example" title="Link to this heading">¶</a></h6>
<p>Here is a simple example of a XPath engine configured in the <a class="reference internal" href="#settings-engines"><span class="std std-ref">engines:</span></a> section, further read <a class="reference internal" href="#engines-dev"><span class="std std-ref">Engine Overview</span></a>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bitbucket</span>
<span class="w">  </span><span class="nt">engine </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">xpath</span>
<span class="w">  </span><span class="nt">paging </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<span class="w">  </span><span class="nt">search_url </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://bitbucket.org/repo/all/{pageno}?name={query}</span>
<span class="w">  </span><span class="nt">url_xpath </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">//article[@class=&quot;repo-summary&quot;]//a[@class=&quot;repo-link&quot;]/@href</span>
<span class="w">  </span><span class="nt">title_xpath </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">//article[@class=&quot;repo-summary&quot;]//a[@class=&quot;repo-link&quot;]</span>
<span class="w">  </span><span class="nt">content_xpath </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">//article[@class=&quot;repo-summary&quot;]/p</span>
</pre></div>
</div>
</section>
<section id="implementations">
<h6 aria-level="7"><a class="toc-backref" href="#id4" role="doc-backlink">Implementations</a><a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.xpath.search_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">search_url</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#searx.engines.xpath.search_url" title="Link to this definition">¶</a></dt>
<dd><p>Search URL of the engine.  Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>https://example.org/?search={query}&amp;page={pageno}{time_range}{safe_search}
</pre></div>
</div>
<p>Replacements are:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">{query}</span></code>:</dt><dd><p>Search terms from user.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">{pageno}</span></code>:</dt><dd><p>Page number if engine supports paging <a class="reference internal" href="#searx.engines.xpath.paging" title="searx.engines.xpath.paging"><code class="xref py py-obj docutils literal notranslate"><span class="pre">paging</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">{lang}</span></code>:</dt><dd><p>ISO 639-1 language code (en, de, fr ..)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">{time_range}</span></code>:</dt><dd><p><a class="reference internal" href="#searx.engines.xpath.time_range_url" title="searx.engines.xpath.time_range_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">URL</span> <span class="pre">parameter</span></code></a> if engine <a class="reference internal" href="#searx.engines.xpath.time_range_support" title="searx.engines.xpath.time_range_support"><code class="xref py py-obj docutils literal notranslate"><span class="pre">supports</span> <span class="pre">time</span>
<span class="pre">range</span></code></a>.  The value for the parameter is taken from
<a class="reference internal" href="#searx.engines.xpath.time_range_map" title="searx.engines.xpath.time_range_map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time_range_map</span></code></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">{safe_search}</span></code>:</dt><dd><p>Safe-search <a class="reference internal" href="#searx.engines.xpath.safe_search_map" title="searx.engines.xpath.safe_search_map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">URL</span> <span class="pre">parameter</span></code></a> if engine
<a class="reference internal" href="#searx.engines.xpath.safe_search_support" title="searx.engines.xpath.safe_search_support"><code class="xref py py-obj docutils literal notranslate"><span class="pre">supports</span> <span class="pre">safe-search</span></code></a>.  The <code class="docutils literal notranslate"><span class="pre">{safe_search}</span></code>
replacement is taken from the <code class="xref py py-obj docutils literal notranslate"><span class="pre">safes_search_map</span></code>.  Filter results:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span><span class="p">:</span> <span class="n">none</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="n">moderate</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="n">strict</span>
</pre></div>
</div>
<p>If not supported, the URL parameter is an empty string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.xpath.lang_all">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">lang_all</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'en'</span></em><a class="headerlink" href="#searx.engines.xpath.lang_all" title="Link to this definition">¶</a></dt>
<dd><p>Replacement <code class="docutils literal notranslate"><span class="pre">{lang}</span></code> in <a class="reference internal" href="#searx.engines.xpath.search_url" title="searx.engines.xpath.search_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search_url</span></code></a> if language <code class="docutils literal notranslate"><span class="pre">all</span></code> is
selected.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.xpath.no_result_for_http_status">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">no_result_for_http_status</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#searx.engines.xpath.no_result_for_http_status" title="Link to this definition">¶</a></dt>
<dd><p>Return empty result for these HTTP status codes instead of throwing an error.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">no_result_for_http_status</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.xpath.soft_max_redirects">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">soft_max_redirects</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#searx.engines.xpath.soft_max_redirects" title="Link to this definition">¶</a></dt>
<dd><p>Maximum redirects, soft limit. Record an error but don’t stop the engine</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.xpath.results_xpath">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">results_xpath</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.xpath.results_xpath" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://quickref.me/xpath.html#xpath-selectors">XPath selector</a> for the list of result items</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.xpath.url_xpath">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">url_xpath</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#searx.engines.xpath.url_xpath" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://quickref.me/xpath.html#xpath-selectors">XPath selector</a> of result’s <code class="docutils literal notranslate"><span class="pre">url</span></code>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.xpath.content_xpath">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">content_xpath</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#searx.engines.xpath.content_xpath" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://quickref.me/xpath.html#xpath-selectors">XPath selector</a> of result’s <code class="docutils literal notranslate"><span class="pre">content</span></code>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.xpath.title_xpath">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">title_xpath</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#searx.engines.xpath.title_xpath" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://quickref.me/xpath.html#xpath-selectors">XPath selector</a> of result’s <code class="docutils literal notranslate"><span class="pre">title</span></code>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.xpath.thumbnail_xpath">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">thumbnail_xpath</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#searx.engines.xpath.thumbnail_xpath" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://quickref.me/xpath.html#xpath-selectors">XPath selector</a> of result’s <code class="docutils literal notranslate"><span class="pre">thumbnail</span></code>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.xpath.suggestion_xpath">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">suggestion_xpath</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.xpath.suggestion_xpath" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://quickref.me/xpath.html#xpath-selectors">XPath selector</a> of result’s <code class="docutils literal notranslate"><span class="pre">suggestion</span></code>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.xpath.cookies">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">cookies</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#searx.engines.xpath.cookies" title="Link to this definition">¶</a></dt>
<dd><p>Some engines might offer different result based on cookies.
Possible use-case: To set safesearch cookie.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.xpath.headers">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">headers</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#searx.engines.xpath.headers" title="Link to this definition">¶</a></dt>
<dd><p>Some engines might offer different result based headers.  Possible use-case:
To set header to moderate.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.xpath.method">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">method</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'GET'</span></em><a class="headerlink" href="#searx.engines.xpath.method" title="Link to this definition">¶</a></dt>
<dd><p>Some engines might require to do POST requests for search.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.xpath.request_body">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">request_body</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.xpath.request_body" title="Link to this definition">¶</a></dt>
<dd><p>The body of the request.  This can only be used if different <a class="reference internal" href="#searx.engines.xpath.method" title="searx.engines.xpath.method"><code class="xref py py-obj docutils literal notranslate"><span class="pre">method</span></code></a>
is set, e.g. <code class="docutils literal notranslate"><span class="pre">POST</span></code>.  For formatting see the documentation of <a class="reference internal" href="#searx.engines.xpath.search_url" title="searx.engines.xpath.search_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search_url</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">search</span><span class="o">=</span><span class="p">{</span><span class="n">query</span><span class="p">}</span><span class="o">&amp;</span><span class="n">page</span><span class="o">=</span><span class="p">{</span><span class="n">pageno</span><span class="p">}{</span><span class="n">time_range</span><span class="p">}{</span><span class="n">safe_search</span><span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.xpath.paging">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">paging</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#searx.engines.xpath.paging" title="Link to this definition">¶</a></dt>
<dd><p>Engine supports paging [True or False].</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.xpath.page_size">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">page_size</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#searx.engines.xpath.page_size" title="Link to this definition">¶</a></dt>
<dd><p>Number of results on each page.  Only needed if the site requires not a page
number, but an offset.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.xpath.first_page_num">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">first_page_num</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#searx.engines.xpath.first_page_num" title="Link to this definition">¶</a></dt>
<dd><p>Number of the first page (usually 0 or 1).</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.xpath.time_range_support">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">time_range_support</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#searx.engines.xpath.time_range_support" title="Link to this definition">¶</a></dt>
<dd><p>Engine supports search time range.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.xpath.time_range_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">time_range_url</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'&amp;hours={time_range_val}'</span></em><a class="headerlink" href="#searx.engines.xpath.time_range_url" title="Link to this definition">¶</a></dt>
<dd><p>Time range URL parameter in the in <a class="reference internal" href="#searx.engines.xpath.search_url" title="searx.engines.xpath.search_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search_url</span></code></a>.  If no time range is
requested by the user, the URL parameter is an empty string.  The
<code class="docutils literal notranslate"><span class="pre">{time_range_val}</span></code> replacement is taken from the <a class="reference internal" href="#searx.engines.xpath.time_range_map" title="searx.engines.xpath.time_range_map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time_range_map</span></code></a>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">time_range_url </span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&amp;days={time_range_val}&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.xpath.time_range_map">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">time_range_map</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'day':</span> <span class="pre">24,</span> <span class="pre">'month':</span> <span class="pre">720,</span> <span class="pre">'week':</span> <span class="pre">168,</span> <span class="pre">'year':</span> <span class="pre">8760}</span></em><a class="headerlink" href="#searx.engines.xpath.time_range_map" title="Link to this definition">¶</a></dt>
<dd><p>Maps time range value from user to <code class="docutils literal notranslate"><span class="pre">{time_range_val}</span></code> in
<a class="reference internal" href="#searx.engines.xpath.time_range_url" title="searx.engines.xpath.time_range_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time_range_url</span></code></a>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">time_range_map</span><span class="p">:</span>
<span class="w">  </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">week</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7</span>
<span class="w">  </span><span class="nt">month</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span>
<span class="w">  </span><span class="nt">year</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">365</span>
</pre></div>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.xpath.safe_search_support">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">safe_search_support</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#searx.engines.xpath.safe_search_support" title="Link to this definition">¶</a></dt>
<dd><p>Engine supports safe-search.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.xpath.safe_search_map">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">safe_search_map</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{0:</span> <span class="pre">'&amp;filter=none',</span> <span class="pre">1:</span> <span class="pre">'&amp;filter=moderate',</span> <span class="pre">2:</span> <span class="pre">'&amp;filter=strict'}</span></em><a class="headerlink" href="#searx.engines.xpath.safe_search_map" title="Link to this definition">¶</a></dt>
<dd><p>Maps safe-search value to <code class="docutils literal notranslate"><span class="pre">{safe_search}</span></code> in <a class="reference internal" href="#searx.engines.xpath.search_url" title="searx.engines.xpath.search_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search_url</span></code></a>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">safesearch</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">safes_search_map</span><span class="p">:</span>
<span class="w">  </span><span class="nt">0</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&amp;filter=none&#39;</span>
<span class="w">  </span><span class="nt">1</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&amp;filter=moderate&#39;</span>
<span class="w">  </span><span class="nt">2</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&amp;filter=strict&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.xpath.request">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.xpath.request" title="Link to this definition">¶</a></dt>
<dd><p>Build request parameters (see <a class="reference internal" href="#engine-request"><span class="std std-ref">Making a Request</span></a>).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.xpath.response">
<span class="sig-prename descclassname"><span class="pre">searx.engines.xpath.</span></span><span class="sig-name descname"><span class="pre">response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resp</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#searx.result_types.EngineResults" title="searx.result_types.EngineResults"><span class="pre">EngineResults</span></a></span></span><a class="headerlink" href="#searx.engines.xpath.response" title="Link to this definition">¶</a></dt>
<dd><p>Scrap <em>results</em> from the response (see <a class="reference internal" href="#result-types"><span class="std std-ref">Result Types</span></a>).</p>
</dd></dl>

</section>
<span id="document-dev/engines/mediawiki"></span><section id="mediawiki-engine">
<span id="id1"></span><h6>MediaWiki Engine<a class="headerlink" href="#mediawiki-engine" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#configuration" id="id2">Configuration</a></p></li>
<li><p><a class="reference internal" href="#implementations" id="id3">Implementations</a></p></li>
</ul>
</nav>
<p id="module-searx.engines.mediawiki">The MediaWiki engine is a <em>generic</em> engine to <strong>query</strong> Wikimedia wikis by
the <a class="reference external" href="https://www.mediawiki.org/wiki/API:Main_page">MediaWiki Action API</a>.  For a <a class="reference external" href="https://www.mediawiki.org/w/api.php?action=help&amp;modules=query">query action</a> all Wikimedia wikis have
endpoints that follow this pattern:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>https://{base_url}/w/api.php?action=query&amp;list=search&amp;format=json
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In its actual state, this engine is implemented to parse JSON result
(<a class="reference external" href="https://www.mediawiki.org/w/api.php?action=help&amp;modules=json">format=json</a>) from a search query (<a class="reference external" href="https://www.mediawiki.org/w/api.php?action=help&amp;modules=query%2Bsearch">list=search</a>).  If you need other
<code class="docutils literal notranslate"><span class="pre">action</span></code> and <code class="docutils literal notranslate"><span class="pre">list</span></code> types ask SearXNG developers to extend the
implementation according to your needs.</p>
</div>
<section id="configuration">
<h6 aria-level="7"><a class="toc-backref" href="#id2" role="doc-backlink">Configuration</a><a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>Request:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.mediawiki.base_url" title="searx.engines.mediawiki.base_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">base_url</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.mediawiki.search_type" title="searx.engines.mediawiki.search_type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search_type</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.mediawiki.srenablerewrites" title="searx.engines.mediawiki.srenablerewrites"><code class="xref py py-obj docutils literal notranslate"><span class="pre">srenablerewrites</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.mediawiki.srsort" title="searx.engines.mediawiki.srsort"><code class="xref py py-obj docutils literal notranslate"><span class="pre">srsort</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.mediawiki.srprop" title="searx.engines.mediawiki.srprop"><code class="xref py py-obj docutils literal notranslate"><span class="pre">srprop</span></code></a></p></li>
</ul>
</section>
<section id="implementations">
<h6 aria-level="7"><a class="toc-backref" href="#id3" role="doc-backlink">Implementations</a><a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.mediawiki.search_type">
<span class="sig-prename descclassname"><span class="pre">searx.engines.mediawiki.</span></span><span class="sig-name descname"><span class="pre">search_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'nearmatch'</span></em><a class="headerlink" href="#searx.engines.mediawiki.search_type" title="Link to this definition">¶</a></dt>
<dd><p>Which type of search to perform.  One of the following values: <code class="docutils literal notranslate"><span class="pre">nearmatch</span></code>,
<code class="docutils literal notranslate"><span class="pre">text</span></code> or <code class="docutils literal notranslate"><span class="pre">title</span></code>.</p>
<p>See <code class="docutils literal notranslate"><span class="pre">srwhat</span></code> argument in <a class="reference external" href="https://www.mediawiki.org/w/api.php?action=help&amp;modules=query%2Bsearch">list=search</a> documentation.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.mediawiki.srenablerewrites">
<span class="sig-prename descclassname"><span class="pre">searx.engines.mediawiki.</span></span><span class="sig-name descname"><span class="pre">srenablerewrites</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#searx.engines.mediawiki.srenablerewrites" title="Link to this definition">¶</a></dt>
<dd><p>Enable internal query rewriting (Type: boolean).  Some search backends can
rewrite the query into another which is thought to provide better results, for
instance by correcting spelling errors.</p>
<p>See <code class="docutils literal notranslate"><span class="pre">srenablerewrites</span></code> argument in <a class="reference external" href="https://www.mediawiki.org/w/api.php?action=help&amp;modules=query%2Bsearch">list=search</a> documentation.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.mediawiki.srsort">
<span class="sig-prename descclassname"><span class="pre">searx.engines.mediawiki.</span></span><span class="sig-name descname"><span class="pre">srsort</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'relevance'</span></em><a class="headerlink" href="#searx.engines.mediawiki.srsort" title="Link to this definition">¶</a></dt>
<dd><p>Set the sort order of returned results.  One of the following values:
<code class="docutils literal notranslate"><span class="pre">create_timestamp_asc</span></code>, <code class="docutils literal notranslate"><span class="pre">create_timestamp_desc</span></code>, <code class="docutils literal notranslate"><span class="pre">incoming_links_asc</span></code>,
<code class="docutils literal notranslate"><span class="pre">incoming_links_desc</span></code>, <code class="docutils literal notranslate"><span class="pre">just_match</span></code>, <code class="docutils literal notranslate"><span class="pre">last_edit_asc</span></code>, <code class="docutils literal notranslate"><span class="pre">last_edit_desc</span></code>,
<code class="docutils literal notranslate"><span class="pre">none</span></code>, <code class="docutils literal notranslate"><span class="pre">random</span></code>, <code class="docutils literal notranslate"><span class="pre">relevance</span></code>, <code class="docutils literal notranslate"><span class="pre">user_random</span></code>.</p>
<p>See <code class="docutils literal notranslate"><span class="pre">srenablerewrites</span></code> argument in <a class="reference external" href="https://www.mediawiki.org/w/api.php?action=help&amp;modules=query%2Bsearch">list=search</a> documentation.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.mediawiki.srprop">
<span class="sig-prename descclassname"><span class="pre">searx.engines.mediawiki.</span></span><span class="sig-name descname"><span class="pre">srprop</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'sectiontitle|snippet|timestamp|categorysnippet'</span></em><a class="headerlink" href="#searx.engines.mediawiki.srprop" title="Link to this definition">¶</a></dt>
<dd><p>Which properties to return.</p>
<p>See <code class="docutils literal notranslate"><span class="pre">srprop</span></code> argument in <a class="reference external" href="https://www.mediawiki.org/w/api.php?action=help&amp;modules=query%2Bsearch">list=search</a> documentation.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.mediawiki.base_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.mediawiki.</span></span><span class="sig-name descname"><span class="pre">base_url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://{language}.wikipedia.org/'</span></em><a class="headerlink" href="#searx.engines.mediawiki.base_url" title="Link to this definition">¶</a></dt>
<dd><p>Base URL of the Wikimedia wiki.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">{language}</span></code>:</dt><dd><p>ISO 639-1 language code (en, de, fr ..) of the search language.</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.mediawiki.api_path">
<span class="sig-prename descclassname"><span class="pre">searx.engines.mediawiki.</span></span><span class="sig-name descname"><span class="pre">api_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'w/api.php'</span></em><a class="headerlink" href="#searx.engines.mediawiki.api_path" title="Link to this definition">¶</a></dt>
<dd><p>The path the PHP api is listening on.</p>
<p>The default path should work fine usually.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.mediawiki.timestamp_format">
<span class="sig-prename descclassname"><span class="pre">searx.engines.mediawiki.</span></span><span class="sig-name descname"><span class="pre">timestamp_format</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'%Y-%m-%dT%H:%M:%SZ'</span></em><a class="headerlink" href="#searx.engines.mediawiki.timestamp_format" title="Link to this definition">¶</a></dt>
<dd><p>The longhand version of MediaWiki time strings.</p>
</dd></dl>

</section>
<span id="document-dev/engines/json_engine"></span><section id="json-engine">
<span id="json-engine-engine"></span><h6>JSON Engine<a class="headerlink" href="#json-engine" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#configuration" id="id1">Configuration</a></p></li>
<li><p><a class="reference internal" href="#example" id="id2">Example</a></p></li>
<li><p><a class="reference internal" href="#implementations" id="id3">Implementations</a></p></li>
</ul>
</nav>
<p id="module-searx.engines.json_engine">The JSON engine is a <em>generic</em> engine with which it is possible to configure
engines in the settings.</p>
<section id="configuration">
<h6 aria-level="7"><a class="toc-backref" href="#id1" role="doc-backlink">Configuration</a><a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>Request:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.json_engine.search_url" title="searx.engines.json_engine.search_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search_url</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.json_engine.lang_all" title="searx.engines.json_engine.lang_all"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lang_all</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.json_engine.soft_max_redirects" title="searx.engines.json_engine.soft_max_redirects"><code class="xref py py-obj docutils literal notranslate"><span class="pre">soft_max_redirects</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.json_engine.method" title="searx.engines.json_engine.method"><code class="xref py py-obj docutils literal notranslate"><span class="pre">method</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.json_engine.request_body" title="searx.engines.json_engine.request_body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">request_body</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.json_engine.cookies" title="searx.engines.json_engine.cookies"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cookies</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.json_engine.headers" title="searx.engines.json_engine.headers"><code class="xref py py-obj docutils literal notranslate"><span class="pre">headers</span></code></a></p></li>
</ul>
<p>Paging:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.json_engine.paging" title="searx.engines.json_engine.paging"><code class="xref py py-obj docutils literal notranslate"><span class="pre">paging</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.json_engine.page_size" title="searx.engines.json_engine.page_size"><code class="xref py py-obj docutils literal notranslate"><span class="pre">page_size</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.json_engine.first_page_num" title="searx.engines.json_engine.first_page_num"><code class="xref py py-obj docutils literal notranslate"><span class="pre">first_page_num</span></code></a></p></li>
</ul>
<p>Time Range:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.json_engine.time_range_support" title="searx.engines.json_engine.time_range_support"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time_range_support</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.json_engine.time_range_url" title="searx.engines.json_engine.time_range_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time_range_url</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.json_engine.time_range_map" title="searx.engines.json_engine.time_range_map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time_range_map</span></code></a></p></li>
</ul>
<p>Safe-Search:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.json_engine.safe_search_support" title="searx.engines.json_engine.safe_search_support"><code class="xref py py-obj docutils literal notranslate"><span class="pre">safe_search_support</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.json_engine.safe_search_map" title="searx.engines.json_engine.safe_search_map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">safe_search_map</span></code></a></p></li>
</ul>
<p>Response:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.json_engine.title_html_to_text" title="searx.engines.json_engine.title_html_to_text"><code class="xref py py-obj docutils literal notranslate"><span class="pre">title_html_to_text</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.json_engine.content_html_to_text" title="searx.engines.json_engine.content_html_to_text"><code class="xref py py-obj docutils literal notranslate"><span class="pre">content_html_to_text</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.json_engine.no_result_for_http_status" title="searx.engines.json_engine.no_result_for_http_status"><code class="xref py py-obj docutils literal notranslate"><span class="pre">no_result_for_http_status</span></code></a></p></li>
</ul>
<p>JSON query:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.json_engine.results_query" title="searx.engines.json_engine.results_query"><code class="xref py py-obj docutils literal notranslate"><span class="pre">results_query</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.json_engine.url_query" title="searx.engines.json_engine.url_query"><code class="xref py py-obj docutils literal notranslate"><span class="pre">url_query</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.json_engine.url_prefix" title="searx.engines.json_engine.url_prefix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">url_prefix</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.json_engine.title_query" title="searx.engines.json_engine.title_query"><code class="xref py py-obj docutils literal notranslate"><span class="pre">title_query</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.json_engine.content_query" title="searx.engines.json_engine.content_query"><code class="xref py py-obj docutils literal notranslate"><span class="pre">content_query</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.json_engine.thumbnail_query" title="searx.engines.json_engine.thumbnail_query"><code class="xref py py-obj docutils literal notranslate"><span class="pre">thumbnail_query</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.json_engine.thumbnail_prefix" title="searx.engines.json_engine.thumbnail_prefix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">thumbnail_prefix</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.json_engine.suggestion_query" title="searx.engines.json_engine.suggestion_query"><code class="xref py py-obj docutils literal notranslate"><span class="pre">suggestion_query</span></code></a></p></li>
</ul>
</section>
<section id="example">
<h6 aria-level="7"><a class="toc-backref" href="#id2" role="doc-backlink">Example</a><a class="headerlink" href="#example" title="Link to this heading">¶</a></h6>
<p>Here is a simple example of a JSON engine configure in the <a class="reference internal" href="#settings-engines"><span class="std std-ref">engines:</span></a> section, further read <a class="reference internal" href="#engines-dev"><span class="std std-ref">Engine Overview</span></a>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mdn</span>
<span class="w">  </span><span class="nt">engine </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">json_engine</span>
<span class="w">  </span><span class="nt">paging </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<span class="w">  </span><span class="nt">search_url </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://developer.mozilla.org/api/v1/search?q={query}&amp;page={pageno}</span>
<span class="w">  </span><span class="nt">results_query </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">documents</span>
<span class="w">  </span><span class="nt">url_query </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mdn_url</span>
<span class="w">  </span><span class="nt">url_prefix </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://developer.mozilla.org</span>
<span class="w">  </span><span class="nt">title_query </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">title</span>
<span class="w">  </span><span class="nt">content_query </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">summary</span>
</pre></div>
</div>
</section>
<section id="implementations">
<h6 aria-level="7"><a class="toc-backref" href="#id3" role="doc-backlink">Implementations</a><a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.search_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">search_url</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#searx.engines.json_engine.search_url" title="Link to this definition">¶</a></dt>
<dd><p>Search URL of the engine.  Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>https://example.org/?search={query}&amp;page={pageno}{time_range}{safe_search}
</pre></div>
</div>
<p>Replacements are:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">{query}</span></code>:</dt><dd><p>Search terms from user.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">{pageno}</span></code>:</dt><dd><p>Page number if engine supports paging <a class="reference internal" href="#searx.engines.json_engine.paging" title="searx.engines.json_engine.paging"><code class="xref py py-obj docutils literal notranslate"><span class="pre">paging</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">{lang}</span></code>:</dt><dd><p>ISO 639-1 language code (en, de, fr ..)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">{time_range}</span></code>:</dt><dd><p><a class="reference internal" href="#searx.engines.json_engine.time_range_url" title="searx.engines.json_engine.time_range_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">URL</span> <span class="pre">parameter</span></code></a> if engine <a class="reference internal" href="#searx.engines.json_engine.time_range_support" title="searx.engines.json_engine.time_range_support"><code class="xref py py-obj docutils literal notranslate"><span class="pre">supports</span> <span class="pre">time</span>
<span class="pre">range</span></code></a>.  The value for the parameter is taken from
<a class="reference internal" href="#searx.engines.json_engine.time_range_map" title="searx.engines.json_engine.time_range_map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time_range_map</span></code></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">{safe_search}</span></code>:</dt><dd><p>Safe-search <a class="reference internal" href="#searx.engines.json_engine.safe_search_map" title="searx.engines.json_engine.safe_search_map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">URL</span> <span class="pre">parameter</span></code></a> if engine
<a class="reference internal" href="#searx.engines.json_engine.safe_search_support" title="searx.engines.json_engine.safe_search_support"><code class="xref py py-obj docutils literal notranslate"><span class="pre">supports</span> <span class="pre">safe-search</span></code></a>.  The <code class="docutils literal notranslate"><span class="pre">{safe_search}</span></code>
replacement is taken from the <code class="xref py py-obj docutils literal notranslate"><span class="pre">safes_search_map</span></code>.  Filter results:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span><span class="p">:</span> <span class="n">none</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="n">moderate</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="n">strict</span>
</pre></div>
</div>
<p>If not supported, the URL parameter is an empty string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.lang_all">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">lang_all</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'en'</span></em><a class="headerlink" href="#searx.engines.json_engine.lang_all" title="Link to this definition">¶</a></dt>
<dd><p>Replacement <code class="docutils literal notranslate"><span class="pre">{lang}</span></code> in <a class="reference internal" href="#searx.engines.json_engine.search_url" title="searx.engines.json_engine.search_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search_url</span></code></a> if language <code class="docutils literal notranslate"><span class="pre">all</span></code> is
selected.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.no_result_for_http_status">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">no_result_for_http_status</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#searx.engines.json_engine.no_result_for_http_status" title="Link to this definition">¶</a></dt>
<dd><p>Return empty result for these HTTP status codes instead of throwing an error.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">no_result_for_http_status</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.soft_max_redirects">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">soft_max_redirects</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#searx.engines.json_engine.soft_max_redirects" title="Link to this definition">¶</a></dt>
<dd><p>Maximum redirects, soft limit. Record an error but don’t stop the engine</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.method">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">method</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'GET'</span></em><a class="headerlink" href="#searx.engines.json_engine.method" title="Link to this definition">¶</a></dt>
<dd><p>Some engines might require to do POST requests for search.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.request_body">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">request_body</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.json_engine.request_body" title="Link to this definition">¶</a></dt>
<dd><p>The body of the request.  This can only be used if different <a class="reference internal" href="#searx.engines.json_engine.method" title="searx.engines.json_engine.method"><code class="xref py py-obj docutils literal notranslate"><span class="pre">method</span></code></a>
is set, e.g. <code class="docutils literal notranslate"><span class="pre">POST</span></code>. For formatting see the documentation of <a class="reference internal" href="#searx.engines.json_engine.search_url" title="searx.engines.json_engine.search_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search_url</span></code></a>.</p>
<p>Note: Curly brackets which aren’t encapsulating a replacement placeholder
must be escaped by doubling each <code class="docutils literal notranslate"><span class="pre">{</span></code> and <code class="docutils literal notranslate"><span class="pre">}</span></code>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">request_body</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">&gt;-</span>
<span class="w">  </span><span class="no">{{</span>
<span class="w">    </span><span class="no">&quot;search&quot;: &quot;{query}&quot;,</span>
<span class="w">    </span><span class="no">&quot;page&quot;: {pageno},</span>
<span class="w">    </span><span class="no">&quot;extra&quot;: {{</span>
<span class="w">      </span><span class="no">&quot;time_range&quot;: {time_range},</span>
<span class="w">      </span><span class="no">&quot;rating&quot;: &quot;{safe_search}&quot;</span>
<span class="w">    </span><span class="no">}}</span>
<span class="w">  </span><span class="no">}}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.cookies">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">cookies</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#searx.engines.json_engine.cookies" title="Link to this definition">¶</a></dt>
<dd><p>Some engines might offer different result based on cookies.
Possible use-case: To set safesearch cookie.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.headers">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">headers</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#searx.engines.json_engine.headers" title="Link to this definition">¶</a></dt>
<dd><p>Some engines might offer different result based on cookies or headers.
Possible use-case: To set safesearch cookie or header to moderate.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.paging">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">paging</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#searx.engines.json_engine.paging" title="Link to this definition">¶</a></dt>
<dd><p>Engine supports paging [True or False].</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.page_size">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">page_size</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#searx.engines.json_engine.page_size" title="Link to this definition">¶</a></dt>
<dd><p>Number of results on each page.  Only needed if the site requires not a page
number, but an offset.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.first_page_num">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">first_page_num</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#searx.engines.json_engine.first_page_num" title="Link to this definition">¶</a></dt>
<dd><p>Number of the first page (usually 0 or 1).</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.results_query">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">results_query</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.json_engine.results_query" title="Link to this definition">¶</a></dt>
<dd><p>JSON query for the list of result items.</p>
<p>The query string is a slash <cite>/</cite> separated path of JSON key names.
Array entries can be specified using the index or can be omitted entirely,
in which case each entry is considered -
most implementations will default to the first entry in this case.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.url_query">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">url_query</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#searx.engines.json_engine.url_query" title="Link to this definition">¶</a></dt>
<dd><p>JSON query of result’s <code class="docutils literal notranslate"><span class="pre">url</span></code>. For the query string documentation see <a class="reference internal" href="#searx.engines.json_engine.results_query" title="searx.engines.json_engine.results_query"><code class="xref py py-obj docutils literal notranslate"><span class="pre">results_query</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.url_prefix">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">url_prefix</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.json_engine.url_prefix" title="Link to this definition">¶</a></dt>
<dd><p>String to prepend to the result’s <code class="docutils literal notranslate"><span class="pre">url</span></code>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.title_query">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">title_query</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#searx.engines.json_engine.title_query" title="Link to this definition">¶</a></dt>
<dd><p>JSON query of result’s <code class="docutils literal notranslate"><span class="pre">title</span></code>. For the query string documentation see <a class="reference internal" href="#searx.engines.json_engine.results_query" title="searx.engines.json_engine.results_query"><code class="xref py py-obj docutils literal notranslate"><span class="pre">results_query</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.content_query">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">content_query</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#searx.engines.json_engine.content_query" title="Link to this definition">¶</a></dt>
<dd><p>JSON query of result’s <code class="docutils literal notranslate"><span class="pre">content</span></code>. For the query string documentation see <a class="reference internal" href="#searx.engines.json_engine.results_query" title="searx.engines.json_engine.results_query"><code class="xref py py-obj docutils literal notranslate"><span class="pre">results_query</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.thumbnail_query">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">thumbnail_query</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#searx.engines.json_engine.thumbnail_query" title="Link to this definition">¶</a></dt>
<dd><p>JSON query of result’s <code class="docutils literal notranslate"><span class="pre">thumbnail</span></code>. For the query string documentation see <a class="reference internal" href="#searx.engines.json_engine.results_query" title="searx.engines.json_engine.results_query"><code class="xref py py-obj docutils literal notranslate"><span class="pre">results_query</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.thumbnail_prefix">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">thumbnail_prefix</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.json_engine.thumbnail_prefix" title="Link to this definition">¶</a></dt>
<dd><p>String to prepend to the result’s <code class="docutils literal notranslate"><span class="pre">thumbnail</span></code>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.suggestion_query">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">suggestion_query</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.json_engine.suggestion_query" title="Link to this definition">¶</a></dt>
<dd><p>JSON query of result’s <code class="docutils literal notranslate"><span class="pre">suggestion</span></code>. For the query string documentation see <a class="reference internal" href="#searx.engines.json_engine.results_query" title="searx.engines.json_engine.results_query"><code class="xref py py-obj docutils literal notranslate"><span class="pre">results_query</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.title_html_to_text">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">title_html_to_text</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#searx.engines.json_engine.title_html_to_text" title="Link to this definition">¶</a></dt>
<dd><p>Extract text from a HTML title string</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.content_html_to_text">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">content_html_to_text</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#searx.engines.json_engine.content_html_to_text" title="Link to this definition">¶</a></dt>
<dd><p>Extract text from a HTML content string</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.time_range_support">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">time_range_support</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#searx.engines.json_engine.time_range_support" title="Link to this definition">¶</a></dt>
<dd><p>Engine supports search time range.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.time_range_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">time_range_url</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'&amp;hours={time_range_val}'</span></em><a class="headerlink" href="#searx.engines.json_engine.time_range_url" title="Link to this definition">¶</a></dt>
<dd><p>Time range URL parameter in the in <a class="reference internal" href="#searx.engines.json_engine.search_url" title="searx.engines.json_engine.search_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search_url</span></code></a>.  If no time range is
requested by the user, the URL parameter is an empty string.  The
<code class="docutils literal notranslate"><span class="pre">{time_range_val}</span></code> replacement is taken from the <a class="reference internal" href="#searx.engines.json_engine.time_range_map" title="searx.engines.json_engine.time_range_map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time_range_map</span></code></a>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">time_range_url </span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&amp;days={time_range_val}&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.time_range_map">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">time_range_map</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'day':</span> <span class="pre">24,</span> <span class="pre">'month':</span> <span class="pre">720,</span> <span class="pre">'week':</span> <span class="pre">168,</span> <span class="pre">'year':</span> <span class="pre">8760}</span></em><a class="headerlink" href="#searx.engines.json_engine.time_range_map" title="Link to this definition">¶</a></dt>
<dd><p>Maps time range value from user to <code class="docutils literal notranslate"><span class="pre">{time_range_val}</span></code> in
<a class="reference internal" href="#searx.engines.json_engine.time_range_url" title="searx.engines.json_engine.time_range_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time_range_url</span></code></a>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">time_range_map</span><span class="p">:</span>
<span class="w">  </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">week</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7</span>
<span class="w">  </span><span class="nt">month</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span>
<span class="w">  </span><span class="nt">year</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">365</span>
</pre></div>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.safe_search_support">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">safe_search_support</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#searx.engines.json_engine.safe_search_support" title="Link to this definition">¶</a></dt>
<dd><p>Engine supports safe-search.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.json_engine.safe_search_map">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">safe_search_map</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{0:</span> <span class="pre">'&amp;filter=none',</span> <span class="pre">1:</span> <span class="pre">'&amp;filter=moderate',</span> <span class="pre">2:</span> <span class="pre">'&amp;filter=strict'}</span></em><a class="headerlink" href="#searx.engines.json_engine.safe_search_map" title="Link to this definition">¶</a></dt>
<dd><p>Maps safe-search value to <code class="docutils literal notranslate"><span class="pre">{safe_search}</span></code> in <a class="reference internal" href="#searx.engines.json_engine.search_url" title="searx.engines.json_engine.search_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search_url</span></code></a>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">safesearch</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">safes_search_map</span><span class="p">:</span>
<span class="w">  </span><span class="nt">0</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&amp;filter=none&#39;</span>
<span class="w">  </span><span class="nt">1</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&amp;filter=moderate&#39;</span>
<span class="w">  </span><span class="nt">2</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&amp;filter=strict&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.json_engine.request">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.json_engine.request" title="Link to this definition">¶</a></dt>
<dd><p>Build request parameters (see <a class="reference internal" href="#engine-request"><span class="std std-ref">Making a Request</span></a>).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.json_engine.response">
<span class="sig-prename descclassname"><span class="pre">searx.engines.json_engine.</span></span><span class="sig-name descname"><span class="pre">response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.json_engine.response" title="Link to this definition">¶</a></dt>
<dd><p>Scrap <em>results</em> from the response (see <a class="reference internal" href="#result-types"><span class="std std-ref">Result Types</span></a>).</p>
</dd></dl>

</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-dev/engines/online/adobe_stock"></span><section id="adobe-stock">
<span id="adobe-stock-engine"></span><h6>Adobe Stock<a class="headerlink" href="#adobe-stock" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#configuration" id="id1">Configuration</a></p></li>
<li><p><a class="reference internal" href="#implementation" id="id2">Implementation</a></p></li>
</ul>
</nav>
<p id="module-searx.engines.adobe_stock"><a class="reference internal" href="#adobe-stock">Adobe Stock</a> is a service that gives access to millions of royalty-free
assets. Assets types include photos, vectors, illustrations, templates, 3D
assets, videos, motion graphics templates and audio tracks.</p>
<section id="configuration">
<h6 aria-level="7"><a class="toc-backref" href="#id1" role="doc-backlink">Configuration</a><a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>The engine has the following mandatory setting:</p>
<ul class="simple">
<li><p>SearXNG’s <a class="reference internal" href="#engine-categories"><span class="std std-ref">categories</span></a></p></li>
<li><p>Adobe-Stock’s <a class="reference internal" href="#searx.engines.adobe_stock.adobe_order" title="searx.engines.adobe_stock.adobe_order"><code class="xref py py-obj docutils literal notranslate"><span class="pre">adobe_order</span></code></a></p></li>
<li><p>Adobe-Stock’s <a class="reference internal" href="#searx.engines.adobe_stock.adobe_content_types" title="searx.engines.adobe_stock.adobe_content_types"><code class="xref py py-obj docutils literal notranslate"><span class="pre">adobe_content_types</span></code></a></p></li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">adobe stock</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">adobe_stock</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">asi</span>
<span class="w">  </span><span class="nt">categories</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">images</span><span class="p p-Indicator">]</span>
<span class="w">  </span><span class="nt">adobe_order</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">relevance</span>
<span class="w">  </span><span class="nt">adobe_content_types</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;photo&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;illustration&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;zip_vector&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;template&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;3d&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;image&quot;</span><span class="p p-Indicator">]</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">adobe stock video</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">adobe_stock</span>
<span class="w">  </span><span class="nt">network</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">adobe stock</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">asi</span>
<span class="w">  </span><span class="nt">categories</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">videos</span><span class="p p-Indicator">]</span>
<span class="w">  </span><span class="nt">adobe_order</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">relevance</span>
<span class="w">  </span><span class="nt">adobe_content_types</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;video&quot;</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</section>
<section id="implementation">
<h6 aria-level="7"><a class="toc-backref" href="#id2" role="doc-backlink">Implementation</a><a class="headerlink" href="#implementation" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.adobe_stock.adobe_order">
<span class="sig-prename descclassname"><span class="pre">searx.engines.adobe_stock.</span></span><span class="sig-name descname"><span class="pre">adobe_order</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.adobe_stock.adobe_order" title="Link to this definition">¶</a></dt>
<dd><p>Sort order, can be one of:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">relevance</span></code> or</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">featured</span></code> or</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">creation</span></code> (most recent) or</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nb_downloads</span></code> (number of downloads)</p></li>
</ul>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.adobe_stock.adobe_content_types">
<span class="sig-prename descclassname"><span class="pre">searx.engines.adobe_stock.</span></span><span class="sig-name descname"><span class="pre">adobe_content_types</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#searx.engines.adobe_stock.adobe_content_types" title="Link to this definition">¶</a></dt>
<dd><p>A list of of content types.  The following content types are offered:</p>
<ul class="simple">
<li><p>Images: <code class="docutils literal notranslate"><span class="pre">image</span></code></p></li>
<li><p>Videos: <code class="docutils literal notranslate"><span class="pre">video</span></code></p></li>
<li><p>Templates: <code class="docutils literal notranslate"><span class="pre">template</span></code></p></li>
<li><p>3D: <code class="docutils literal notranslate"><span class="pre">3d</span></code></p></li>
<li><p>Audio <code class="docutils literal notranslate"><span class="pre">audio</span></code></p></li>
</ul>
<p>Additional subcategories:</p>
<ul class="simple">
<li><p>Photos: <code class="docutils literal notranslate"><span class="pre">photo</span></code></p></li>
<li><p>Illustrations: <code class="docutils literal notranslate"><span class="pre">illustration</span></code></p></li>
<li><p>Vectors: <code class="docutils literal notranslate"><span class="pre">zip_vector</span></code> (Vectors),</p></li>
</ul>
</dd></dl>

</section>
<span id="document-dev/engines/online/alpinelinux"></span><section id="alpine-linux-packages">
<span id="alpinelinux-engine"></span><h6>Alpine Linux Packages<a class="headerlink" href="#alpine-linux-packages" title="Link to this heading">¶</a></h6>
<p id="module-searx.engines.alpinelinux"><a class="reference external" href="https://pkgs.alpinelinux.org">Alpine Linux binary packages</a>.  <a class="reference external" href="https://www.alpinelinux.org">Alpine Linux</a> is a Linux-based operation
system designed to be small, simple and secure.  Contrary to many other Linux
distributions, it uses musl, BusyBox and OpenRC.  Alpine is mostly used on
servers and for Docker images.</p>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.alpinelinux.alpine_arch">
<span class="sig-prename descclassname"><span class="pre">searx.engines.alpinelinux.</span></span><span class="sig-name descname"><span class="pre">alpine_arch</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'x86_64'</span></em><a class="headerlink" href="#searx.engines.alpinelinux.alpine_arch" title="Link to this definition">¶</a></dt>
<dd><p>Kernel architecture: <code class="docutils literal notranslate"><span class="pre">x86_64</span></code>, <code class="docutils literal notranslate"><span class="pre">x86</span></code>, <code class="docutils literal notranslate"><span class="pre">aarch64</span></code>, <code class="docutils literal notranslate"><span class="pre">armhf</span></code>,
<code class="docutils literal notranslate"><span class="pre">ppc64le</span></code>, <code class="docutils literal notranslate"><span class="pre">s390x</span></code>, <code class="docutils literal notranslate"><span class="pre">armv7</span></code> or <code class="docutils literal notranslate"><span class="pre">riscv64</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.alpinelinux.ARCH_RE">
<span class="sig-prename descclassname"><span class="pre">searx.engines.alpinelinux.</span></span><span class="sig-name descname"><span class="pre">ARCH_RE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">re.compile('x86_64|x86|aarch64|armhf|ppc64le|s390x|armv7|riscv64')</span></em><a class="headerlink" href="#searx.engines.alpinelinux.ARCH_RE" title="Link to this definition">¶</a></dt>
<dd><p>Regular expression to match supported architectures in the query string.</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/annas_archive"></span><section id="anna-s-archive">
<span id="annas-archive-engine"></span><h6>Anna’s Archive<a class="headerlink" href="#anna-s-archive" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#configuration" id="id2">Configuration</a></p></li>
<li><p><a class="reference internal" href="#implementations" id="id3">Implementations</a></p></li>
</ul>
</nav>
<p id="module-searx.engines.annas_archive"><a class="reference external" href="https://annas-archive.org/">Anna’s Archive</a> is a free non-profit online shadow library metasearch
engine providing access to a variety of book resources (also via IPFS), created
by a team of anonymous archivists (<a class="reference external" href="https://annas-software.org/AnnaArchivist/annas-archive">AnnaArchivist</a>).</p>
<section id="configuration">
<h6 aria-level="7"><a class="toc-backref" href="#id2" role="doc-backlink">Configuration</a><a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>The engine has the following additional settings:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.annas_archive.aa_content" title="searx.engines.annas_archive.aa_content"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aa_content</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.annas_archive.aa_ext" title="searx.engines.annas_archive.aa_ext"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aa_ext</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.annas_archive.aa_sort" title="searx.engines.annas_archive.aa_sort"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aa_sort</span></code></a></p></li>
</ul>
<p>With this options a SearXNG maintainer is able to configure <strong>additional</strong>
engines for specific searches in Anna’s Archive.  For example a engine to search
for <em>newest</em> articles and journals (PDF) / by shortcut <code class="docutils literal notranslate"><span class="pre">!aaa</span> <span class="pre">&lt;search-term&gt;</span></code>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">annas articles</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">annas_archive</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">aaa</span>
<span class="w">  </span><span class="nt">aa_content</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;magazine&#39;</span>
<span class="w">  </span><span class="nt">aa_ext</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;pdf&#39;</span>
<span class="w">  </span><span class="nt">aa_sort</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;newest&#39;</span>
</pre></div>
</div>
</section>
<section id="implementations">
<h6 aria-level="7"><a class="toc-backref" href="#id3" role="doc-backlink">Implementations</a><a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.annas_archive.aa_content">
<span class="sig-prename descclassname"><span class="pre">searx.engines.annas_archive.</span></span><span class="sig-name descname"><span class="pre">aa_content</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.annas_archive.aa_content" title="Link to this definition">¶</a></dt>
<dd><p>Anan’s search form field <strong>Content</strong> / possible values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">book_fiction</span><span class="p">,</span> <span class="n">book_unknown</span><span class="p">,</span> <span class="n">book_nonfiction</span><span class="p">,</span>
<span class="n">book_comic</span><span class="p">,</span> <span class="n">magazine</span><span class="p">,</span> <span class="n">standards_document</span>
</pre></div>
</div>
<p>To not filter use an empty string (default).</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.annas_archive.aa_sort">
<span class="sig-prename descclassname"><span class="pre">searx.engines.annas_archive.</span></span><span class="sig-name descname"><span class="pre">aa_sort</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.annas_archive.aa_sort" title="Link to this definition">¶</a></dt>
<dd><p>Sort Anna’s results, possible values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">newest</span><span class="p">,</span> <span class="n">oldest</span><span class="p">,</span> <span class="n">largest</span><span class="p">,</span> <span class="n">smallest</span>
</pre></div>
</div>
<p>To sort by <em>most relevant</em> use an empty string (default).</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.annas_archive.aa_ext">
<span class="sig-prename descclassname"><span class="pre">searx.engines.annas_archive.</span></span><span class="sig-name descname"><span class="pre">aa_ext</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.annas_archive.aa_ext" title="Link to this definition">¶</a></dt>
<dd><p>Filter Anna’s results by a file ending.  Common filters for example are
<code class="docutils literal notranslate"><span class="pre">pdf</span></code> and <code class="docutils literal notranslate"><span class="pre">epub</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Anna’s Archive is a beta release: Filter results by file extension does not
really work on Anna’s Archive.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.annas_archive.init">
<span class="sig-prename descclassname"><span class="pre">searx.engines.annas_archive.</span></span><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.annas_archive.init" title="Link to this definition">¶</a></dt>
<dd><p>Check of engine’s settings.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.annas_archive.fetch_traits">
<span class="sig-prename descclassname"><span class="pre">searx.engines.annas_archive.</span></span><span class="sig-name descname"><span class="pre">fetch_traits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_traits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><span class="pre">EngineTraits</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.annas_archive.fetch_traits" title="Link to this definition">¶</a></dt>
<dd><p>Fetch languages and other search arguments from Anna’s search form.</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/archlinux"></span><section id="arch-linux">
<span id="archlinux-engine"></span><h6>Arch Linux<a class="headerlink" href="#arch-linux" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#arch-linux-wiki" id="id1">Arch Linux Wiki</a></p></li>
</ul>
</nav>
<section id="arch-linux-wiki">
<span id="module-searx.engines.archlinux"></span><h6 aria-level="7"><a class="toc-backref" href="#id1" role="doc-backlink">Arch Linux Wiki</a><a class="headerlink" href="#arch-linux-wiki" title="Link to this heading">¶</a></h6>
<p>This implementation does not use a official API: Mediawiki provides API, but
Arch Wiki blocks access to it.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.archlinux.fetch_traits">
<span class="sig-prename descclassname"><span class="pre">searx.engines.archlinux.</span></span><span class="sig-name descname"><span class="pre">fetch_traits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_traits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><span class="pre">EngineTraits</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.archlinux.fetch_traits" title="Link to this definition">¶</a></dt>
<dd><p>Fetch languages from Archlinux-Wiki.  The location of the Wiki address of a
language is mapped in a <a class="reference internal" href="#searx.enginelib.traits.EngineTraits.custom" title="searx.enginelib.traits.EngineTraits.custom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">custom</span> <span class="pre">field</span></code></a> (<code class="docutils literal notranslate"><span class="pre">wiki_netloc</span></code>).  Depending
on the location, the <code class="docutils literal notranslate"><span class="pre">title</span></code> argument in the request is translated.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;custom&quot;</span><span class="p">:</span> <span class="p">{</span>
  <span class="s2">&quot;wiki_netloc&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;de&quot;</span><span class="p">:</span> <span class="s2">&quot;wiki.archlinux.de&quot;</span><span class="p">,</span>
     <span class="c1"># ...</span>
    <span class="s2">&quot;zh&quot;</span><span class="p">:</span> <span class="s2">&quot;wiki.archlinuxcn.org&quot;</span>
  <span class="p">}</span>
  <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;de&quot;</span><span class="p">:</span> <span class="s2">&quot;Spezial:Suche&quot;</span><span class="p">,</span>
     <span class="c1"># ...</span>
    <span class="s2">&quot;zh&quot;</span><span class="p">:</span> <span class="s2">&quot;Special:搜索&quot;</span>
  <span class="p">},</span>
<span class="p">},</span>
</pre></div>
</div>
</dd></dl>

</section>
<span id="document-dev/engines/online/bing"></span><section id="bing-engines">
<span id="id1"></span><h6>Bing Engines<a class="headerlink" href="#bing-engines" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#module-searx.engines.bing" id="id2">Bing WEB</a></p></li>
<li><p><a class="reference internal" href="#module-searx.engines.bing_images" id="id3">Bing Images</a></p></li>
<li><p><a class="reference internal" href="#module-searx.engines.bing_videos" id="id4">Bing Videos</a></p></li>
<li><p><a class="reference internal" href="#module-searx.engines.bing_news" id="id5">Bing News</a></p></li>
</ul>
</nav>
<section id="module-searx.engines.bing">
<span id="bing-web"></span><span id="bing-web-engine"></span><h6 aria-level="7"><a class="toc-backref" href="#id2" role="doc-backlink">Bing WEB</a><a class="headerlink" href="#module-searx.engines.bing" title="Link to this heading">¶</a></h6>
<p>This is the implementation of the Bing-WEB engine. Some of this
implementations are shared by other engines:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#bing-images-engine"><span class="std std-ref">Bing Images</span></a></p></li>
<li><p><a class="reference internal" href="#bing-news-engine"><span class="std std-ref">Bing News</span></a></p></li>
<li><p><a class="reference internal" href="#bing-videos-engine"><span class="std std-ref">Bing Videos</span></a></p></li>
</ul>
<p>On the <a class="reference external" href="https://www.bing.com/account/general">preference page</a> Bing offers a lot of languages an regions (see section
LANGUAGE and COUNTRY/REGION).  The Language is the language of the UI, we need
in SearXNG to get the translations of data such as <em>“published last week”</em>.</p>
<p>There is a description of the official <a class="reference external" href="https://learn.microsoft.com/en-us/bing/search-apis/">search-APIs</a>, unfortunately this is not
the API we can use or that bing itself would use.  You can look up some things
in the API to get a better picture of bing, but the value specifications like
the market codes are usually outdated or at least no longer used by bing itself.</p>
<p>The market codes have been harmonized and are identical for web, video and
images.  The news area has also been harmonized with the other categories.  Only
political adjustments still seem to be made – for example, there is no news
category for the Chinese market.</p>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.bing.max_page">
<span class="sig-prename descclassname"><span class="pre">searx.engines.bing.</span></span><span class="sig-name descname"><span class="pre">max_page</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">200</span></em><a class="headerlink" href="#searx.engines.bing.max_page" title="Link to this definition">¶</a></dt>
<dd><p>200 pages maximum (<code class="docutils literal notranslate"><span class="pre">&amp;first=1991</span></code>)</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.bing.safesearch">
<span class="sig-prename descclassname"><span class="pre">searx.engines.bing.</span></span><span class="sig-name descname"><span class="pre">safesearch</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#searx.engines.bing.safesearch" title="Link to this definition">¶</a></dt>
<dd><p>Bing results are always SFW.  To get NSFW links from bing some age
verification by a cookie is needed / thats not possible in SearXNG.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.bing.base_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.bing.</span></span><span class="sig-name descname"><span class="pre">base_url</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://www.bing.com/search'</span></em><a class="headerlink" href="#searx.engines.bing.base_url" title="Link to this definition">¶</a></dt>
<dd><p>Bing (Web) search URL</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.bing.request">
<span class="sig-prename descclassname"><span class="pre">searx.engines.bing.</span></span><span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.bing.request" title="Link to this definition">¶</a></dt>
<dd><p>Assemble a Bing-Web request.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.bing.fetch_traits">
<span class="sig-prename descclassname"><span class="pre">searx.engines.bing.</span></span><span class="sig-name descname"><span class="pre">fetch_traits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_traits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><span class="pre">EngineTraits</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.bing.fetch_traits" title="Link to this definition">¶</a></dt>
<dd><p>Fetch languages and regions from Bing-Web.</p>
</dd></dl>

</section>
<section id="module-searx.engines.bing_images">
<span id="bing-images"></span><span id="bing-images-engine"></span><h6 aria-level="7"><a class="toc-backref" href="#id3" role="doc-backlink">Bing Images</a><a class="headerlink" href="#module-searx.engines.bing_images" title="Link to this heading">¶</a></h6>
<p>Bing-Images: description see <a class="reference internal" href="#module-searx.engines.bing" title="searx.engines.bing"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.engines.bing</span></code></a>.</p>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.bing_images.base_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.bing_images.</span></span><span class="sig-name descname"><span class="pre">base_url</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://www.bing.com/images/async'</span></em><a class="headerlink" href="#searx.engines.bing_images.base_url" title="Link to this definition">¶</a></dt>
<dd><p>Bing (Images) search URL</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.bing_images.request">
<span class="sig-prename descclassname"><span class="pre">searx.engines.bing_images.</span></span><span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.bing_images.request" title="Link to this definition">¶</a></dt>
<dd><p>Assemble a Bing-Image request.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.bing_images.response">
<span class="sig-prename descclassname"><span class="pre">searx.engines.bing_images.</span></span><span class="sig-name descname"><span class="pre">response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.bing_images.response" title="Link to this definition">¶</a></dt>
<dd><p>Get response from Bing-Images</p>
</dd></dl>

</section>
<section id="module-searx.engines.bing_videos">
<span id="bing-videos"></span><span id="bing-videos-engine"></span><h6 aria-level="7"><a class="toc-backref" href="#id4" role="doc-backlink">Bing Videos</a><a class="headerlink" href="#module-searx.engines.bing_videos" title="Link to this heading">¶</a></h6>
<p>Bing-Videos: description see <a class="reference internal" href="#module-searx.engines.bing" title="searx.engines.bing"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.engines.bing</span></code></a>.</p>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.bing_videos.base_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.bing_videos.</span></span><span class="sig-name descname"><span class="pre">base_url</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://www.bing.com/videos/asyncv2'</span></em><a class="headerlink" href="#searx.engines.bing_videos.base_url" title="Link to this definition">¶</a></dt>
<dd><p>Bing (Videos) async search URL.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.bing_videos.request">
<span class="sig-prename descclassname"><span class="pre">searx.engines.bing_videos.</span></span><span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.bing_videos.request" title="Link to this definition">¶</a></dt>
<dd><p>Assemble a Bing-Video request.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.bing_videos.response">
<span class="sig-prename descclassname"><span class="pre">searx.engines.bing_videos.</span></span><span class="sig-name descname"><span class="pre">response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.bing_videos.response" title="Link to this definition">¶</a></dt>
<dd><p>Get response from Bing-Video</p>
</dd></dl>

</section>
<section id="module-searx.engines.bing_news">
<span id="bing-news"></span><span id="bing-news-engine"></span><h6 aria-level="7"><a class="toc-backref" href="#id5" role="doc-backlink">Bing News</a><a class="headerlink" href="#module-searx.engines.bing_news" title="Link to this heading">¶</a></h6>
<p>Bing-News: description see <a class="reference internal" href="#module-searx.engines.bing" title="searx.engines.bing"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.engines.bing</span></code></a>.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Bing News is <em>different</em> in some ways!</p>
</div>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.bing_news.paging">
<span class="sig-prename descclassname"><span class="pre">searx.engines.bing_news.</span></span><span class="sig-name descname"><span class="pre">paging</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#searx.engines.bing_news.paging" title="Link to this definition">¶</a></dt>
<dd><p>If go through the pages and there are actually no new results for another
page, then bing returns the results from the last page again.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.bing_news.time_map">
<span class="sig-prename descclassname"><span class="pre">searx.engines.bing_news.</span></span><span class="sig-name descname"><span class="pre">time_map</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'day':</span> <span class="pre">'interval=&quot;4&quot;',</span> <span class="pre">'month':</span> <span class="pre">'interval=&quot;9&quot;',</span> <span class="pre">'week':</span> <span class="pre">'interval=&quot;7&quot;'}</span></em><a class="headerlink" href="#searx.engines.bing_news.time_map" title="Link to this definition">¶</a></dt>
<dd><p>A string ‘4’ means <em>last hour</em>.  We use <em>last hour</em> for <code class="docutils literal notranslate"><span class="pre">day</span></code> here since the
difference of <em>last day</em> and <em>last week</em> in the result list is just marginally.
Bing does not have news range <code class="docutils literal notranslate"><span class="pre">year</span></code> / we use <code class="docutils literal notranslate"><span class="pre">month</span></code> instead.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.bing_news.base_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.bing_news.</span></span><span class="sig-name descname"><span class="pre">base_url</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://www.bing.com/news/infinitescrollajax'</span></em><a class="headerlink" href="#searx.engines.bing_news.base_url" title="Link to this definition">¶</a></dt>
<dd><p>Bing (News) search URL</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.bing_news.request">
<span class="sig-prename descclassname"><span class="pre">searx.engines.bing_news.</span></span><span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.bing_news.request" title="Link to this definition">¶</a></dt>
<dd><p>Assemble a Bing-News request.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.bing_news.response">
<span class="sig-prename descclassname"><span class="pre">searx.engines.bing_news.</span></span><span class="sig-name descname"><span class="pre">response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.bing_news.response" title="Link to this definition">¶</a></dt>
<dd><p>Get response from Bing-Video</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.bing_news.fetch_traits">
<span class="sig-prename descclassname"><span class="pre">searx.engines.bing_news.</span></span><span class="sig-name descname"><span class="pre">fetch_traits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_traits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><span class="pre">EngineTraits</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.bing_news.fetch_traits" title="Link to this definition">¶</a></dt>
<dd><p>Fetch languages and regions from Bing-News.</p>
</dd></dl>

</section>
</section>
<span id="document-dev/engines/online/bpb"></span><section id="bpb">
<span id="bpb-engine"></span><h6>Bpb<a class="headerlink" href="#bpb" title="Link to this heading">¶</a></h6>
<p id="module-searx.engines.bpb">BPB refers to <code class="docutils literal notranslate"><span class="pre">Bundeszentrale</span> <span class="pre">für</span> <span class="pre">poltische</span> <span class="pre">Bildung</span></code>, which is a German
governmental institution aiming to reduce misinformation by providing resources
about politics and history.</p>
</section>
<span id="document-dev/engines/online/brave"></span><section id="brave-engines">
<span id="brave-engine"></span><h6>Brave Engines<a class="headerlink" href="#brave-engines" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#brave-regions" id="id3">Brave regions</a></p></li>
<li><p><a class="reference internal" href="#brave-goggles" id="id4">Brave Goggles</a></p></li>
<li><p><a class="reference internal" href="#brave-languages" id="id5">Brave languages</a></p></li>
<li><p><a class="reference internal" href="#implementations" id="id6">Implementations</a></p></li>
</ul>
</nav>
<p id="module-searx.engines.brave">Brave supports the categories listed in <code class="xref py py-obj docutils literal notranslate"><span class="pre">brave_category</span></code> (General,
news, videos, images).  The support of <a class="reference internal" href="#searx.engines.brave.paging" title="searx.engines.brave.paging"><code class="xref py py-obj docutils literal notranslate"><span class="pre">paging</span></code></a> and <a class="reference internal" href="#searx.engines.brave.time_range_support" title="searx.engines.brave.time_range_support"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time</span> <span class="pre">range</span></code></a> is limited (see remarks).</p>
<p>Configured <code class="docutils literal notranslate"><span class="pre">brave</span></code> engines:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">brave</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">brave</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">  </span><span class="nt">brave_category</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">search</span>
<span class="w">  </span><span class="nt">time_range_support</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">paging</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">brave.images</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">brave</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">  </span><span class="nt">brave_category</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">images</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">brave.videos</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">brave</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">  </span><span class="nt">brave_category</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">videos</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">brave.news</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">brave</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">  </span><span class="nt">brave_category</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">news</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">brave.goggles</span>
<span class="w">  </span><span class="nt">time_range_support</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">paging</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">  </span><span class="nt">brave_category</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">goggles</span>
</pre></div>
</div>
<section id="brave-regions">
<span id="id1"></span><h6 aria-level="7"><a class="toc-backref" href="#id3" role="doc-backlink">Brave regions</a><a class="headerlink" href="#brave-regions" title="Link to this heading">¶</a></h6>
<p>Brave uses two-digit tags for the regions like <code class="docutils literal notranslate"><span class="pre">ca</span></code> while SearXNG deals with
locales.  To get a mapping, all <em>officiat de-facto</em> languages of the Brave
region are mapped to regions in SearXNG (see <a class="reference external" href="https://babel.readthedocs.io/en/latest/api/languages.html#babel.languages.get_official_languages" title="(in Babel v2.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">babel</span></code></a>):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;regions&quot;</span><span class="p">:</span> <span class="p">{</span>
  <span class="o">..</span>
  <span class="s2">&quot;en-CA&quot;</span><span class="p">:</span> <span class="s2">&quot;ca&quot;</span><span class="p">,</span>
  <span class="s2">&quot;fr-CA&quot;</span><span class="p">:</span> <span class="s2">&quot;ca&quot;</span><span class="p">,</span>
  <span class="o">..</span>
 <span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The language (aka region) support of Brave’s index is limited to very basic
languages.  The search results for languages like Chinese or Arabic are of
low quality.</p>
</div>
</section>
<section id="brave-goggles">
<span id="brave-googles"></span><h6 aria-level="7"><a class="toc-backref" href="#id4" role="doc-backlink">Brave Goggles</a><a class="headerlink" href="#brave-goggles" title="Link to this heading">¶</a></h6>
<p>Goggles allow you to choose, alter, or extend the ranking of Brave Search
results (<a class="reference external" href="https://brave.com/static-assets/files/goggles.pdf">Goggles Whitepaper</a>).  Goggles are openly developed by the community
of Brave Search users.</p>
<p>Select from the <a class="reference external" href="https://search.brave.com/goggles/discover">list of Goggles</a> people have published, or create your own
(<a class="reference external" href="https://github.com/brave/goggles-quickstart">Goggles Quickstart</a>).</p>
</section>
<section id="brave-languages">
<span id="id2"></span><h6 aria-level="7"><a class="toc-backref" href="#id5" role="doc-backlink">Brave languages</a><a class="headerlink" href="#brave-languages" title="Link to this heading">¶</a></h6>
<p>Brave’s language support is limited to the UI (menus, area local notations,
etc).  Brave’s index only seems to support a locale, but it does not seem to
support any languages in its index.  The choice of available languages is very
small (and its not clear to me where the difference in UI is when switching
from en-us to en-ca or en-gb).</p>
<p>In the <a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EngineTraits</span> <span class="pre">object</span></code></a> the
UI languages are stored in a custom field named <code class="docutils literal notranslate"><span class="pre">ui_lang</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;custom&quot;</span><span class="p">:</span> <span class="p">{</span>
  <span class="s2">&quot;ui_lang&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;ca&quot;</span><span class="p">:</span> <span class="s2">&quot;ca&quot;</span><span class="p">,</span>
    <span class="s2">&quot;de-DE&quot;</span><span class="p">:</span> <span class="s2">&quot;de-de&quot;</span><span class="p">,</span>
    <span class="s2">&quot;en-CA&quot;</span><span class="p">:</span> <span class="s2">&quot;en-ca&quot;</span><span class="p">,</span>
    <span class="s2">&quot;en-GB&quot;</span><span class="p">:</span> <span class="s2">&quot;en-gb&quot;</span><span class="p">,</span>
    <span class="s2">&quot;en-US&quot;</span><span class="p">:</span> <span class="s2">&quot;en-us&quot;</span><span class="p">,</span>
    <span class="s2">&quot;es&quot;</span><span class="p">:</span> <span class="s2">&quot;es&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fr-CA&quot;</span><span class="p">:</span> <span class="s2">&quot;fr-ca&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fr-FR&quot;</span><span class="p">:</span> <span class="s2">&quot;fr-fr&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ja-JP&quot;</span><span class="p">:</span> <span class="s2">&quot;ja-jp&quot;</span><span class="p">,</span>
    <span class="s2">&quot;pt-BR&quot;</span><span class="p">:</span> <span class="s2">&quot;pt-br&quot;</span><span class="p">,</span>
    <span class="s2">&quot;sq-AL&quot;</span><span class="p">:</span> <span class="s2">&quot;sq-al&quot;</span>
  <span class="p">}</span>
<span class="p">},</span>
</pre></div>
</div>
</section>
<section id="implementations">
<h6 aria-level="7"><a class="toc-backref" href="#id6" role="doc-backlink">Implementations</a><a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.brave.Goggles">
<span class="sig-prename descclassname"><span class="pre">searx.engines.brave.</span></span><span class="sig-name descname"><span class="pre">Goggles</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">typing.Any</span></em><a class="headerlink" href="#searx.engines.brave.Goggles" title="Link to this definition">¶</a></dt>
<dd><p>Brave supports common web-search, videos, images, news, and goggles search.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">search</span></code>: Common WEB search</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">videos</span></code>: search for videos</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">images</span></code>: search for images</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">news</span></code>: search for news</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">goggles</span></code>: Common WEB search with custom rules</p></li>
</ul>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.brave.brave_spellcheck">
<span class="sig-prename descclassname"><span class="pre">searx.engines.brave.</span></span><span class="sig-name descname"><span class="pre">brave_spellcheck</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#searx.engines.brave.brave_spellcheck" title="Link to this definition">¶</a></dt>
<dd><p>Brave supports some kind of spell checking.  When activated, Brave tries to
fix typos, e.g. it searches for <code class="docutils literal notranslate"><span class="pre">food</span></code> when the user queries for <code class="docutils literal notranslate"><span class="pre">fooh</span></code>.  In
the UI of Brave the user gets warned about this, since we can not warn the user
in SearXNG, the spellchecking is disabled by default.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.brave.paging">
<span class="sig-prename descclassname"><span class="pre">searx.engines.brave.</span></span><span class="sig-name descname"><span class="pre">paging</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#searx.engines.brave.paging" title="Link to this definition">¶</a></dt>
<dd><p>Brave only supports paging in <code class="xref py py-obj docutils literal notranslate"><span class="pre">brave_category</span></code> <code class="docutils literal notranslate"><span class="pre">search</span></code> (UI
category All) and in the goggles category.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.brave.max_page">
<span class="sig-prename descclassname"><span class="pre">searx.engines.brave.</span></span><span class="sig-name descname"><span class="pre">max_page</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10</span></em><a class="headerlink" href="#searx.engines.brave.max_page" title="Link to this definition">¶</a></dt>
<dd><p>Tested 9 pages maximum (<code class="docutils literal notranslate"><span class="pre">&amp;offset=8</span></code>), to be save max is set to 10.  Trying
to do more won’t return any result and you will most likely be flagged as a bot.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.brave.time_range_support">
<span class="sig-prename descclassname"><span class="pre">searx.engines.brave.</span></span><span class="sig-name descname"><span class="pre">time_range_support</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#searx.engines.brave.time_range_support" title="Link to this definition">¶</a></dt>
<dd><p>Brave only supports time-range in <code class="xref py py-obj docutils literal notranslate"><span class="pre">brave_category</span></code> <code class="docutils literal notranslate"><span class="pre">search</span></code> (UI
category All) and in the goggles category.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.brave.fetch_traits">
<span class="sig-prename descclassname"><span class="pre">searx.engines.brave.</span></span><span class="sig-name descname"><span class="pre">fetch_traits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_traits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><span class="pre">EngineTraits</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.brave.fetch_traits" title="Link to this definition">¶</a></dt>
<dd><p>Fetch <a class="reference internal" href="#brave-languages"><span class="std std-ref">languages</span></a> and <a class="reference internal" href="#brave-regions"><span class="std std-ref">regions</span></a> from Brave.</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/bt4g"></span><section id="bt4g">
<span id="bt4g-engine"></span><h6>BT4G<a class="headerlink" href="#bt4g" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#configuration" id="id2">Configuration</a></p></li>
<li><p><a class="reference internal" href="#implementations" id="id3">Implementations</a></p></li>
</ul>
</nav>
<p id="module-searx.engines.bt4g"><a class="reference external" href="https://bt4g.com/">BT4G</a> (bt4g.com) is not a tracker and doesn’t store any content and only
collects torrent metadata (such as file names and file sizes) and a magnet link
(torrent identifier).</p>
<p>This engine does not parse the HTML page because there is an API in XML (RSS).
The RSS feed provides fewer data like amount of seeders/leechers and the files
in the torrent file.  It’s a tradeoff for a “stable” engine as the XML from RSS
content will change way less than the HTML page.</p>
<section id="configuration">
<h6 aria-level="7"><a class="toc-backref" href="#id2" role="doc-backlink">Configuration</a><a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>The engine has the following additional settings:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.bt4g.bt4g_order_by" title="searx.engines.bt4g.bt4g_order_by"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bt4g_order_by</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.bt4g.bt4g_category" title="searx.engines.bt4g.bt4g_category"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bt4g_category</span></code></a></p></li>
</ul>
<p>With this options a SearXNG maintainer is able to configure <strong>additional</strong>
engines for specific torrent searches.  For example a engine to search only for
Movies and sort the result list by the count of seeders.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bt4g.movie</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bt4g</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bt4gv</span>
<span class="w">  </span><span class="nt">categories</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">video</span>
<span class="w">  </span><span class="nt">bt4g_order_by</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">seeders</span>
<span class="w">  </span><span class="nt">bt4g_category</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;movie&#39;</span>
</pre></div>
</div>
</section>
<section id="implementations">
<h6 aria-level="7"><a class="toc-backref" href="#id3" role="doc-backlink">Implementations</a><a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.bt4g.bt4g_order_by">
<span class="sig-prename descclassname"><span class="pre">searx.engines.bt4g.</span></span><span class="sig-name descname"><span class="pre">bt4g_order_by</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'relevance'</span></em><a class="headerlink" href="#searx.engines.bt4g.bt4g_order_by" title="Link to this definition">¶</a></dt>
<dd><p>Result list can be ordered by <code class="docutils literal notranslate"><span class="pre">relevance</span></code> (default), <code class="docutils literal notranslate"><span class="pre">size</span></code>, <code class="docutils literal notranslate"><span class="pre">seeders</span></code>
or <code class="docutils literal notranslate"><span class="pre">time</span></code>.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>When <em>time_range</em> is activate, the results always ordered by <code class="docutils literal notranslate"><span class="pre">time</span></code>.</p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.bt4g.bt4g_category">
<span class="sig-prename descclassname"><span class="pre">searx.engines.bt4g.</span></span><span class="sig-name descname"><span class="pre">bt4g_category</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'all'</span></em><a class="headerlink" href="#searx.engines.bt4g.bt4g_category" title="Link to this definition">¶</a></dt>
<dd><p>BT$G offers categories: <code class="docutils literal notranslate"><span class="pre">all</span></code> (default), <code class="docutils literal notranslate"><span class="pre">audio</span></code>, <code class="docutils literal notranslate"><span class="pre">movie</span></code>, <code class="docutils literal notranslate"><span class="pre">doc</span></code>,
<code class="docutils literal notranslate"><span class="pre">app</span></code> and `` other``.</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/chinaso"></span><section id="module-searx.engines.chinaso">
<span id="chinaso"></span><span id="chinaso-engine"></span><h6>ChinaSo<a class="headerlink" href="#module-searx.engines.chinaso" title="Link to this heading">¶</a></h6>
<p><a class="reference external" href="https://www.chinaso.com/">ChinaSo</a>, a search engine for the chinese language area.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>ChinaSo engine does not return real URL, the links from these search
engines violate the privacy of the users!!</p>
<p>We try to find a solution for this problem, please follow <a class="reference external" href="https://github.com/searxng/searxng/issues/4694">issue #4694</a>.</p>
<p>As long as the problem has not been resolved, these engines are
not active in a standard setup (<code class="docutils literal notranslate"><span class="pre">inactive:</span> <span class="pre">true</span></code>).</p>
</div>
<section id="configuration">
<h6 aria-level="7">Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>The engine has the following additional settings:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.chinaso.chinaso_category" title="searx.engines.chinaso.chinaso_category"><code class="xref py py-obj docutils literal notranslate"><span class="pre">chinaso_category</span></code></a> (<a class="reference internal" href="#searx.engines.chinaso.ChinasoCategoryType" title="searx.engines.chinaso.ChinasoCategoryType"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ChinasoCategoryType</span></code></a>)</p></li>
<li><p><a class="reference internal" href="#searx.engines.chinaso.chinaso_news_source" title="searx.engines.chinaso.chinaso_news_source"><code class="xref py py-obj docutils literal notranslate"><span class="pre">chinaso_news_source</span></code></a> (<a class="reference internal" href="#searx.engines.chinaso.ChinasoNewsSourceType" title="searx.engines.chinaso.ChinasoNewsSourceType"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ChinasoNewsSourceType</span></code></a>)</p></li>
</ul>
<p>In the example below, all three ChinaSO engines are using the <a class="reference internal" href="#engine-network"><span class="std std-ref">network</span></a> from the <code class="docutils literal notranslate"><span class="pre">chinaso</span> <span class="pre">news</span></code> engine.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">chinaso news</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">chinaso</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">chinaso</span>
<span class="w">  </span><span class="nt">categories</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">news</span><span class="p p-Indicator">]</span>
<span class="w">  </span><span class="nt">chinaso_category</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">news</span>
<span class="w">  </span><span class="nt">chinaso_news_source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">all</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">chinaso images</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">chinaso</span>
<span class="w">  </span><span class="nt">network</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">chinaso news</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">chinasoi</span>
<span class="w">  </span><span class="nt">categories</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">images</span><span class="p p-Indicator">]</span>
<span class="w">  </span><span class="nt">chinaso_category</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">images</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">chinaso videos</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">chinaso</span>
<span class="w">  </span><span class="nt">network</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">chinaso news</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">chinasov</span>
<span class="w">  </span><span class="nt">categories</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">videos</span><span class="p p-Indicator">]</span>
<span class="w">  </span><span class="nt">chinaso_category</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">videos</span>
</pre></div>
</div>
</section>
<section id="implementations">
<h6 aria-level="7">Implementations<a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.chinaso.ChinasoCategoryType">
<span class="sig-prename descclassname"><span class="pre">searx.engines.chinaso.</span></span><span class="sig-name descname"><span class="pre">ChinasoCategoryType</span></span><a class="headerlink" href="#searx.engines.chinaso.ChinasoCategoryType" title="Link to this definition">¶</a></dt>
<dd><p>ChinaSo supports news, videos, images search.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">news</span></code>: search for news</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">videos</span></code>: search for videos</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">images</span></code>: search for images</p></li>
</ul>
<p>In the category <code class="docutils literal notranslate"><span class="pre">news</span></code> you can additionally filter by option
<a class="reference internal" href="#searx.engines.chinaso.chinaso_news_source" title="searx.engines.chinaso.chinaso_news_source"><code class="xref py py-obj docutils literal notranslate"><span class="pre">chinaso_news_source</span></code></a>.</p>
<p>alias of <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Literal</span></code></a>[‘news’, ‘videos’, ‘images’]</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.chinaso.chinaso_category">
<span class="sig-prename descclassname"><span class="pre">searx.engines.chinaso.</span></span><span class="sig-name descname"><span class="pre">chinaso_category</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'news'</span></em><a class="headerlink" href="#searx.engines.chinaso.chinaso_category" title="Link to this definition">¶</a></dt>
<dd><p>Configure ChinaSo category (<a class="reference internal" href="#searx.engines.chinaso.ChinasoCategoryType" title="searx.engines.chinaso.ChinasoCategoryType"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ChinasoCategoryType</span></code></a>).</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.chinaso.ChinasoNewsSourceType">
<span class="sig-prename descclassname"><span class="pre">searx.engines.chinaso.</span></span><span class="sig-name descname"><span class="pre">ChinasoNewsSourceType</span></span><a class="headerlink" href="#searx.engines.chinaso.ChinasoNewsSourceType" title="Link to this definition">¶</a></dt>
<dd><p>Filtering ChinaSo-News results by source:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CENTRAL</span></code>: central publication</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LOCAL</span></code>: local publication</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BUSINESS</span></code>: business publication</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EPAPER</span></code>: E-Paper</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">all</span></code>: all sources</p></li>
</ul>
<p>alias of <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Literal</span></code></a>[‘CENTRAL’, ‘LOCAL’, ‘BUSINESS’, ‘EPAPER’, ‘all’]</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.chinaso.chinaso_news_source">
<span class="sig-prename descclassname"><span class="pre">searx.engines.chinaso.</span></span><span class="sig-name descname"><span class="pre">chinaso_news_source</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'CENTRAL'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'LOCAL'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'BUSINESS'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'EPAPER'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'all'</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'all'</span></em><a class="headerlink" href="#searx.engines.chinaso.chinaso_news_source" title="Link to this definition">¶</a></dt>
<dd><p>Configure ChinaSo-News type (<a class="reference internal" href="#searx.engines.chinaso.ChinasoNewsSourceType" title="searx.engines.chinaso.ChinasoNewsSourceType"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ChinasoNewsSourceType</span></code></a>).</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/core"></span><section id="core">
<span id="core-engine"></span><h6>CORE<a class="headerlink" href="#core" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#configuration" id="id2">Configuration</a></p></li>
<li><p><a class="reference internal" href="#implementations" id="id3">Implementations</a></p></li>
</ul>
</nav>
<p id="module-searx.engines.core"><a class="reference external" href="https://core.ac.uk/about">CORE</a> (COnnecting REpositories) provides a comprehensive bibliographic
database of the world’s scholarly literature, collecting and indexing
research from repositories and journals.</p>
<section id="configuration">
<span id="core-engine-config"></span><h6 aria-level="7"><a class="toc-backref" href="#id2" role="doc-backlink">Configuration</a><a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>The engine has the following additional settings:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.core.api_key" title="searx.engines.core.api_key"><code class="xref py py-obj docutils literal notranslate"><span class="pre">api_key</span></code></a></p></li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">core.ac.uk</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">core</span>
<span class="w">  </span><span class="nt">categories</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">science</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cor</span>
<span class="w">  </span><span class="nt">api_key</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;...&quot;</span>
<span class="w">  </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
</pre></div>
</div>
</section>
<section id="implementations">
<h6 aria-level="7"><a class="toc-backref" href="#id3" role="doc-backlink">Implementations</a><a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.core.api_key">
<span class="sig-prename descclassname"><span class="pre">searx.engines.core.</span></span><span class="sig-name descname"><span class="pre">api_key</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'unset'</span></em><a class="headerlink" href="#searx.engines.core.api_key" title="Link to this definition">¶</a></dt>
<dd><p>For an API key register at <a class="reference external" href="https://core.ac.uk/services/api">https://core.ac.uk/services/api</a> and insert
the API key in the engine <a class="reference internal" href="#core-engine-config"><span class="std std-ref">Configuration</span></a>.</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/dailymotion"></span><section id="dailymotion">
<span id="dailymotion-engine"></span><h6>Dailymotion<a class="headerlink" href="#dailymotion" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#dailymotion-videos" id="id1">Dailymotion (Videos)</a></p></li>
</ul>
</nav>
<section id="dailymotion-videos">
<span id="module-searx.engines.dailymotion"></span><h6 aria-level="7"><a class="toc-backref" href="#id1" role="doc-backlink">Dailymotion (Videos)</a><a class="headerlink" href="#dailymotion-videos" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.dailymotion.safesearch_params">
<span class="sig-prename descclassname"><span class="pre">searx.engines.dailymotion.</span></span><span class="sig-name descname"><span class="pre">safesearch_params</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{0:</span> <span class="pre">{},</span> <span class="pre">1:</span> <span class="pre">{'is_created_for_kids':</span> <span class="pre">'true'},</span> <span class="pre">2:</span> <span class="pre">{'is_created_for_kids':</span> <span class="pre">'true'}}</span></em><a class="headerlink" href="#searx.engines.dailymotion.safesearch_params" title="Link to this definition">¶</a></dt>
<dd><p>True if this video is “Created for Kids” / intends to target an audience
under the age of 16 (<code class="docutils literal notranslate"><span class="pre">is_created_for_kids</span></code> in <a class="reference external" href="https://developers.dailymotion.com/api/#video-filters">Video filters API</a> )</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.dailymotion.family_filter_map">
<span class="sig-prename descclassname"><span class="pre">searx.engines.dailymotion.</span></span><span class="sig-name descname"><span class="pre">family_filter_map</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{0:</span> <span class="pre">'false',</span> <span class="pre">1:</span> <span class="pre">'true',</span> <span class="pre">2:</span> <span class="pre">'true'}</span></em><a class="headerlink" href="#searx.engines.dailymotion.family_filter_map" title="Link to this definition">¶</a></dt>
<dd><p>By default, the family filter is turned on. Setting this parameter to
<code class="docutils literal notranslate"><span class="pre">false</span></code> will stop filtering-out explicit content from searches and global
contexts (<code class="docutils literal notranslate"><span class="pre">family_filter</span></code> in <a class="reference external" href="https://developers.dailymotion.com/api/#global-parameters">Global API Parameters</a> ).</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.dailymotion.result_fields">
<span class="sig-prename descclassname"><span class="pre">searx.engines.dailymotion.</span></span><span class="sig-name descname"><span class="pre">result_fields</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['allow_embed',</span> <span class="pre">'description',</span> <span class="pre">'title',</span> <span class="pre">'created_time',</span> <span class="pre">'duration',</span> <span class="pre">'url',</span> <span class="pre">'thumbnail_360_url',</span> <span class="pre">'id']</span></em><a class="headerlink" href="#searx.engines.dailymotion.result_fields" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://developers.dailymotion.com/api/#fields-selection">Fields selection</a>, by default, a few fields are returned. To request more
specific fields, the <code class="docutils literal notranslate"><span class="pre">fields</span></code> parameter is used with the list of fields
SearXNG needs in the response to build a video result list.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.dailymotion.search_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.dailymotion.</span></span><span class="sig-name descname"><span class="pre">search_url</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://api.dailymotion.com/videos?'</span></em><a class="headerlink" href="#searx.engines.dailymotion.search_url" title="Link to this definition">¶</a></dt>
<dd><p>URL to retrieve a list of videos.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://developers.dailymotion.com/tools/">REST GET</a></p></li>
<li><p><a class="reference external" href="https://developers.dailymotion.com/api/#global-parameters">Global API Parameters</a></p></li>
<li><p><a class="reference external" href="https://developers.dailymotion.com/api/#video-filters">Video filters API</a></p></li>
</ul>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.dailymotion.iframe_src">
<span class="sig-prename descclassname"><span class="pre">searx.engines.dailymotion.</span></span><span class="sig-name descname"><span class="pre">iframe_src</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://www.dailymotion.com/embed/video/{video_id}'</span></em><a class="headerlink" href="#searx.engines.dailymotion.iframe_src" title="Link to this definition">¶</a></dt>
<dd><p>URL template to embed video in SearXNG’s result list.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.dailymotion.fetch_traits">
<span class="sig-prename descclassname"><span class="pre">searx.engines.dailymotion.</span></span><span class="sig-name descname"><span class="pre">fetch_traits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_traits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><span class="pre">EngineTraits</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.dailymotion.fetch_traits" title="Link to this definition">¶</a></dt>
<dd><p>Fetch locales &amp; languages from dailymotion.</p>
<p>Locales fetched from <a class="reference external" href="https://api.dailymotion.com/locales">api/locales</a>.
There are duplications in the locale codes returned from Dailymotion which
can be ignored:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">en_EN</span> <span class="o">--&gt;</span> <span class="n">en_GB</span><span class="p">,</span> <span class="n">en_US</span>
<span class="n">ar_AA</span> <span class="o">--&gt;</span> <span class="n">ar_EG</span><span class="p">,</span> <span class="n">ar_AE</span><span class="p">,</span> <span class="n">ar_SA</span>
</pre></div>
</div>
<p>The language list <a class="reference external" href="https://api.dailymotion.com/languages">api/languages</a>
contains over 7000 <em>languages</em> codes (see <a class="reference external" href="https://github.com/searxng/searxng/pull/1071">PR1071</a>).  We use only those
language codes that are used in the locales.</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/discourse"></span><section id="module-searx.engines.discourse">
<span id="discourse-forums"></span><span id="discourse-engine"></span><h6>Discourse Forums<a class="headerlink" href="#module-searx.engines.discourse" title="Link to this heading">¶</a></h6>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<ul class="simple">
<li><p><a class="reference external" href="https://trends.builtwith.com/websitelist/Discourse">builtwith.com Discourse</a></p></li>
</ul>
</aside>
<p>Discourse is an open source Internet forum system.  To search in a forum this
engine offers some additional settings:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.discourse.base_url" title="searx.engines.discourse.base_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">base_url</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.discourse.api_order" title="searx.engines.discourse.api_order"><code class="xref py py-obj docutils literal notranslate"><span class="pre">api_order</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.discourse.search_endpoint" title="searx.engines.discourse.search_endpoint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search_endpoint</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.discourse.show_avatar" title="searx.engines.discourse.show_avatar"><code class="xref py py-obj docutils literal notranslate"><span class="pre">show_avatar</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.discourse.api_key" title="searx.engines.discourse.api_key"><code class="xref py py-obj docutils literal notranslate"><span class="pre">api_key</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.discourse.api_username" title="searx.engines.discourse.api_username"><code class="xref py py-obj docutils literal notranslate"><span class="pre">api_username</span></code></a></p></li>
</ul>
<section id="example">
<h6 aria-level="7">Example<a class="headerlink" href="#example" title="Link to this heading">¶</a></h6>
<p>To search in your favorite Discourse forum, add a configuration like shown here
for the <code class="docutils literal notranslate"><span class="pre">paddling.com</span></code> forum:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">paddling</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">discourse</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">paddle</span>
<span class="w">  </span><span class="nt">base_url</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;https://forums.paddling.com/&#39;</span>
<span class="w">  </span><span class="nt">api_order</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">views</span>
<span class="w">  </span><span class="nt">categories</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;social</span><span class="nv"> </span><span class="s">media&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;sports&#39;</span><span class="p p-Indicator">]</span>
<span class="w">  </span><span class="nt">show_avatar</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
<p>If the forum is private, you need to add an API key and username for the search:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">paddling</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">discourse</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">paddle</span>
<span class="w">  </span><span class="nt">base_url</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;https://forums.paddling.com/&#39;</span>
<span class="w">  </span><span class="nt">api_order</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">views</span>
<span class="w">  </span><span class="nt">categories</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;social</span><span class="nv"> </span><span class="s">media&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;sports&#39;</span><span class="p p-Indicator">]</span>
<span class="w">  </span><span class="nt">show_avatar</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">api_key</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&lt;KEY&gt;&#39;</span>
<span class="w">  </span><span class="nt">api_username</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;system&#39;</span>
</pre></div>
</div>
</section>
<section id="implementations">
<h6 aria-level="7">Implementations<a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.discourse.base_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.discourse.</span></span><span class="sig-name descname"><span class="pre">base_url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#searx.engines.discourse.base_url" title="Link to this definition">¶</a></dt>
<dd><p>URL of the Discourse forum.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.discourse.search_endpoint">
<span class="sig-prename descclassname"><span class="pre">searx.engines.discourse.</span></span><span class="sig-name descname"><span class="pre">search_endpoint</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/search.json'</span></em><a class="headerlink" href="#searx.engines.discourse.search_endpoint" title="Link to this definition">¶</a></dt>
<dd><p>URL path of the <a class="reference external" href="https://docs.discourse.org/#tag/Search">search endpoint</a>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.discourse.api_order">
<span class="sig-prename descclassname"><span class="pre">searx.engines.discourse.</span></span><span class="sig-name descname"><span class="pre">api_order</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'likes'</span></em><a class="headerlink" href="#searx.engines.discourse.api_order" title="Link to this definition">¶</a></dt>
<dd><p>Order method, valid values are: <code class="docutils literal notranslate"><span class="pre">latest</span></code>, <code class="docutils literal notranslate"><span class="pre">likes</span></code>, <code class="docutils literal notranslate"><span class="pre">views</span></code>, <code class="docutils literal notranslate"><span class="pre">latest_topic</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.discourse.show_avatar">
<span class="sig-prename descclassname"><span class="pre">searx.engines.discourse.</span></span><span class="sig-name descname"><span class="pre">show_avatar</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#searx.engines.discourse.show_avatar" title="Link to this definition">¶</a></dt>
<dd><p>Show avatar of the user who send the post.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.discourse.api_key">
<span class="sig-prename descclassname"><span class="pre">searx.engines.discourse.</span></span><span class="sig-name descname"><span class="pre">api_key</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.discourse.api_key" title="Link to this definition">¶</a></dt>
<dd><p>API key of the Discourse forum.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.discourse.api_username">
<span class="sig-prename descclassname"><span class="pre">searx.engines.discourse.</span></span><span class="sig-name descname"><span class="pre">api_username</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.discourse.api_username" title="Link to this definition">¶</a></dt>
<dd><p>API username of the Discourse forum.</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/duckduckgo"></span><section id="duckduckgo-engines">
<span id="id1"></span><h6>DuckDuckGo Engines<a class="headerlink" href="#duckduckgo-engines" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#duckduckgo-web" id="id2">DuckDuckGo WEB</a></p></li>
<li><p><a class="reference internal" href="#duckduckgo-extra-images-videos-news" id="id3">DuckDuckGo Extra (images, videos, news)</a></p></li>
<li><p><a class="reference internal" href="#duckduckgo-instant-answer-api" id="id4">DuckDuckGo Instant Answer API</a></p></li>
<li><p><a class="reference internal" href="#duckduckgo-weather" id="id5">DuckDuckGo Weather</a></p></li>
</ul>
</nav>
<section id="duckduckgo-web">
<span id="module-searx.engines.duckduckgo"></span><h6 aria-level="7"><a class="toc-backref" href="#id2" role="doc-backlink">DuckDuckGo WEB</a><a class="headerlink" href="#duckduckgo-web" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.duckduckgo.send_accept_language_header">
<span class="sig-prename descclassname"><span class="pre">searx.engines.duckduckgo.</span></span><span class="sig-name descname"><span class="pre">send_accept_language_header</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#searx.engines.duckduckgo.send_accept_language_header" title="Link to this definition">¶</a></dt>
<dd><p>DuckDuckGo-Lite tries to guess user’s preferred language from the HTTP
<code class="docutils literal notranslate"><span class="pre">Accept-Language</span></code>.  Optional the user can select a region filter (but not a
language).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.duckduckgo.get_vqd">
<span class="sig-prename descclassname"><span class="pre">searx.engines.duckduckgo.</span></span><span class="sig-name descname"><span class="pre">get_vqd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#searx.engines.duckduckgo.get_vqd" title="Link to this definition">¶</a></dt>
<dd><p>Returns the <code class="docutils literal notranslate"><span class="pre">vqd</span></code> that fits to the <em>query</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> – The query term</p></li>
<li><p><strong>region</strong> – DDG’s region code</p></li>
<li><p><strong>force_request</strong> – force a request to get a vqd value from DDG</p></li>
</ul>
</dd>
</dl>
<p>TL;DR; the <code class="docutils literal notranslate"><span class="pre">vqd</span></code> value is needed to pass DDG’s bot protection and is used
by all request to DDG:</p>
<ul class="simple">
<li><p>DuckDuckGo Lite: <code class="docutils literal notranslate"><span class="pre">https://lite.duckduckgo.com/lite</span></code> (POST form data)</p></li>
<li><p>DuckDuckGo Web: <code class="docutils literal notranslate"><span class="pre">https://links.duckduckgo.com/d.js?q=...&amp;vqd=...</span></code></p></li>
<li><p>DuckDuckGo Images: <code class="docutils literal notranslate"><span class="pre">https://duckduckgo.com/i.js??q=...&amp;vqd=...</span></code></p></li>
<li><p>DuckDuckGo Videos: <code class="docutils literal notranslate"><span class="pre">https://duckduckgo.com/v.js??q=...&amp;vqd=...</span></code></p></li>
<li><p>DuckDuckGo News: <code class="docutils literal notranslate"><span class="pre">https://duckduckgo.com/news.js??q=...&amp;vqd=...</span></code></p></li>
</ul>
<p>DDG’s bot detection is sensitive to the <code class="docutils literal notranslate"><span class="pre">vqd</span></code> value.  For some search terms
(such as extremely long search terms that are often sent by bots), no <code class="docutils literal notranslate"><span class="pre">vqd</span></code>
value can be determined.</p>
<p>If SearXNG cannot determine a <code class="docutils literal notranslate"><span class="pre">vqd</span></code> value, then no request should go out
to DDG.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>A request with a wrong <code class="docutils literal notranslate"><span class="pre">vqd</span></code> value leads to DDG temporarily putting
SearXNG’s IP on a block list.</p>
</div>
<p>Requests from IPs in this block list run into timeouts.  Not sure, but it
seems the block list is a sliding window: to get my IP rid from the bot list
I had to cool down my IP for 1h (send no requests from that IP to DDG).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.duckduckgo.get_ddg_lang">
<span class="sig-prename descclassname"><span class="pre">searx.engines.duckduckgo.</span></span><span class="sig-name descname"><span class="pre">get_ddg_lang</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eng_traits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><span class="pre">EngineTraits</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">sxng_locale</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'en_US'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.duckduckgo.get_ddg_lang" title="Link to this definition">¶</a></dt>
<dd><p>Get DuckDuckGo’s language identifier from SearXNG’s locale.</p>
<p>DuckDuckGo defines its languages by region codes (see
<a class="reference internal" href="#searx.engines.duckduckgo.fetch_traits" title="searx.engines.duckduckgo.fetch_traits"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fetch_traits</span></code></a>).</p>
<p>To get region and language of a DDG service use:</p>
<p>It might confuse, but the <code class="docutils literal notranslate"><span class="pre">l</span></code> value of the cookie is what SearXNG calls
the <em>region</em>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># !ddi paris :es-AR --&gt; {&#39;ad&#39;: &#39;es_AR&#39;, &#39;ah&#39;: &#39;ar-es&#39;, &#39;l&#39;: &#39;ar-es&#39;}</span>
<span class="n">params</span><span class="p">[</span><span class="s1">&#39;cookies&#39;</span><span class="p">][</span><span class="s1">&#39;ad&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">eng_lang</span>
<span class="n">params</span><span class="p">[</span><span class="s1">&#39;cookies&#39;</span><span class="p">][</span><span class="s1">&#39;ah&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">eng_region</span>
<span class="n">params</span><span class="p">[</span><span class="s1">&#39;cookies&#39;</span><span class="p">][</span><span class="s1">&#39;l&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">eng_region</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p><a class="reference external" href="https://lite.duckduckgo.com/lite">DDG-lite</a> and the <em>no Javascript</em>
page <a class="reference external" href="https://html.duckduckgo.com/html">https://html.duckduckgo.com/html</a> do not offer a language selection
to the user, only a region can be selected by the user (<code class="docutils literal notranslate"><span class="pre">eng_region</span></code>
from the example above).  DDG-lite and <em>no Javascript</em> store the selected
region in a cookie:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;cookies&#39;</span><span class="p">][</span><span class="s1">&#39;kl&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">eng_region</span>  <span class="c1"># &#39;ar-es&#39;</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.duckduckgo.is_ddg_captcha">
<span class="sig-prename descclassname"><span class="pre">searx.engines.duckduckgo.</span></span><span class="sig-name descname"><span class="pre">is_ddg_captcha</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dom</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.duckduckgo.is_ddg_captcha" title="Link to this definition">¶</a></dt>
<dd><p>In case of CAPTCHA ddg response its own <em>not a Robot</em> dialog and is not
redirected to a CAPTCHA page.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.duckduckgo.fetch_traits">
<span class="sig-prename descclassname"><span class="pre">searx.engines.duckduckgo.</span></span><span class="sig-name descname"><span class="pre">fetch_traits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_traits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><span class="pre">EngineTraits</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.duckduckgo.fetch_traits" title="Link to this definition">¶</a></dt>
<dd><p>Fetch languages &amp; regions from DuckDuckGo.</p>
<p>SearXNG’s <code class="docutils literal notranslate"><span class="pre">all</span></code> locale maps DuckDuckGo’s “Alle regions” (<code class="docutils literal notranslate"><span class="pre">wt-wt</span></code>).
DuckDuckGo’s language “Browsers preferred language” (<code class="docutils literal notranslate"><span class="pre">wt_WT</span></code>) makes no
sense in a SearXNG request since SearXNG’s <code class="docutils literal notranslate"><span class="pre">all</span></code> will not add a
<code class="docutils literal notranslate"><span class="pre">Accept-Language</span></code> HTTP header.  The value in <code class="docutils literal notranslate"><span class="pre">engine_traits.all_locale</span></code>
is <code class="docutils literal notranslate"><span class="pre">wt-wt</span></code> (the region).</p>
<p>Beside regions DuckDuckGo also defines its languages by region codes.  By
example these are the english languages in DuckDuckGo:</p>
<ul class="simple">
<li><p>en_US</p></li>
<li><p>en_AU</p></li>
<li><p>en_CA</p></li>
<li><p>en_GB</p></li>
</ul>
<p>The function <a class="reference internal" href="#searx.engines.duckduckgo.get_ddg_lang" title="searx.engines.duckduckgo.get_ddg_lang"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_ddg_lang</span></code></a> evaluates DuckDuckGo’s language from
SearXNG’s locale.</p>
</dd></dl>

<section id="duckduckgo-extra-images-videos-news">
<span id="module-searx.engines.duckduckgo_extra"></span><h6 aria-level="7"><a class="toc-backref" href="#id3" role="doc-backlink">DuckDuckGo Extra (images, videos, news)</a><a class="headerlink" href="#duckduckgo-extra-images-videos-news" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.duckduckgo_extra.ddg_category">
<span class="sig-prename descclassname"><span class="pre">searx.engines.duckduckgo_extra.</span></span><span class="sig-name descname"><span class="pre">ddg_category</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'images'</span></em><a class="headerlink" href="#searx.engines.duckduckgo_extra.ddg_category" title="Link to this definition">¶</a></dt>
<dd><p>The category must be any of <code class="docutils literal notranslate"><span class="pre">images</span></code>, <code class="docutils literal notranslate"><span class="pre">videos</span></code> and <code class="docutils literal notranslate"><span class="pre">news</span></code></p>
</dd></dl>

<section id="duckduckgo-instant-answer-api">
<span id="module-searx.engines.duckduckgo_definitions"></span><h6 aria-level="7"><a class="toc-backref" href="#id4" role="doc-backlink">DuckDuckGo Instant Answer API</a><a class="headerlink" href="#duckduckgo-instant-answer-api" title="Link to this heading">¶</a></h6>
<p>The <a class="reference external" href="https://duckduckgo.com/api">DDG-API</a> is no longer documented but from
reverse engineering we can see that some services (e.g. instant answers) still
in use from the DDG search engine.</p>
<p>As far we can say the <em>instant answers</em> API does not support languages, or at
least we could not find out how language support should work.  It seems that
most of the features are based on English terms.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.duckduckgo_definitions.is_broken_text">
<span class="sig-prename descclassname"><span class="pre">searx.engines.duckduckgo_definitions.</span></span><span class="sig-name descname"><span class="pre">is_broken_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.duckduckgo_definitions.is_broken_text" title="Link to this definition">¶</a></dt>
<dd><p>duckduckgo may return something like <code class="docutils literal notranslate"><span class="pre">&lt;a</span> <span class="pre">href=&quot;xxxx&quot;&gt;http://somewhere</span> <span class="pre">Related</span> <span class="pre">website&lt;a/&gt;</span></code></p>
<p>The href URL is broken, the “Related website” may contains some HTML.</p>
<p>The best solution seems to ignore these results.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.duckduckgo_definitions.area_to_str">
<span class="sig-prename descclassname"><span class="pre">searx.engines.duckduckgo_definitions.</span></span><span class="sig-name descname"><span class="pre">area_to_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">area</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.duckduckgo_definitions.area_to_str" title="Link to this definition">¶</a></dt>
<dd><p>parse <code class="docutils literal notranslate"><span class="pre">{'unit':</span> <span class="pre">'https://www.wikidata.org/entity/Q712226',</span> <span class="pre">'amount':</span> <span class="pre">'+20.99'}</span></code></p>
</dd></dl>

<section id="duckduckgo-weather">
<span id="module-searx.engines.duckduckgo_weather"></span><h6 aria-level="7"><a class="toc-backref" href="#id5" role="doc-backlink">DuckDuckGo Weather</a><a class="headerlink" href="#duckduckgo-weather" title="Link to this heading">¶</a></h6>
</section>
</section>
<span id="document-dev/engines/online/geizhals"></span><section id="module-searx.engines.geizhals">
<span id="geizhals"></span><span id="gitea-geizhals"></span><h6>Geizhals<a class="headerlink" href="#module-searx.engines.geizhals" title="Link to this heading">¶</a></h6>
<p>Geizhals is a German website to compare the price of a product on the
most common German shopping sites and find the lowest price.</p>
<p>The sorting of the search results can be influenced by the following additions
to the search term:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">asc</span></code> or <code class="docutils literal notranslate"><span class="pre">price</span></code></dt><dd><p>To sort by price in ascending order.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">desc</span></code></dt><dd><p>To sort by price in descending order.</p>
</dd>
</dl>
</section>
<span id="document-dev/engines/online/gitea"></span><section id="module-searx.engines.gitea">
<span id="gitea"></span><span id="gitea-engine"></span><h6>Gitea<a class="headerlink" href="#module-searx.engines.gitea" title="Link to this heading">¶</a></h6>
<p>Engine to search in collaborative software platforms based on <a class="reference external" href="https://about.gitea.com/">Gitea</a> or <a class="reference external" href="https://forgejo.org/">Forgejo</a>.</p>
<section id="configuration">
<h6 aria-level="7">Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>The engine has the following mandatory setting:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.gitea.base_url" title="searx.engines.gitea.base_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">base_url</span></code></a></p></li>
</ul>
<p>Optional settings are:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.gitea.sort" title="searx.engines.gitea.sort"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sort</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.gitea.order" title="searx.engines.gitea.order"><code class="xref py py-obj docutils literal notranslate"><span class="pre">order</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.gitea.page_size" title="searx.engines.gitea.page_size"><code class="xref py py-obj docutils literal notranslate"><span class="pre">page_size</span></code></a></p></li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gitea.com</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gitea</span>
<span class="w">  </span><span class="nt">base_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://gitea.com</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gitea</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">forgejo.com</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gitea</span>
<span class="w">  </span><span class="nt">base_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://code.forgejo.org</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">forgejo</span>
</pre></div>
</div>
<p>If you would like to use additional instances, just configure new engines in the
<a class="reference internal" href="#settings-engines"><span class="std std-ref">settings</span></a> and set the <code class="docutils literal notranslate"><span class="pre">base_url</span></code>.</p>
</section>
<section id="implementation">
<h6 aria-level="7">Implementation<a class="headerlink" href="#implementation" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.gitea.base_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.gitea.</span></span><span class="sig-name descname"><span class="pre">base_url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.gitea.base_url" title="Link to this definition">¶</a></dt>
<dd><p>URL of the <a class="reference external" href="https://about.gitea.com/">Gitea</a> instance.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.gitea.sort">
<span class="sig-prename descclassname"><span class="pre">searx.engines.gitea.</span></span><span class="sig-name descname"><span class="pre">sort</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'updated'</span></em><a class="headerlink" href="#searx.engines.gitea.sort" title="Link to this definition">¶</a></dt>
<dd><p>Sort criteria, possible values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">updated</span></code> (default)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">alpha</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">created</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">size</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code></p></li>
</ul>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.gitea.order">
<span class="sig-prename descclassname"><span class="pre">searx.engines.gitea.</span></span><span class="sig-name descname"><span class="pre">order</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'desc'</span></em><a class="headerlink" href="#searx.engines.gitea.order" title="Link to this definition">¶</a></dt>
<dd><p>Sort order, possible values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">desc</span></code> (default)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">asc</span></code></p></li>
</ul>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.gitea.page_size">
<span class="sig-prename descclassname"><span class="pre">searx.engines.gitea.</span></span><span class="sig-name descname"><span class="pre">page_size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10</span></em><a class="headerlink" href="#searx.engines.gitea.page_size" title="Link to this definition">¶</a></dt>
<dd><p>Maximum number of results per page (default 10).</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/gitlab"></span><section id="module-searx.engines.gitlab">
<span id="gitlab"></span><span id="gitlab-engine"></span><h6>GitLab<a class="headerlink" href="#module-searx.engines.gitlab" title="Link to this heading">¶</a></h6>
<p>Engine to search in collaborative software platforms based on <a class="reference external" href="https://about.gitlab.com/install/">GitLab</a> with
the <a class="reference external" href="https://docs.gitlab.com/ee/api/">GitLab REST API</a>.</p>
<section id="configuration">
<h6 aria-level="7">Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>The engine has the following mandatory setting:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.gitlab.base_url" title="searx.engines.gitlab.base_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">base_url</span></code></a></p></li>
</ul>
<p>Optional settings are:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.gitlab.api_path" title="searx.engines.gitlab.api_path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">api_path</span></code></a></p></li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gitlab</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gitlab</span>
<span class="w">  </span><span class="nt">base_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://gitlab.com</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gl</span>
<span class="w">  </span><span class="nt">about</span><span class="p">:</span>
<span class="w">    </span><span class="nt">website</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://gitlab.com/</span>
<span class="w">    </span><span class="nt">wikidata_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Q16639197</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gnome</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gitlab</span>
<span class="w">  </span><span class="nt">base_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://gitlab.gnome.org</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gn</span>
<span class="w">  </span><span class="nt">about</span><span class="p">:</span>
<span class="w">    </span><span class="nt">website</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://gitlab.gnome.org</span>
<span class="w">    </span><span class="nt">wikidata_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Q44316</span>
</pre></div>
</div>
</section>
<section id="implementations">
<h6 aria-level="7">Implementations<a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.gitlab.base_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.gitlab.</span></span><span class="sig-name descname"><span class="pre">base_url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.gitlab.base_url" title="Link to this definition">¶</a></dt>
<dd><p>Base URL of the GitLab host.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.gitlab.api_path">
<span class="sig-prename descclassname"><span class="pre">searx.engines.gitlab.</span></span><span class="sig-name descname"><span class="pre">api_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'api/v4/projects'</span></em><a class="headerlink" href="#searx.engines.gitlab.api_path" title="Link to this definition">¶</a></dt>
<dd><p>The path the <a class="reference external" href="https://docs.gitlab.com/ee/api/projects.html">project API</a>.</p>
<p>The default path should work fine usually.</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/google"></span><section id="google-engines">
<span id="id1"></span><h6>Google Engines<a class="headerlink" href="#google-engines" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#google-api" id="id6">Google API</a></p></li>
<li><p><a class="reference internal" href="#module-searx.engines.google" id="id7">Google WEB</a></p></li>
<li><p><a class="reference internal" href="#google-autocomplete" id="id8">Google Autocomplete</a></p></li>
<li><p><a class="reference internal" href="#module-searx.engines.google_images" id="id9">Google Images</a></p></li>
<li><p><a class="reference internal" href="#module-searx.engines.google_videos" id="id10">Google Videos</a></p></li>
<li><p><a class="reference internal" href="#module-searx.engines.google_news" id="id11">Google News</a></p></li>
<li><p><a class="reference internal" href="#module-searx.engines.google_scholar" id="id12">Google Scholar</a></p></li>
</ul>
</nav>
<section id="google-api">
<span id="id2"></span><h6 aria-level="7"><a class="toc-backref" href="#id6" role="doc-backlink">Google API</a><a class="headerlink" href="#google-api" title="Link to this heading">¶</a></h6>
<p>Infinity Search’s implementation of the Google API is mainly done in
<a class="reference internal" href="#searx.engines.google.get_google_info" title="searx.engines.google.get_google_info"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_google_info</span></code></a>.</p>
<p>For detailed description of the <em>REST-full</em> API see: <a class="reference external" href="https://developers.google.com/custom-search/docs/xml_results#WebSearch_Query_Parameter_Definitions">Query Parameter
Definitions</a>.  The linked API documentation can sometimes be helpful during
reverse engineering.  However, we cannot use it in the freely accessible WEB
services; not all parameters can be applied and some engines are more <em>special</em>
than other (e.g. <a class="reference internal" href="#google-news-engine"><span class="std std-ref">Google News</span></a>).</p>
</section>
<section id="module-searx.engines.google">
<span id="google-web"></span><span id="google-web-engine"></span><h6 aria-level="7"><a class="toc-backref" href="#id7" role="doc-backlink">Google WEB</a><a class="headerlink" href="#module-searx.engines.google" title="Link to this heading">¶</a></h6>
<p>This is the implementation of the Google WEB engine.  Some of this
implementations (manly the <a class="reference internal" href="#searx.engines.google.get_google_info" title="searx.engines.google.get_google_info"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_google_info</span></code></a>) are shared by other
engines:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#google-images-engine"><span class="std std-ref">Google Images</span></a></p></li>
<li><p><a class="reference internal" href="#google-news-engine"><span class="std std-ref">Google News</span></a></p></li>
<li><p><a class="reference internal" href="#google-videos-engine"><span class="std std-ref">Google Videos</span></a></p></li>
<li><p><a class="reference internal" href="#google-scholar-engine"><span class="std std-ref">Google Scholar</span></a></p></li>
<li><p><a class="reference internal" href="#google-autocomplete"><span class="std std-ref">Google Autocomplete</span></a></p></li>
</ul>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.google.max_page">
<span class="sig-prename descclassname"><span class="pre">searx.engines.google.</span></span><span class="sig-name descname"><span class="pre">max_page</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">50</span></em><a class="headerlink" href="#searx.engines.google.max_page" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://github.com/searxng/searxng/issues/2982">Google max 50 pages</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.google.ui_async">
<span class="sig-prename descclassname"><span class="pre">searx.engines.google.</span></span><span class="sig-name descname"><span class="pre">ui_async</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#searx.engines.google.ui_async" title="Link to this definition">¶</a></dt>
<dd><p>Format of the response from UI’s async request.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">arc_id:&lt;...&gt;,use_ac:true,_fmt:prog</span></code></p></li>
</ul>
<p>The arc_id is random generated every hour.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.google.get_google_info">
<span class="sig-prename descclassname"><span class="pre">searx.engines.google.</span></span><span class="sig-name descname"><span class="pre">get_google_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eng_traits</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.google.get_google_info" title="Link to this definition">¶</a></dt>
<dd><p>Composing various (language) properties for the google engines (<a class="reference internal" href="#google-api"><span class="std std-ref">Google API</span></a>).</p>
<p>This function is called by the various google engines (<a class="reference internal" href="#google-web-engine"><span class="std std-ref">Google WEB</span></a>, <a class="reference internal" href="#google-images-engine"><span class="std std-ref">Google Images</span></a>, <a class="reference internal" href="#google-news-engine"><span class="std std-ref">Google News</span></a> and
<a class="reference internal" href="#google-videos-engine"><span class="std std-ref">Google Videos</span></a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – Request parameters of the engine.  At least
a <code class="docutils literal notranslate"><span class="pre">searxng_locale</span></code> key should be in the dictionary.</p></li>
<li><p><strong>eng_traits</strong> – Engine’s traits fetched from google preferences
(<a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.enginelib.traits.EngineTraits</span></code></a>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><p>Py-Dictionary with the key/value pairs:</p>
<dl class="simple">
<dt>language:</dt><dd><p>The language code that is used by google (e.g. <code class="docutils literal notranslate"><span class="pre">lang_en</span></code> or
<code class="docutils literal notranslate"><span class="pre">lang_zh-TW</span></code>)</p>
</dd>
<dt>country:</dt><dd><p>The country code that is used by google (e.g. <code class="docutils literal notranslate"><span class="pre">US</span></code> or <code class="docutils literal notranslate"><span class="pre">TW</span></code>)</p>
</dd>
<dt>locale:</dt><dd><p>A instance of <a class="reference external" href="https://babel.readthedocs.io/en/latest/api/core.html#babel.core.Locale" title="(in Babel v2.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">babel.core.Locale</span></code></a> build from the
<code class="docutils literal notranslate"><span class="pre">searxng_locale</span></code> value.</p>
</dd>
<dt>subdomain:</dt><dd><p>Google subdomain <code class="xref py py-obj docutils literal notranslate"><span class="pre">google_domains</span></code> that fits to the country
code.</p>
</dd>
<dt>params:</dt><dd><p>Py-Dictionary with additional request arguments (can be passed to
<a class="reference external" href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.urlencode" title="(in Python v3.13)"><code class="xref py py-func docutils literal notranslate"><span class="pre">urllib.parse.urlencode()</span></code></a>).</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hl</span></code> parameter: specifies the interface language of user interface.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lr</span></code> parameter: restricts search results to documents written in
a particular language.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cr</span></code> parameter: restricts search results to documents
originating in a particular country.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ie</span></code> parameter: sets the character encoding scheme that should
be used to interpret the query string (‘utf8’).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">oe</span></code> parameter: sets the character encoding scheme that should
be used to decode the XML result (‘utf8’).</p></li>
</ul>
</dd>
<dt>headers:</dt><dd><p>Py-Dictionary with additional HTTP headers (can be passed to
request’s headers)</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Accept:</span> <span class="pre">'*/*</span></code></p></li>
</ul>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.google.request">
<span class="sig-prename descclassname"><span class="pre">searx.engines.google.</span></span><span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.google.request" title="Link to this definition">¶</a></dt>
<dd><p>Google search request</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.google.response">
<span class="sig-prename descclassname"><span class="pre">searx.engines.google.</span></span><span class="sig-name descname"><span class="pre">response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resp</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#searx.result_types.EngineResults" title="searx.result_types.EngineResults"><span class="pre">EngineResults</span></a></span></span><a class="headerlink" href="#searx.engines.google.response" title="Link to this definition">¶</a></dt>
<dd><p>Get response from google’s search request</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.google.fetch_traits">
<span class="sig-prename descclassname"><span class="pre">searx.engines.google.</span></span><span class="sig-name descname"><span class="pre">fetch_traits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_traits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><span class="pre">EngineTraits</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_domains</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.google.fetch_traits" title="Link to this definition">¶</a></dt>
<dd><p>Fetch languages from Google.</p>
</dd></dl>

</section>
<section id="google-autocomplete">
<span id="id3"></span><h6 aria-level="7"><a class="toc-backref" href="#id8" role="doc-backlink">Google Autocomplete</a><a class="headerlink" href="#google-autocomplete" title="Link to this heading">¶</a></h6>
<dl class="py function">
<dt class="sig sig-object py" id="searx.autocomplete.google_complete">
<span class="sig-prename descclassname"><span class="pre">searx.autocomplete.</span></span><span class="sig-name descname"><span class="pre">google_complete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sxng_locale</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.autocomplete.google_complete" title="Link to this definition">¶</a></dt>
<dd><p>Autocomplete from Google.  Supports Google’s languages and subdomains
(<a class="reference internal" href="#searx.engines.google.get_google_info" title="searx.engines.google.get_google_info"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.engines.google.get_google_info</span></code></a>) by using the async REST
API:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>https://{subdomain}/complete/search?{args}
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-searx.engines.google_images">
<span id="google-images"></span><span id="google-images-engine"></span><h6 aria-level="7"><a class="toc-backref" href="#id9" role="doc-backlink">Google Images</a><a class="headerlink" href="#module-searx.engines.google_images" title="Link to this heading">¶</a></h6>
<p>This is the implementation of the Google Images engine using the internal
Google API used by the Google Go Android app.</p>
<p>This internal API offer results in</p>
<ul class="simple">
<li><p>JSON (<code class="docutils literal notranslate"><span class="pre">_fmt:json</span></code>)</p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Protocol_Buffers">Protobuf</a> (<code class="docutils literal notranslate"><span class="pre">_fmt:pb</span></code>)</p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Protocol_Buffers">Protobuf</a> compressed? (<code class="docutils literal notranslate"><span class="pre">_fmt:pc</span></code>)</p></li>
<li><p>HTML (<code class="docutils literal notranslate"><span class="pre">_fmt:html</span></code>)</p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Protocol_Buffers">Protobuf</a> encoded in JSON (<code class="docutils literal notranslate"><span class="pre">_fmt:jspb</span></code>).</p></li>
</ul>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.google_images.max_page">
<span class="sig-prename descclassname"><span class="pre">searx.engines.google_images.</span></span><span class="sig-name descname"><span class="pre">max_page</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">50</span></em><a class="headerlink" href="#searx.engines.google_images.max_page" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://github.com/searxng/searxng/issues/2982">Google max 50 pages</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.google_images.request">
<span class="sig-prename descclassname"><span class="pre">searx.engines.google_images.</span></span><span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.google_images.request" title="Link to this definition">¶</a></dt>
<dd><p>Google-Image search request</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.google_images.response">
<span class="sig-prename descclassname"><span class="pre">searx.engines.google_images.</span></span><span class="sig-name descname"><span class="pre">response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.google_images.response" title="Link to this definition">¶</a></dt>
<dd><p>Get response from google’s search request</p>
</dd></dl>

</section>
<section id="module-searx.engines.google_videos">
<span id="google-videos"></span><span id="google-videos-engine"></span><h6 aria-level="7"><a class="toc-backref" href="#id10" role="doc-backlink">Google Videos</a><a class="headerlink" href="#module-searx.engines.google_videos" title="Link to this heading">¶</a></h6>
<p>This is the implementation of the Google Videos engine.</p>
<div class="admonition-content-security-policy-csp admonition">
<p class="admonition-title">Content-Security-Policy (CSP)</p>
<p>This engine needs to allow images from the <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs">data URLs</a> (prefixed with the
<code class="docutils literal notranslate"><span class="pre">data:</span></code> scheme):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Header</span> <span class="nb">set</span> <span class="n">Content</span><span class="o">-</span><span class="n">Security</span><span class="o">-</span><span class="n">Policy</span> <span class="s2">&quot;img-src &#39;self&#39; data: ;&quot;</span>
</pre></div>
</div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.google_videos.request">
<span class="sig-prename descclassname"><span class="pre">searx.engines.google_videos.</span></span><span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.google_videos.request" title="Link to this definition">¶</a></dt>
<dd><p>Google-Video search request</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.google_videos.response">
<span class="sig-prename descclassname"><span class="pre">searx.engines.google_videos.</span></span><span class="sig-name descname"><span class="pre">response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.google_videos.response" title="Link to this definition">¶</a></dt>
<dd><p>Get response from google’s search request</p>
</dd></dl>

</section>
<section id="module-searx.engines.google_news">
<span id="google-news"></span><span id="google-news-engine"></span><h6 aria-level="7"><a class="toc-backref" href="#id11" role="doc-backlink">Google News</a><a class="headerlink" href="#module-searx.engines.google_news" title="Link to this heading">¶</a></h6>
<p>This is the implementation of the Google News engine.</p>
<p>Google News has a different region handling compared to Google WEB.</p>
<ul class="simple">
<li><p>the <code class="docutils literal notranslate"><span class="pre">ceid</span></code> argument has to be set (<a class="reference internal" href="#searx.engines.google_news.ceid_list" title="searx.engines.google_news.ceid_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ceid_list</span></code></a>)</p></li>
<li><p>the <a class="reference external" href="https://developers.google.com/custom-search/docs/xml_results#hlsp">hl</a> argument has to be set correctly (and different to Google WEB)</p></li>
<li><p>the <a class="reference external" href="https://developers.google.com/custom-search/docs/xml_results#glsp">gl</a> argument is mandatory</p></li>
</ul>
<p>If one of this argument is not set correctly, the request is redirected to
CONSENT dialog:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>https://consent.google.com/m?continue=
</pre></div>
</div>
<p>The google news API ignores some parameters from the common <a class="reference internal" href="#google-api"><span class="std std-ref">Google API</span></a>:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://developers.google.com/custom-search/docs/xml_results#numsp">num</a> : the number of search results is ignored / there is no paging all
results for a query term are in the first response.</p></li>
<li><p><a class="reference external" href="https://developers.google.com/custom-search/docs/xml_results#safesp">save</a> : is ignored / Google-News results are always <em>SafeSearch</em></p></li>
</ul>
<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.google_news.request">
<span class="sig-prename descclassname"><span class="pre">searx.engines.google_news.</span></span><span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.google_news.request" title="Link to this definition">¶</a></dt>
<dd><p>Google-News search request</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.google_news.response">
<span class="sig-prename descclassname"><span class="pre">searx.engines.google_news.</span></span><span class="sig-name descname"><span class="pre">response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.google_news.response" title="Link to this definition">¶</a></dt>
<dd><p>Get response from google’s search request</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.google_news.ceid_list">
<span class="sig-prename descclassname"><span class="pre">searx.engines.google_news.</span></span><span class="sig-name descname"><span class="pre">ceid_list</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['AE:ar',</span> <span class="pre">'AR:es-419',</span> <span class="pre">'AT:de',</span> <span class="pre">'AU:en',</span> <span class="pre">'BD:bn',</span> <span class="pre">'BE:fr',</span> <span class="pre">'BE:nl',</span> <span class="pre">'BG:bg',</span> <span class="pre">'BR:pt-419',</span> <span class="pre">'BW:en',</span> <span class="pre">'CA:en',</span> <span class="pre">'CA:fr',</span> <span class="pre">'CH:de',</span> <span class="pre">'CH:fr',</span> <span class="pre">'CL:es-419',</span> <span class="pre">'CN:zh-Hans',</span> <span class="pre">'CO:es-419',</span> <span class="pre">'CU:es-419',</span> <span class="pre">'CZ:cs',</span> <span class="pre">'DE:de',</span> <span class="pre">'EG:ar',</span> <span class="pre">'ES:es',</span> <span class="pre">'ET:en',</span> <span class="pre">'FR:fr',</span> <span class="pre">'GB:en',</span> <span class="pre">'GH:en',</span> <span class="pre">'GR:el',</span> <span class="pre">'HK:zh-Hant',</span> <span class="pre">'HU:hu',</span> <span class="pre">'ID:en',</span> <span class="pre">'ID:id',</span> <span class="pre">'IE:en',</span> <span class="pre">'IL:en',</span> <span class="pre">'IL:he',</span> <span class="pre">'IN:bn',</span> <span class="pre">'IN:en',</span> <span class="pre">'IN:hi',</span> <span class="pre">'IN:ml',</span> <span class="pre">'IN:mr',</span> <span class="pre">'IN:ta',</span> <span class="pre">'IN:te',</span> <span class="pre">'IT:it',</span> <span class="pre">'JP:ja',</span> <span class="pre">'KE:en',</span> <span class="pre">'KR:ko',</span> <span class="pre">'LB:ar',</span> <span class="pre">'LT:lt',</span> <span class="pre">'LV:en',</span> <span class="pre">'LV:lv',</span> <span class="pre">'MA:fr',</span> <span class="pre">'MX:es-419',</span> <span class="pre">'MY:en',</span> <span class="pre">'NA:en',</span> <span class="pre">'NG:en',</span> <span class="pre">'NL:nl',</span> <span class="pre">'NO:no',</span> <span class="pre">'NZ:en',</span> <span class="pre">'PE:es-419',</span> <span class="pre">'PH:en',</span> <span class="pre">'PK:en',</span> <span class="pre">'PL:pl',</span> <span class="pre">'PT:pt-150',</span> <span class="pre">'RO:ro',</span> <span class="pre">'RS:sr',</span> <span class="pre">'RU:ru',</span> <span class="pre">'SA:ar',</span> <span class="pre">'SE:sv',</span> <span class="pre">'SG:en',</span> <span class="pre">'SI:sl',</span> <span class="pre">'SK:sk',</span> <span class="pre">'SN:fr',</span> <span class="pre">'TH:th',</span> <span class="pre">'TR:tr',</span> <span class="pre">'TW:zh-Hant',</span> <span class="pre">'TZ:en',</span> <span class="pre">'UA:ru',</span> <span class="pre">'UA:uk',</span> <span class="pre">'UG:en',</span> <span class="pre">'US:en',</span> <span class="pre">'US:es-419',</span> <span class="pre">'VE:es-419',</span> <span class="pre">'VN:vi',</span> <span class="pre">'ZA:en',</span> <span class="pre">'ZW:en']</span></em><a class="headerlink" href="#searx.engines.google_news.ceid_list" title="Link to this definition">¶</a></dt>
<dd><p>List of region/language combinations supported by Google News.  Values of the
<code class="docutils literal notranslate"><span class="pre">ceid</span></code> argument of the Google News REST API.</p>
</dd></dl>

</section>
<section id="module-searx.engines.google_scholar">
<span id="google-scholar"></span><span id="google-scholar-engine"></span><h6 aria-level="7"><a class="toc-backref" href="#id12" role="doc-backlink">Google Scholar</a><a class="headerlink" href="#module-searx.engines.google_scholar" title="Link to this heading">¶</a></h6>
<p>This is the implementation of the Google Scholar engine.</p>
<p>Compared to other Google services the Scholar engine has a simple GET REST-API
and there does not exists <cite>async</cite> API.  Even though the API slightly vintage we
can make use of the <a class="reference internal" href="#google-api"><span class="std std-ref">Google API</span></a> to assemble the arguments of the GET
request.</p>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.google_scholar.max_page">
<span class="sig-prename descclassname"><span class="pre">searx.engines.google_scholar.</span></span><span class="sig-name descname"><span class="pre">max_page</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">50</span></em><a class="headerlink" href="#searx.engines.google_scholar.max_page" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://github.com/searxng/searxng/issues/2982">Google max 50 pages</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.google_scholar.time_range_args">
<span class="sig-prename descclassname"><span class="pre">searx.engines.google_scholar.</span></span><span class="sig-name descname"><span class="pre">time_range_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.google_scholar.time_range_args" title="Link to this definition">¶</a></dt>
<dd><p>Returns a dictionary with a time range arguments based on
<code class="docutils literal notranslate"><span class="pre">params['time_range']</span></code>.</p>
<p>Google Scholar supports a detailed search by year.  Searching by <em>last
month</em> or <em>last week</em> (as offered by SearXNG) is uncommon for scientific
publications and is not supported by Google Scholar.</p>
<p>To limit the result list when the users selects a range, all the SearXNG
ranges (<em>day</em>, <em>week</em>, <em>month</em>, <em>year</em>) are mapped to <em>year</em>.  If no range
is set an empty dictionary of arguments is returned.  Example;  when
user selects a time range (current year minus one in 2022):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s1">&#39;as_ylo&#39;</span> <span class="p">:</span> <span class="mi">2021</span> <span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.google_scholar.detect_google_captcha">
<span class="sig-prename descclassname"><span class="pre">searx.engines.google_scholar.</span></span><span class="sig-name descname"><span class="pre">detect_google_captcha</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dom</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.google_scholar.detect_google_captcha" title="Link to this definition">¶</a></dt>
<dd><p>In case of CAPTCHA Google Scholar open its own <em>not a Robot</em> dialog and is
not redirected to <code class="docutils literal notranslate"><span class="pre">sorry.google.com</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.google_scholar.request">
<span class="sig-prename descclassname"><span class="pre">searx.engines.google_scholar.</span></span><span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.google_scholar.request" title="Link to this definition">¶</a></dt>
<dd><p>Google-Scholar search request</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.google_scholar.parse_gs_a">
<span class="sig-prename descclassname"><span class="pre">searx.engines.google_scholar.</span></span><span class="sig-name descname"><span class="pre">parse_gs_a</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.google_scholar.parse_gs_a" title="Link to this definition">¶</a></dt>
<dd><p>Parse the text written in green.</p>
<p>Possible formats:
* “{authors} - {journal}, {year} - {publisher}”
* “{authors} - {year} - {publisher}”
* “{authors} - {publisher}”</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.google_scholar.response">
<span class="sig-prename descclassname"><span class="pre">searx.engines.google_scholar.</span></span><span class="sig-name descname"><span class="pre">response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.google_scholar.response" title="Link to this definition">¶</a></dt>
<dd><p>Parse response from Google Scholar</p>
</dd></dl>

</section>
</section>
<span id="document-dev/engines/online/huggingface"></span><section id="module-searx.engines.huggingface">
<span id="hugging-face"></span><span id="huggingface-engine"></span><h6>Hugging Face<a class="headerlink" href="#module-searx.engines.huggingface" title="Link to this heading">¶</a></h6>
<p><a class="reference external" href="https://huggingface.co">Hugging Face</a> search engine for SearXNG.</p>
<section id="configuration">
<h6 aria-level="7">Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>The engine has the following additional settings:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.huggingface.huggingface_endpoint" title="searx.engines.huggingface.huggingface_endpoint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">huggingface_endpoint</span></code></a></p></li>
</ul>
<p>Configurations for endpoints:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">huggingface</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">huggingface</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hf</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">huggingface datasets</span>
<span class="w">  </span><span class="nt">huggingface_endpoint</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">datasets</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">huggingface</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hfd</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">huggingface spaces</span>
<span class="w">  </span><span class="nt">huggingface_endpoint</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">spaces</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">huggingface</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hfs</span>
</pre></div>
</div>
</section>
<section id="implementations">
<h6 aria-level="7">Implementations<a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.huggingface.huggingface_endpoint">
<span class="sig-prename descclassname"><span class="pre">searx.engines.huggingface.</span></span><span class="sig-name descname"><span class="pre">huggingface_endpoint</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'models'</span></em><a class="headerlink" href="#searx.engines.huggingface.huggingface_endpoint" title="Link to this definition">¶</a></dt>
<dd><p>Hugging Face supports datasets, models, spaces as search endpoint.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">datasets</span></code>: search for datasets</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">models</span></code>: search for models</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">spaces</span></code>: search for spaces</p></li>
</ul>
</dd></dl>

</section>
<span id="document-dev/engines/online/lemmy"></span><section id="lemmy">
<span id="lemmy-engine"></span><h6>Lemmy<a class="headerlink" href="#lemmy" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#configuration" id="id1">Configuration</a></p></li>
<li><p><a class="reference internal" href="#implementations" id="id2">Implementations</a></p></li>
</ul>
</nav>
<p id="module-searx.engines.lemmy">This engine uses the Lemmy API (<a class="reference external" href="https://lemmy.ml/api/v3/search">https://lemmy.ml/api/v3/search</a>), which is
documented at <a class="reference external" href="https://join-lemmy.org/api/modules.html">lemmy-js-client</a> / <a class="reference external" href="https://join-lemmy.org/api/interfaces/Search.html">Interface Search</a>.  Since Lemmy is
federated, results are from many different, independent lemmy instances, and not
only the official one.</p>
<section id="configuration">
<h6 aria-level="7"><a class="toc-backref" href="#id1" role="doc-backlink">Configuration</a><a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>The engine has the following additional settings:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.lemmy.base_url" title="searx.engines.lemmy.base_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">base_url</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.lemmy.lemmy_type" title="searx.engines.lemmy.lemmy_type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lemmy_type</span></code></a></p></li>
</ul>
<p>This implementation is used by different lemmy engines in the <a class="reference internal" href="#settings-engines"><span class="std std-ref">settings.yml</span></a>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lemmy communities</span>
<span class="w">  </span><span class="nt">lemmy_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Communities</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lemmy users</span>
<span class="w">  </span><span class="nt">lemmy_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Users</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lemmy posts</span>
<span class="w">  </span><span class="nt">lemmy_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Posts</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lemmy comments</span>
<span class="w">  </span><span class="nt">lemmy_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Comments</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
</section>
<section id="implementations">
<h6 aria-level="7"><a class="toc-backref" href="#id2" role="doc-backlink">Implementations</a><a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.lemmy.base_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.lemmy.</span></span><span class="sig-name descname"><span class="pre">base_url</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://lemmy.ml/'</span></em><a class="headerlink" href="#searx.engines.lemmy.base_url" title="Link to this definition">¶</a></dt>
<dd><p>By default, <a class="reference external" href="https://lemmy.ml">https://lemmy.ml</a> is used for providing the results.  If you want
to use a different lemmy instance, you can specify <code class="docutils literal notranslate"><span class="pre">base_url</span></code>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.lemmy.lemmy_type">
<span class="sig-prename descclassname"><span class="pre">searx.engines.lemmy.</span></span><span class="sig-name descname"><span class="pre">lemmy_type</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Communities'</span></em><a class="headerlink" href="#searx.engines.lemmy.lemmy_type" title="Link to this definition">¶</a></dt>
<dd><p>Any of <code class="docutils literal notranslate"><span class="pre">Communities</span></code>, <code class="docutils literal notranslate"><span class="pre">Users</span></code>, <code class="docutils literal notranslate"><span class="pre">Posts</span></code>, <code class="docutils literal notranslate"><span class="pre">Comments</span></code></p>
</dd></dl>

</section>
<span id="document-dev/engines/online/loc"></span><section id="library-of-congress">
<span id="loc-engine"></span><h6>Library of Congress<a class="headerlink" href="#library-of-congress" title="Link to this heading">¶</a></h6>
<p id="module-searx.engines.loc">Library of Congress: query Photo, Print and Drawing from API <a class="reference external" href="https://www.loc.gov/apis/json-and-yaml/requests/endpoints/">endpoint</a>
<code class="docutils literal notranslate"><span class="pre">photos</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Beside the <code class="docutils literal notranslate"><span class="pre">photos</span></code> <a class="reference external" href="https://www.loc.gov/apis/json-and-yaml/requests/endpoints/">endpoint</a> there are more endpoints available / we are
looking forward for contributions implementing more endpoints.</p>
</div>
</section>
<span id="document-dev/engines/online/marginalia"></span><section id="module-searx.engines.marginalia">
<span id="marginalia-search"></span><span id="marginalia-engine"></span><h6>Marginalia Search<a class="headerlink" href="#module-searx.engines.marginalia" title="Link to this heading">¶</a></h6>
<p><a class="reference external" href="https://about.marginalia-search.com/">Marginalia Search</a> is an independent open source Internet search engine
operating out of Sweden. It is principally developed and operated by Viktor
Lofgren .</p>
<section id="configuration">
<h6 aria-level="7">Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>The engine has the following required settings:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.marginalia.api_key" title="searx.engines.marginalia.api_key"><code class="xref py py-obj docutils literal notranslate"><span class="pre">api_key</span></code></a></p></li>
</ul>
<p>You can configure a Marginalia engine by:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">marginalia</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">marginalia</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mar</span>
<span class="w">  </span><span class="nt">api_key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
</section>
<section id="implementations">
<h6 aria-level="7">Implementations<a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.marginalia.api_key">
<span class="sig-prename descclassname"><span class="pre">searx.engines.marginalia.</span></span><span class="sig-name descname"><span class="pre">api_key</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#searx.engines.marginalia.api_key" title="Link to this definition">¶</a></dt>
<dd><p>To get an API key, please follow the instructions from <a class="reference external" href="https://about.marginalia-search.com/article/api/">Key and license</a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.engines.marginalia.ApiSearchResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.engines.marginalia.</span></span><span class="sig-name descname"><span class="pre">ApiSearchResult</span></span><a class="headerlink" href="#searx.engines.marginalia.ApiSearchResult" title="Link to this definition">¶</a></dt>
<dd><p>Marginalia’s <a class="reference external" href="https://github.com/MarginaliaSearch/MarginaliaSearch/blob/master/code/services-application/api-service/java/nu/marginalia/api/model/ApiSearchResult.java">ApiSearchResult</a> class definition.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.engines.marginalia.ApiSearchResults">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.engines.marginalia.</span></span><span class="sig-name descname"><span class="pre">ApiSearchResults</span></span><a class="headerlink" href="#searx.engines.marginalia.ApiSearchResults" title="Link to this definition">¶</a></dt>
<dd><p>Marginalia’s <a class="reference external" href="https://github.com/MarginaliaSearch/MarginaliaSearch/blob/master/code/services-application/api-service/java/nu/marginalia/api/model/ApiSearchResults.java">ApiSearchResults</a> class definition.</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/mastodon"></span><section id="mastodon">
<span id="mastodon-engine"></span><h6>Mastodon<a class="headerlink" href="#mastodon" title="Link to this heading">¶</a></h6>
<p id="module-searx.engines.mastodon"><a class="reference external" href="https://mastodon.social">Mastodon</a> is an open source alternative to large social media platforms like
Twitter/X, Facebook, …</p>
<p>Since it’s federated and self-hostable, there’s a large amount of available
instances, which can be chosen instead by modifying <code class="docutils literal notranslate"><span class="pre">base_url</span></code>.</p>
<p>We use their official <a class="reference external" href="https://docs.joinmastodon.org/api/">API</a> for searching, but unfortunately, their Search <a class="reference external" href="https://docs.joinmastodon.org/api/">API</a>
forbids pagination without OAuth.</p>
<p>That’s why we use tootfinder.ch for finding posts, which doesn’t support searching
for users, accounts or other types of content on Mastodon however.</p>
</section>
<span id="document-dev/engines/online/moviepilot"></span><section id="moviepilot">
<span id="moviepilot-engine"></span><h6>Moviepilot<a class="headerlink" href="#moviepilot" title="Link to this heading">¶</a></h6>
<p id="module-searx.engines.moviepilot">Moviepilot is a German movie database, similar to IMDB or TMDB.  It doesn’t
have any official API, but it uses JSON requests internally to fetch search
results and suggestions, that’s being used in this implementation.</p>
<p>Moviepilot additionally allows to discover movies by certain categories
or filters, hence we provide the following syntax:</p>
<ul class="simple">
<li><p>Any normal search query -&gt; Fetch search results by the query</p></li>
<li><p>A query containing one of the category identifiers <code class="docutils literal notranslate"><span class="pre">fsk</span></code>, <code class="docutils literal notranslate"><span class="pre">genre</span></code>,
<code class="docutils literal notranslate"><span class="pre">jahr</span></code>, <code class="docutils literal notranslate"><span class="pre">jahrzent</span></code>, <code class="docutils literal notranslate"><span class="pre">land</span></code>, <code class="docutils literal notranslate"><span class="pre">online</span></code>, <code class="docutils literal notranslate"><span class="pre">stimmung</span></code> will be used to
search trending items by the provided filters, which are appended to the
filter category after a <code class="docutils literal notranslate"><span class="pre">-</span></code>.</p></li>
</ul>
<p>Search examples:</p>
<ul class="simple">
<li><p>Normal: <code class="docutils literal notranslate"><span class="pre">!mp</span> <span class="pre">Tom</span> <span class="pre">Cruise</span></code></p></li>
<li><p>By filter: <code class="docutils literal notranslate"><span class="pre">!mp</span> <span class="pre">person-Ryan-Gosling</span></code></p></li>
<li><p>By filter: <code class="docutils literal notranslate"><span class="pre">!mp</span> <span class="pre">fsk-0</span> <span class="pre">land-deutschland</span> <span class="pre">genre-actionfilm</span></code></p></li>
<li><p>By filter: <code class="docutils literal notranslate"><span class="pre">!mp</span> <span class="pre">jahrzehnt-2020er</span> <span class="pre">online-netflix</span></code></p></li>
</ul>
<p>For a list of all public filters, observe the url path when browsing</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.moviepilot.de/filme/beste">https://www.moviepilot.de/filme/beste</a>.</p></li>
</ul>
</section>
<span id="document-dev/engines/online/mrs"></span><section id="matrix-rooms-search-mrs">
<span id="mrs-engine"></span><h6>Matrix Rooms Search (MRS)<a class="headerlink" href="#matrix-rooms-search-mrs" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#configuration" id="id1">Configuration</a></p></li>
<li><p><a class="reference internal" href="#implementation" id="id2">Implementation</a></p></li>
</ul>
</nav>
<p id="module-searx.engines.mrs">Matrix Rooms Search - a fully-featured, standalone, matrix rooms search service.</p>
<section id="configuration">
<h6 aria-level="7"><a class="toc-backref" href="#id1" role="doc-backlink">Configuration</a><a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>The engine has the following mandatory settings:</p>
<ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">base_url</span></code></p></li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MRS</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mrs</span>
<span class="w">  </span><span class="nt">base_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://mrs-host</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
</section>
<section id="implementation">
<h6 aria-level="7"><a class="toc-backref" href="#id2" role="doc-backlink">Implementation</a><a class="headerlink" href="#implementation" title="Link to this heading">¶</a></h6>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.mrs.init">
<span class="sig-prename descclassname"><span class="pre">searx.engines.mrs.</span></span><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.mrs.init" title="Link to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">base_url</span></code> must be set in the configuration, if <code class="docutils literal notranslate"><span class="pre">base_url</span></code> is not
set, a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ValueError</span></code></a> is raised during initialization.</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/mullvad_leta"></span><section id="module-searx.engines.mullvad_leta">
<span id="mullvad-leta"></span><span id="voidlinux-mullvad-leta"></span><h6>Mullvad-Leta<a class="headerlink" href="#module-searx.engines.mullvad_leta" title="Link to this heading">¶</a></h6>
<p>Mullvad Leta is a search engine proxy. Currently Leta only offers text
search results not image, news or any other types of search result.  Leta acts
as a proxy to Google and Brave search results. You can select which backend
search engine you wish to use, see  (<a class="reference internal" href="#searx.engines.mullvad_leta.leta_engine" title="searx.engines.mullvad_leta.leta_engine"><code class="xref py py-obj docutils literal notranslate"><span class="pre">leta_engine</span></code></a>).</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Leta caches each search for up to 30 days.  For example, if you use search
terms like <code class="docutils literal notranslate"><span class="pre">news</span></code>, contrary to your intention you’ll get very old results!</p>
</div>
<section id="configuration">
<h6 aria-level="7">Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>The engine has the following additional settings:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.mullvad_leta.leta_engine" title="searx.engines.mullvad_leta.leta_engine"><code class="xref py py-obj docutils literal notranslate"><span class="pre">leta_engine</span></code></a> (<a class="reference internal" href="#searx.engines.mullvad_leta.LetaEnginesType" title="searx.engines.mullvad_leta.LetaEnginesType"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LetaEnginesType</span></code></a>)</p></li>
</ul>
<p>You can configure one Leta engine for Google and one for Brave:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mullvadleta</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mullvad_leta</span>
<span class="w">  </span><span class="nt">leta_engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">google</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ml</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mullvadleta brave</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mullvad_leta</span>
<span class="w">  </span><span class="nt">network</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mullvadleta</span><span class="w">  </span><span class="c1"># use network from engine &quot;mullvadleta&quot; configured above</span>
<span class="w">  </span><span class="nt">leta_engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">brave</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mlb</span>
</pre></div>
</div>
</section>
<section id="implementations">
<h6 aria-level="7">Implementations<a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.mullvad_leta.LetaEnginesType">
<span class="sig-prename descclassname"><span class="pre">searx.engines.mullvad_leta.</span></span><span class="sig-name descname"><span class="pre">LetaEnginesType</span></span><a class="headerlink" href="#searx.engines.mullvad_leta.LetaEnginesType" title="Link to this definition">¶</a></dt>
<dd><p>Engine types supported by mullvadleta.</p>
<p>alias of <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Literal</span></code></a>[‘google’, ‘brave’]</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.mullvad_leta.leta_engine">
<span class="sig-prename descclassname"><span class="pre">searx.engines.mullvad_leta.</span></span><span class="sig-name descname"><span class="pre">leta_engine</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'google'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'brave'</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'google'</span></em><a class="headerlink" href="#searx.engines.mullvad_leta.leta_engine" title="Link to this definition">¶</a></dt>
<dd><p>Select Leta’s engine type from <a class="reference internal" href="#searx.engines.mullvad_leta.LetaEnginesType" title="searx.engines.mullvad_leta.LetaEnginesType"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LetaEnginesType</span></code></a>.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.engines.mullvad_leta.DataNodeQueryMetaDataIndices">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.engines.mullvad_leta.</span></span><span class="sig-name descname"><span class="pre">DataNodeQueryMetaDataIndices</span></span><a class="headerlink" href="#searx.engines.mullvad_leta.DataNodeQueryMetaDataIndices" title="Link to this definition">¶</a></dt>
<dd><p>Indices into query metadata.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.engines.mullvad_leta.DataNodeResultIndices">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.engines.mullvad_leta.</span></span><span class="sig-name descname"><span class="pre">DataNodeResultIndices</span></span><a class="headerlink" href="#searx.engines.mullvad_leta.DataNodeResultIndices" title="Link to this definition">¶</a></dt>
<dd><p>Indices into query resultsdata.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.mullvad_leta.fetch_traits">
<span class="sig-prename descclassname"><span class="pre">searx.engines.mullvad_leta.</span></span><span class="sig-name descname"><span class="pre">fetch_traits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_traits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><span class="pre">EngineTraits</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#searx.engines.mullvad_leta.fetch_traits" title="Link to this definition">¶</a></dt>
<dd><p>Fetch languages and regions from Mullvad-Leta</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/mwmbl"></span><section id="mwmbl-engine">
<span id="id1"></span><h6>Mwmbl Engine<a class="headerlink" href="#mwmbl-engine" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#module-searx.engines.mwmbl" id="id3">Mwmbl WEB</a></p></li>
<li><p><a class="reference internal" href="#mwmbl-autocomplete" id="id4">Mwmbl Autocomplete</a></p></li>
</ul>
</nav>
<section id="module-searx.engines.mwmbl">
<span id="mwmbl-web"></span><span id="mwmbl-web-engine"></span><h6 aria-level="7"><a class="toc-backref" href="#id3" role="doc-backlink">Mwmbl WEB</a><a class="headerlink" href="#module-searx.engines.mwmbl" title="Link to this heading">¶</a></h6>
<p><a class="reference external" href="https://github.com/mwmbl/mwmbl">Mwmbl</a> is a non-profit, ad-free, free-libre and free-lunch search engine with
a focus on useability and speed.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>At the moment it is little more than an idea together with a proof of concept
implementation of the web front-end and search technology on a small index.
<a class="reference external" href="https://github.com/mwmbl/mwmbl">Mwmbl</a> does not support regions, languages, safe-search or time range.
search.</p>
</div>
</section>
<section id="mwmbl-autocomplete">
<span id="id2"></span><h6 aria-level="7"><a class="toc-backref" href="#id4" role="doc-backlink">Mwmbl Autocomplete</a><a class="headerlink" href="#mwmbl-autocomplete" title="Link to this heading">¶</a></h6>
<dl class="py function">
<dt class="sig sig-object py" id="searx.autocomplete.mwmbl">
<span class="sig-prename descclassname"><span class="pre">searx.autocomplete.</span></span><span class="sig-name descname"><span class="pre">mwmbl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_lang</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.autocomplete.mwmbl" title="Link to this definition">¶</a></dt>
<dd><p>Autocomplete from <a class="reference external" href="https://github.com/mwmbl/mwmbl">Mwmbl</a>.</p>
</dd></dl>

</section>
</section>
<span id="document-dev/engines/online/odysee"></span><section id="odysee">
<span id="odysee-engine"></span><h6>Odysee<a class="headerlink" href="#odysee" title="Link to this heading">¶</a></h6>
<p id="module-searx.engines.odysee"><a class="reference external" href="https://github.com/OdyseeTeam/odysee-frontend">Odysee</a> is a decentralized video hosting platform.</p>
<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.odysee.fetch_traits">
<span class="sig-prename descclassname"><span class="pre">searx.engines.odysee.</span></span><span class="sig-name descname"><span class="pre">fetch_traits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_traits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><span class="pre">EngineTraits</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.odysee.fetch_traits" title="Link to this definition">¶</a></dt>
<dd><p>Fetch languages from Odysee’s source code.</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/peertube"></span><section id="peertube-engines">
<span id="id1"></span><h6>Peertube Engines<a class="headerlink" href="#peertube-engines" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#module-searx.engines.peertube" id="id2">Peertube Video</a></p></li>
<li><p><a class="reference internal" href="#module-searx.engines.sepiasearch" id="id3">SepiaSearch</a></p></li>
</ul>
</nav>
<section id="module-searx.engines.peertube">
<span id="peertube-video"></span><span id="peertube-video-engine"></span><h6 aria-level="7"><a class="toc-backref" href="#id2" role="doc-backlink">Peertube Video</a><a class="headerlink" href="#module-searx.engines.peertube" title="Link to this heading">¶</a></h6>
<p>Peertube and <a class="reference internal" href="#module-searx.engines.sepiasearch" title="searx.engines.sepiasearch"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SepiaSearch</span></code></a> do share
(more or less) the same REST API and the schema of the JSON result is identical.</p>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.peertube.base_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.peertube.</span></span><span class="sig-name descname"><span class="pre">base_url</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://peer.tube'</span></em><a class="headerlink" href="#searx.engines.peertube.base_url" title="Link to this definition">¶</a></dt>
<dd><p>Base URL of the Peertube instance.  A list of instances is available at:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://instances.joinpeertube.org/instances">https://instances.joinpeertube.org/instances</a></p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.peertube.request">
<span class="sig-prename descclassname"><span class="pre">searx.engines.peertube.</span></span><span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.peertube.request" title="Link to this definition">¶</a></dt>
<dd><p>Assemble request for the Peertube API</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.peertube.video_response">
<span class="sig-prename descclassname"><span class="pre">searx.engines.peertube.</span></span><span class="sig-name descname"><span class="pre">video_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.peertube.video_response" title="Link to this definition">¶</a></dt>
<dd><p>Parse video response from SepiaSearch and Peertube instances.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.peertube.fetch_traits">
<span class="sig-prename descclassname"><span class="pre">searx.engines.peertube.</span></span><span class="sig-name descname"><span class="pre">fetch_traits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_traits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><span class="pre">EngineTraits</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.peertube.fetch_traits" title="Link to this definition">¶</a></dt>
<dd><p>Fetch languages from peertube’s search-index source code.</p>
<p>See <a class="reference external" href="https://framagit.org/framasoft/peertube/search-index/-/commit/8ed5c729#3d8747f9a60695c367c70bb64efba8f403721fad_0_291">videoLanguages</a> in commit <a class="reference external" href="https://framagit.org/framasoft/peertube/search-index/-/commit/8ed5c729">8ed5c729 - Refactor and redesign client</a></p>
</dd></dl>

</section>
<section id="module-searx.engines.sepiasearch">
<span id="sepiasearch"></span><span id="sepiasearch-engine"></span><h6 aria-level="7"><a class="toc-backref" href="#id3" role="doc-backlink">SepiaSearch</a><a class="headerlink" href="#module-searx.engines.sepiasearch" title="Link to this heading">¶</a></h6>
<p>SepiaSearch uses the same languages as <a class="reference internal" href="#module-searx.engines.peertube" title="searx.engines.peertube"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Peertube</span></code></a> and the response is identical to the response from the
peertube engines.</p>
<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.sepiasearch.request">
<span class="sig-prename descclassname"><span class="pre">searx.engines.sepiasearch.</span></span><span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.sepiasearch.request" title="Link to this definition">¶</a></dt>
<dd><p>Assemble request for the SepiaSearch API</p>
</dd></dl>

</section>
</section>
<span id="document-dev/engines/online/piped"></span><section id="piped">
<span id="piped-engine"></span><h6>Piped<a class="headerlink" href="#piped" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#configuration" id="id1">Configuration</a></p></li>
<li><p><a class="reference internal" href="#known-quirks" id="id2">Known Quirks</a></p></li>
<li><p><a class="reference internal" href="#implementations" id="id3">Implementations</a></p></li>
</ul>
</nav>
<p id="module-searx.engines.piped">An alternative privacy-friendly YouTube frontend which is efficient by
design.  <a class="reference external" href="https://docs.piped.video/docs/architecture/">Piped’s architecture</a> consists of 3 components:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.piped.backend_url" title="searx.engines.piped.backend_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">backend</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.piped.frontend_url" title="searx.engines.piped.frontend_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">frontend</span></code></a></p></li>
<li><p>proxy</p></li>
</ul>
<section id="configuration">
<h6 aria-level="7"><a class="toc-backref" href="#id1" role="doc-backlink">Configuration</a><a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>The <a class="reference internal" href="#searx.engines.piped.backend_url" title="searx.engines.piped.backend_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">backend_url</span></code></a> and <a class="reference internal" href="#searx.engines.piped.frontend_url" title="searx.engines.piped.frontend_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">frontend_url</span></code></a> has to be set in the engine
named <cite>piped</cite> and are used by all piped engines</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">piped</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">piped</span>
<span class="w">  </span><span class="nt">piped_filter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">videos</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">  </span><span class="nt">frontend_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://..</span>
<span class="w">  </span><span class="nt">backend_url</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://..</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://..</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">piped.music</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">piped</span>
<span class="w">  </span><span class="nt">network</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">piped</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ppdm</span>
<span class="w">  </span><span class="nt">piped_filter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">music_songs</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
</section>
<section id="known-quirks">
<h6 aria-level="7"><a class="toc-backref" href="#id2" role="doc-backlink">Known Quirks</a><a class="headerlink" href="#known-quirks" title="Link to this heading">¶</a></h6>
<p>The implementation to support <a class="reference internal" href="#searx.enginelib.Engine.paging" title="searx.enginelib.Engine.paging"><code class="xref py py-obj docutils literal notranslate"><span class="pre">paging</span></code></a>
is based on the <em>nextpage</em> method of Piped’s REST API / the <a class="reference internal" href="#searx.engines.piped.frontend_url" title="searx.engines.piped.frontend_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">frontend</span>
<span class="pre">API</span></code></a>.  This feature is <em>next page driven</em> and plays well with the
<a class="reference internal" href="#settings-ui"><span class="std std-ref">infinite_scroll</span></a> setting in SearXNG but it does not really
fit into SearXNG’s UI to select a page by number.</p>
</section>
<section id="implementations">
<h6 aria-level="7"><a class="toc-backref" href="#id3" role="doc-backlink">Implementations</a><a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.piped.backend_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.piped.</span></span><span class="sig-name descname"><span class="pre">backend_url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://pipedapi.kavin.rocks'</span></em><a class="headerlink" href="#searx.engines.piped.backend_url" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://github.com/TeamPiped/Piped-Backend">Piped-Backend</a>: The core component behind Piped.  The value is an URL or a
list of URLs.  In the latter case instance will be selected randomly.  For a
complete list of official instances see Piped-Instances (<a class="reference external" href="https://piped-instances.kavin.rocks/">JSON</a>)</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.piped.frontend_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.piped.</span></span><span class="sig-name descname"><span class="pre">frontend_url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://piped.video'</span></em><a class="headerlink" href="#searx.engines.piped.frontend_url" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://github.com/TeamPiped/Piped">Piped-Frontend</a>: URL to use as link and for embeds.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.piped.piped_filter">
<span class="sig-prename descclassname"><span class="pre">searx.engines.piped.</span></span><span class="sig-name descname"><span class="pre">piped_filter</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'all'</span></em><a class="headerlink" href="#searx.engines.piped.piped_filter" title="Link to this definition">¶</a></dt>
<dd><p>Content filter <code class="docutils literal notranslate"><span class="pre">music_songs</span></code> or <code class="docutils literal notranslate"><span class="pre">videos</span></code></p>
</dd></dl>

</section>
<span id="document-dev/engines/online/presearch"></span><section id="presearch-engine">
<span id="engine-presearch"></span><h6>Presearch Engine<a class="headerlink" href="#presearch-engine" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#search-type-video" id="id1">Search type <code class="docutils literal notranslate"><span class="pre">video</span></code></a></p></li>
<li><p><a class="reference internal" href="#languages-regions" id="id2">Languages &amp; Regions</a></p></li>
<li><p><a class="reference internal" href="#implementations" id="id3">Implementations</a></p></li>
</ul>
</nav>
<p id="module-searx.engines.presearch">Presearch supports the search types listed in <a class="reference internal" href="#searx.engines.presearch.search_type" title="searx.engines.presearch.search_type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search_type</span></code></a> (general,
images, videos, news).</p>
<p>Configured <code class="docutils literal notranslate"><span class="pre">presarch</span></code> engines:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">presearch</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">presearch</span>
<span class="w">  </span><span class="nt">search_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">search</span>
<span class="w">  </span><span class="nt">categories</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">general</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">web</span><span class="p p-Indicator">]</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">presearch images</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">  </span><span class="nt">search_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">images</span>
<span class="w">  </span><span class="nt">categories</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">images</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">web</span><span class="p p-Indicator">]</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">presearch videos</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">  </span><span class="nt">search_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">videos</span>
<span class="w">  </span><span class="nt">categories</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">general</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">web</span><span class="p p-Indicator">]</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">presearch news</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">  </span><span class="nt">search_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">news</span>
<span class="w">  </span><span class="nt">categories</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">news</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">web</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>By default Presearch’s video category is intentionally placed into:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">categories</span><span class="p">:</span> <span class="p">[</span><span class="n">general</span><span class="p">,</span> <span class="n">web</span><span class="p">]</span>
</pre></div>
</div>
</div>
<section id="search-type-video">
<h6 aria-level="7"><a class="toc-backref" href="#id1" role="doc-backlink">Search type <code class="docutils literal notranslate"><span class="pre">video</span></code></a><a class="headerlink" href="#search-type-video" title="Link to this heading">¶</a></h6>
<p>The results in the video category are most often links to pages that contain a
video, for instance many links from Preasearch’s video category link content
from facebook (aka Meta) or Twitter (aka X).  Since these are not real links to
video streams SearXNG can’t use the video template for this and if SearXNG can’t
use this template, then the user doesn’t want to see these hits in the videos
category.</p>
</section>
<section id="languages-regions">
<h6 aria-level="7"><a class="toc-backref" href="#id2" role="doc-backlink">Languages &amp; Regions</a><a class="headerlink" href="#languages-regions" title="Link to this heading">¶</a></h6>
<p>In Presearch there are languages for the UI and regions for narrowing down the
search.  If we set “auto” for the region in the WEB-UI of Presearch and cookie
<code class="docutils literal notranslate"><span class="pre">use_local_search_results=false</span></code>, then the defaults are set for both (the
language and the region) from the <code class="docutils literal notranslate"><span class="pre">Accept-Language</span></code> header.</p>
<p>Since the region is already “auto” by default, we only need to set the
<code class="docutils literal notranslate"><span class="pre">use_local_search_results</span></code> cookie and send the <code class="docutils literal notranslate"><span class="pre">Accept-Language</span></code> header.  We
have to set these values in both requests we send to Presearch; in the first
request to get the request-ID from Presearch and in the final request to get the
result list (see <code class="docutils literal notranslate"><span class="pre">send_accept_language_header</span></code>).</p>
<p>The time format returned by Presearch varies depending on the language set.
Multiple different formats can be supported by using <code class="docutils literal notranslate"><span class="pre">dateutil</span></code> parser, but
it doesn’t support formats such as “N time ago”, “vor N time” (German),
“Hace N time” (Spanish). Because of this, the dates are simply joined together
with the rest of other metadata.</p>
</section>
<section id="implementations">
<h6 aria-level="7"><a class="toc-backref" href="#id3" role="doc-backlink">Implementations</a><a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.presearch.search_type">
<span class="sig-prename descclassname"><span class="pre">searx.engines.presearch.</span></span><span class="sig-name descname"><span class="pre">search_type</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'search'</span></em><a class="headerlink" href="#searx.engines.presearch.search_type" title="Link to this definition">¶</a></dt>
<dd><p>must be any of <code class="docutils literal notranslate"><span class="pre">search</span></code>, <code class="docutils literal notranslate"><span class="pre">images</span></code>, <code class="docutils literal notranslate"><span class="pre">videos</span></code>, <code class="docutils literal notranslate"><span class="pre">news</span></code></p>
</dd></dl>

</section>
<span id="document-dev/engines/online/qwant"></span><section id="qwant">
<span id="qwant-engine"></span><h6>Qwant<a class="headerlink" href="#qwant" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#configuration" id="id1">Configuration</a></p></li>
<li><p><a class="reference internal" href="#implementations" id="id2">Implementations</a></p></li>
</ul>
</nav>
<p id="module-searx.engines.qwant">This engine uses the Qwant API (<a class="reference external" href="https://api.qwant.com/v3">https://api.qwant.com/v3</a>) to implement Qwant
-Web, -News, -Images and -Videos.  The API is undocumented but can be reverse
engineered by reading the network log of <a class="reference external" href="https://www.qwant.com/">https://www.qwant.com/</a> queries.</p>
<p>For Qwant’s <em>web-search</em> two alternatives are implemented:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">web</span></code>: uses the <a class="reference internal" href="#searx.engines.qwant.api_url" title="searx.engines.qwant.api_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">api_url</span></code></a> which returns a JSON structure</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">web-lite</span></code>: uses the <a class="reference internal" href="#searx.engines.qwant.web_lite_url" title="searx.engines.qwant.web_lite_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">web_lite_url</span></code></a> which returns a HTML page</p></li>
</ul>
<section id="configuration">
<h6 aria-level="7"><a class="toc-backref" href="#id1" role="doc-backlink">Configuration</a><a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>The engine has the following additional settings:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.qwant.qwant_categ" title="searx.engines.qwant.qwant_categ"><code class="xref py py-obj docutils literal notranslate"><span class="pre">qwant_categ</span></code></a></p></li>
</ul>
<p>This implementation is used by different qwant engines in the <a class="reference internal" href="#settings-engines"><span class="std std-ref">settings.yml</span></a>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">qwant</span>
<span class="w">  </span><span class="nt">qwant_categ</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">web-lite</span><span class="w">  </span><span class="c1"># alternatively use &#39;web&#39;</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">qwant news</span>
<span class="w">  </span><span class="nt">qwant_categ</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">news</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">qwant images</span>
<span class="w">  </span><span class="nt">qwant_categ</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">images</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">qwant videos</span>
<span class="w">  </span><span class="nt">qwant_categ</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">videos</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
</section>
<section id="implementations">
<h6 aria-level="7"><a class="toc-backref" href="#id2" role="doc-backlink">Implementations</a><a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.qwant.max_page">
<span class="sig-prename descclassname"><span class="pre">searx.engines.qwant.</span></span><span class="sig-name descname"><span class="pre">max_page</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">5</span></em><a class="headerlink" href="#searx.engines.qwant.max_page" title="Link to this definition">¶</a></dt>
<dd><p>5 pages maximum (<code class="docutils literal notranslate"><span class="pre">&amp;p=5</span></code>): Trying to do more just results in an improper
redirect</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.qwant.qwant_categ">
<span class="sig-prename descclassname"><span class="pre">searx.engines.qwant.</span></span><span class="sig-name descname"><span class="pre">qwant_categ</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#searx.engines.qwant.qwant_categ" title="Link to this definition">¶</a></dt>
<dd><p>One of <code class="docutils literal notranslate"><span class="pre">web-lite</span></code> (or <code class="docutils literal notranslate"><span class="pre">web</span></code>), <code class="docutils literal notranslate"><span class="pre">news</span></code>, <code class="docutils literal notranslate"><span class="pre">images</span></code> or <code class="docutils literal notranslate"><span class="pre">videos</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.qwant.api_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.qwant.</span></span><span class="sig-name descname"><span class="pre">api_url</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://api.qwant.com/v3/search/'</span></em><a class="headerlink" href="#searx.engines.qwant.api_url" title="Link to this definition">¶</a></dt>
<dd><p>URL of Qwant’s API (JSON)</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.qwant.web_lite_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.qwant.</span></span><span class="sig-name descname"><span class="pre">web_lite_url</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://lite.qwant.com/'</span></em><a class="headerlink" href="#searx.engines.qwant.web_lite_url" title="Link to this definition">¶</a></dt>
<dd><p>URL of Qwant-Lite (HTML)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.qwant.request">
<span class="sig-prename descclassname"><span class="pre">searx.engines.qwant.</span></span><span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.qwant.request" title="Link to this definition">¶</a></dt>
<dd><p>Qwant search request</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.qwant.parse_web_lite">
<span class="sig-prename descclassname"><span class="pre">searx.engines.qwant.</span></span><span class="sig-name descname"><span class="pre">parse_web_lite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.qwant.parse_web_lite" title="Link to this definition">¶</a></dt>
<dd><p>Parse results from Qwant-Lite</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.qwant.parse_web_api">
<span class="sig-prename descclassname"><span class="pre">searx.engines.qwant.</span></span><span class="sig-name descname"><span class="pre">parse_web_api</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.qwant.parse_web_api" title="Link to this definition">¶</a></dt>
<dd><p>Parse results from Qwant’s API</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/radio_browser"></span><section id="radiobrowser">
<span id="radiobrowser-engine"></span><h6>RadioBrowser<a class="headerlink" href="#radiobrowser" title="Link to this heading">¶</a></h6>
<p id="module-searx.engines.radio_browser">Search radio stations from RadioBrowser by <a class="reference external" href="https://de1.api.radio-browser.info/#Advanced_station_search">Advanced station search API</a>.</p>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.radio_browser.station_filters">
<span class="sig-prename descclassname"><span class="pre">searx.engines.radio_browser.</span></span><span class="sig-name descname"><span class="pre">station_filters</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#searx.engines.radio_browser.station_filters" title="Link to this definition">¶</a></dt>
<dd><p>A list of filters to be applied to the search of radio stations.  By default
none filters are applied. Valid filters are:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">language</span></code></dt><dd><p>Filter stations by selected language.  For instance the <code class="docutils literal notranslate"><span class="pre">de</span></code> from <code class="docutils literal notranslate"><span class="pre">:de-AU</span></code>
will be translated to <cite>german</cite> and used in the argument <code class="docutils literal notranslate"><span class="pre">language=</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">countrycode</span></code></dt><dd><p>Filter stations by selected country.  The 2-digit countrycode of the station
comes from the region the user selected.  For instance <code class="docutils literal notranslate"><span class="pre">:de-AU</span></code> will filter
out all stations not in <code class="docutils literal notranslate"><span class="pre">AU</span></code>.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>RadioBrowser has registered a lot of languages and countrycodes unknown to
<code class="xref py py-obj docutils literal notranslate"><span class="pre">babel</span></code> and note that when searching for radio stations, users are
more likely to search by name than by region or language.</p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.radio_browser.CACHE">
<span class="sig-prename descclassname"><span class="pre">searx.engines.radio_browser.</span></span><span class="sig-name descname"><span class="pre">CACHE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#searx.enginelib.EngineCache" title="searx.enginelib.EngineCache"><span class="pre">EngineCache</span></a></em><a class="headerlink" href="#searx.engines.radio_browser.CACHE" title="Link to this definition">¶</a></dt>
<dd><p>Persistent (SQLite) key/value cache that deletes its values after <code class="docutils literal notranslate"><span class="pre">expire</span></code>
seconds.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.radio_browser.fetch_traits">
<span class="sig-prename descclassname"><span class="pre">searx.engines.radio_browser.</span></span><span class="sig-name descname"><span class="pre">fetch_traits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_traits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><span class="pre">EngineTraits</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.radio_browser.fetch_traits" title="Link to this definition">¶</a></dt>
<dd><p>Fetch languages and countrycodes from RadioBrowser</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">traits.languages</span></code>: <a class="reference external" href="https://de1.api.radio-browser.info/#List_of_languages">list of languages API</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">traits.custom['countrycodes']</span></code>: <a class="reference external" href="https://de1.api.radio-browser.info/#List_of_countries">list of countries API</a></p></li>
</ul>
</dd></dl>

</section>
<span id="document-dev/engines/online/recoll"></span><section id="recoll-engine">
<span id="engine-recoll"></span><h6>Recoll Engine<a class="headerlink" href="#recoll-engine" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#configuration" id="id1">Configuration</a></p></li>
<li><p><a class="reference internal" href="#example" id="id2">Example</a></p></li>
<li><p><a class="reference internal" href="#implementations" id="id3">Implementations</a></p></li>
</ul>
</nav>
<aside class="sidebar" id="module-searx.engines.recoll">
<p class="sidebar-title">info</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.lesbonscomptes.com/recoll/">Recoll</a></p></li>
<li><p><a class="reference external" href="https://framagit.org/medoc92/recollwebui.git">recoll-webui</a></p></li>
<li><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/recoll.py">git://searx/engines/recoll.py</a></p></li>
</ul>
</aside>
<p><a class="reference external" href="https://www.lesbonscomptes.com/recoll/">Recoll</a> is a desktop full-text search tool based on Xapian.  By itself <a class="reference external" href="https://www.lesbonscomptes.com/recoll/">Recoll</a>
does not offer WEB or API access, this can be achieved using <a class="reference external" href="https://framagit.org/medoc92/recollwebui.git">recoll-webui</a></p>
<section id="configuration">
<h6 aria-level="7"><a class="toc-backref" href="#id1" role="doc-backlink">Configuration</a><a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>You must configure the following settings:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">base_url</span></code>:</dt><dd><p>Location where recoll-webui can be reached.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mount_prefix</span></code>:</dt><dd><p>Location where the file hierarchy is mounted on your <em>local</em> filesystem.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dl_prefix</span></code>:</dt><dd><p>Location where the file hierarchy as indexed by recoll can be reached.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">search_dir</span></code>:</dt><dd><p>Part of the indexed file hierarchy to be search, if empty the full domain is
searched.</p>
</dd>
</dl>
</section>
<section id="example">
<h6 aria-level="7"><a class="toc-backref" href="#id2" role="doc-backlink">Example</a><a class="headerlink" href="#example" title="Link to this heading">¶</a></h6>
<p>Scenario:</p>
<ol class="arabic simple">
<li><p>Recoll indexes a local filesystem mounted in <code class="docutils literal notranslate"><span class="pre">/export/documents/reference</span></code>,</p></li>
<li><p>the Recoll search interface can be reached at <a class="reference external" href="https://recoll.example.org/">https://recoll.example.org/</a> and</p></li>
<li><p>the contents of this filesystem can be reached though <a class="reference external" href="https://download.example.org/reference">https://download.example.org/reference</a></p></li>
</ol>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">base_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://recoll.example.org/</span>
<span class="nt">mount_prefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/export/documents</span>
<span class="nt">dl_prefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://download.example.org</span>
<span class="nt">search_dir</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&#39;</span>
</pre></div>
</div>
</section>
<section id="implementations">
<h6 aria-level="7"><a class="toc-backref" href="#id3" role="doc-backlink">Implementations</a><a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
</section>
<span id="document-dev/engines/online/reuters"></span><section id="module-searx.engines.reuters">
<span id="reuters"></span><span id="reuters-engine"></span><h6>Reuters<a class="headerlink" href="#module-searx.engines.reuters" title="Link to this heading">¶</a></h6>
<p><a class="reference external" href="https://www.reuters.com">Reuters</a> (news) is an international news agency.</p>
<section id="configuration">
<h6 aria-level="7">Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>The engine has the following additional settings:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.reuters.sort_order" title="searx.engines.reuters.sort_order"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sort_order</span></code></a></p></li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">reuters</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">reuters</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">reu</span>
<span class="w">  </span><span class="nt">sort_order</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;relevance&quot;</span>
</pre></div>
</div>
</section>
<section id="implementations">
<h6 aria-level="7">Implementations<a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.reuters.sort_order">
<span class="sig-prename descclassname"><span class="pre">searx.engines.reuters.</span></span><span class="sig-name descname"><span class="pre">sort_order</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'relevance'</span></em><a class="headerlink" href="#searx.engines.reuters.sort_order" title="Link to this definition">¶</a></dt>
<dd><p>Sort order, one of <code class="docutils literal notranslate"><span class="pre">relevance</span></code>, <code class="docutils literal notranslate"><span class="pre">display_date:desc</span></code> or <code class="docutils literal notranslate"><span class="pre">display_data:asc</span></code>.</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/seekr"></span><section id="seekr-engines">
<span id="seekr-engine"></span><h6>Seekr Engines<a class="headerlink" href="#seekr-engines" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#configuration" id="id1">Configuration</a></p></li>
<li><p><a class="reference internal" href="#known-quirks" id="id2">Known Quirks</a></p></li>
<li><p><a class="reference internal" href="#implementations" id="id3">Implementations</a></p></li>
</ul>
</nav>
<p id="module-searx.engines.seekr">seekr.com Seeker Score</p>
<p>Seekr is a privately held search and content evaluation engine that prioritizes
credibility over popularity.</p>
<section id="configuration">
<h6 aria-level="7"><a class="toc-backref" href="#id1" role="doc-backlink">Configuration</a><a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>The engine has the following additional settings:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.seekr.seekr_category" title="searx.engines.seekr.seekr_category"><code class="xref py py-obj docutils literal notranslate"><span class="pre">seekr_category</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.seekr.api_key" title="searx.engines.seekr.api_key"><code class="xref py py-obj docutils literal notranslate"><span class="pre">api_key</span></code></a></p></li>
</ul>
<p>This implementation is used by seekr engines in the <a class="reference internal" href="#settings-engines"><span class="std std-ref">settings.yml</span></a>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">seekr news</span>
<span class="w">  </span><span class="nt">seekr_category</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">news</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">seekr images</span>
<span class="w">  </span><span class="nt">seekr_category</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">images</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">seekr videos</span>
<span class="w">  </span><span class="nt">seekr_category</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">videos</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
</section>
<section id="known-quirks">
<h6 aria-level="7"><a class="toc-backref" href="#id2" role="doc-backlink">Known Quirks</a><a class="headerlink" href="#known-quirks" title="Link to this heading">¶</a></h6>
<p>The implementation to support <a class="reference internal" href="#searx.enginelib.Engine.paging" title="searx.enginelib.Engine.paging"><code class="xref py py-obj docutils literal notranslate"><span class="pre">paging</span></code></a>
is based on the <em>nextpage</em> method of Seekr’s REST API.  This feature is <em>next
page driven</em> and plays well with the <a class="reference internal" href="#settings-ui"><span class="std std-ref">infinite_scroll</span></a>
setting in SearXNG but it does not really fit into SearXNG’s UI to select a page
by number.</p>
</section>
<section id="implementations">
<h6 aria-level="7"><a class="toc-backref" href="#id3" role="doc-backlink">Implementations</a><a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.seekr.api_key">
<span class="sig-prename descclassname"><span class="pre">searx.engines.seekr.</span></span><span class="sig-name descname"><span class="pre">api_key</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'srh1-22fb-sekr'</span></em><a class="headerlink" href="#searx.engines.seekr.api_key" title="Link to this definition">¶</a></dt>
<dd><p>API key / reversed engineered / is still the same one since 2022.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.seekr.seekr_category">
<span class="sig-prename descclassname"><span class="pre">searx.engines.seekr.</span></span><span class="sig-name descname"><span class="pre">seekr_category</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'unset'</span></em><a class="headerlink" href="#searx.engines.seekr.seekr_category" title="Link to this definition">¶</a></dt>
<dd><p>Search category, any of <code class="docutils literal notranslate"><span class="pre">news</span></code>, <code class="docutils literal notranslate"><span class="pre">videos</span></code> or <code class="docutils literal notranslate"><span class="pre">images</span></code>.</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/soundcloud"></span><section id="soundcloud">
<span id="soundcloud-engine"></span><h6>Soundcloud<a class="headerlink" href="#soundcloud" title="Link to this heading">¶</a></h6>
<p id="module-searx.engines.soundcloud">SoundCloud is a German audio streaming service.</p>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.soundcloud.search_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.soundcloud.</span></span><span class="sig-name descname"><span class="pre">search_url</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://api-v2.soundcloud.com/search'</span></em><a class="headerlink" href="#searx.engines.soundcloud.search_url" title="Link to this definition">¶</a></dt>
<dd><p>This is not the official (developer) url, it is the API which is used by the
HTML frontend of the common WEB site.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.soundcloud.CACHE">
<span class="sig-prename descclassname"><span class="pre">searx.engines.soundcloud.</span></span><span class="sig-name descname"><span class="pre">CACHE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#searx.enginelib.EngineCache" title="searx.enginelib.EngineCache"><span class="pre">EngineCache</span></a></em><a class="headerlink" href="#searx.engines.soundcloud.CACHE" title="Link to this definition">¶</a></dt>
<dd><p>Persistent (SQLite) key/value cache that deletes its values after <code class="docutils literal notranslate"><span class="pre">expire</span></code>
seconds.</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/startpage"></span><section id="startpage-engines">
<span id="id1"></span><h6>Startpage Engines<a class="headerlink" href="#startpage-engines" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#startpage-regions" id="id9">Startpage regions</a></p></li>
<li><p><a class="reference internal" href="#startpage-languages" id="id10">Startpage languages</a></p></li>
<li><p><a class="reference internal" href="#startpage-categories" id="id11">Startpage categories</a></p></li>
</ul>
</nav>
<p id="module-searx.engines.startpage">Startpage’s language &amp; region selectors are a mess ..</p>
<section id="startpage-regions">
<span id="id2"></span><h6 aria-level="7"><a class="toc-backref" href="#id9" role="doc-backlink">Startpage regions</a><a class="headerlink" href="#startpage-regions" title="Link to this heading">¶</a></h6>
<p>In the list of regions there are tags we need to map to common region tags:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pt</span><span class="o">-</span><span class="n">BR_BR</span> <span class="o">--&gt;</span> <span class="n">pt_BR</span>
<span class="n">zh</span><span class="o">-</span><span class="n">CN_CN</span> <span class="o">--&gt;</span> <span class="n">zh_Hans_CN</span>
<span class="n">zh</span><span class="o">-</span><span class="n">TW_TW</span> <span class="o">--&gt;</span> <span class="n">zh_Hant_TW</span>
<span class="n">zh</span><span class="o">-</span><span class="n">TW_HK</span> <span class="o">--&gt;</span> <span class="n">zh_Hant_HK</span>
<span class="n">en</span><span class="o">-</span><span class="n">GB_GB</span> <span class="o">--&gt;</span> <span class="n">en_GB</span>
</pre></div>
</div>
<p>and there is at least one tag with a three letter language tag (ISO 639-2):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fil_PH</span> <span class="o">--&gt;</span> <span class="n">fil_PH</span>
</pre></div>
</div>
<p>The locale code <code class="docutils literal notranslate"><span class="pre">no_NO</span></code> from Startpage does not exists and is mapped to
<code class="docutils literal notranslate"><span class="pre">nb-NO</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">babel</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">UnknownLocaleError</span><span class="p">:</span> <span class="n">unknown</span> <span class="n">locale</span> <span class="s1">&#39;no_NO&#39;</span>
</pre></div>
</div>
<p>For reference see languages-subtag at iana; <code class="docutils literal notranslate"><span class="pre">no</span></code> is the macrolanguage <a class="footnote-reference brackets" href="#id5" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> and
W3C recommends subtag over macrolanguage <a class="footnote-reference brackets" href="#id6" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>.</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id5" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry">iana: language-subtag-registry</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">:</span> <span class="n">language</span>
<span class="n">Subtag</span><span class="p">:</span> <span class="n">nb</span>
<span class="n">Description</span><span class="p">:</span> <span class="n">Norwegian</span> <span class="n">Bokmål</span>
<span class="n">Added</span><span class="p">:</span> <span class="mi">2005</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">16</span>
<span class="n">Suppress</span><span class="o">-</span><span class="n">Script</span><span class="p">:</span> <span class="n">Latn</span>
<span class="n">Macrolanguage</span><span class="p">:</span> <span class="n">no</span>
</pre></div>
</div>
</aside>
<aside class="footnote brackets" id="id6" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">2</a><span class="fn-bracket">]</span></span>
<p>Use macrolanguages with care.  Some language subtags have a Scope field set to
macrolanguage, i.e. this primary language subtag encompasses a number of more
specific primary language subtags in the registry.  …  As we recommended for
the collection subtags mentioned above, in most cases you should try to use
the more specific subtags … <a class="reference external" href="https://www.w3.org/International/questions/qa-choosing-language-tags#langsubtag">W3: The primary language subtag</a></p>
</aside>
</aside>
</section>
<section id="startpage-languages">
<span id="id7"></span><h6 aria-level="7"><a class="toc-backref" href="#id10" role="doc-backlink">Startpage languages</a><a class="headerlink" href="#startpage-languages" title="Link to this heading">¶</a></h6>
<dl>
<dt><a class="reference internal" href="#searx.engines.startpage.send_accept_language_header" title="searx.engines.startpage.send_accept_language_header"><code class="xref py py-obj docutils literal notranslate"><span class="pre">send_accept_language_header</span></code></a>:</dt><dd><p>The displayed name in Startpage’s settings page depend on the location of the
IP when <code class="docutils literal notranslate"><span class="pre">Accept-Language</span></code> HTTP header is unset.  In <a class="reference internal" href="#searx.engines.startpage.fetch_traits" title="searx.engines.startpage.fetch_traits"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fetch_traits</span></code></a>
we use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;Accept-Language&#39;</span><span class="p">:</span> <span class="s2">&quot;en-US,en;q=0.5&quot;</span><span class="p">,</span>
<span class="o">..</span>
</pre></div>
</div>
<p>to get uniform names independent from the IP).</p>
</dd>
</dl>
</section>
<section id="startpage-categories">
<span id="id8"></span><h6 aria-level="7"><a class="toc-backref" href="#id11" role="doc-backlink">Startpage categories</a><a class="headerlink" href="#startpage-categories" title="Link to this heading">¶</a></h6>
<p>Startpage’s category (for Web-search, News, Videos, ..) is set by
<a class="reference internal" href="#searx.engines.startpage.startpage_categ" title="searx.engines.startpage.startpage_categ"><code class="xref py py-obj docutils literal notranslate"><span class="pre">startpage_categ</span></code></a> in  settings.yml:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">startpage</span>
  <span class="n">engine</span><span class="p">:</span> <span class="n">startpage</span>
  <span class="n">startpage_categ</span><span class="p">:</span> <span class="n">web</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Supported categories are <code class="docutils literal notranslate"><span class="pre">web</span></code>, <code class="docutils literal notranslate"><span class="pre">news</span></code> and <code class="docutils literal notranslate"><span class="pre">images</span></code>.</p>
</div>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.startpage.startpage_categ">
<span class="sig-prename descclassname"><span class="pre">searx.engines.startpage.</span></span><span class="sig-name descname"><span class="pre">startpage_categ</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'web'</span></em><a class="headerlink" href="#searx.engines.startpage.startpage_categ" title="Link to this definition">¶</a></dt>
<dd><p>Startpage’s category, visit <a class="reference internal" href="#startpage-categories"><span class="std std-ref">Startpage categories</span></a>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.startpage.send_accept_language_header">
<span class="sig-prename descclassname"><span class="pre">searx.engines.startpage.</span></span><span class="sig-name descname"><span class="pre">send_accept_language_header</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#searx.engines.startpage.send_accept_language_header" title="Link to this definition">¶</a></dt>
<dd><p>Startpage tries to guess user’s language and territory from the HTTP
<code class="docutils literal notranslate"><span class="pre">Accept-Language</span></code>.  Optional the user can select a search-language (can be
different to the UI language) and a region filter.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.startpage.max_page">
<span class="sig-prename descclassname"><span class="pre">searx.engines.startpage.</span></span><span class="sig-name descname"><span class="pre">max_page</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">18</span></em><a class="headerlink" href="#searx.engines.startpage.max_page" title="Link to this definition">¶</a></dt>
<dd><p>Tested 18 pages maximum (argument <code class="docutils literal notranslate"><span class="pre">page</span></code>), to be save max is set to 20.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.startpage.search_form_xpath">
<span class="sig-prename descclassname"><span class="pre">searx.engines.startpage.</span></span><span class="sig-name descname"><span class="pre">search_form_xpath</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'//form[&#64;id=&quot;search&quot;]'</span></em><a class="headerlink" href="#searx.engines.startpage.search_form_xpath" title="Link to this definition">¶</a></dt>
<dd><p>XPath of Startpage’s origin search form</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.startpage.CACHE">
<span class="sig-prename descclassname"><span class="pre">searx.engines.startpage.</span></span><span class="sig-name descname"><span class="pre">CACHE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#searx.enginelib.EngineCache" title="searx.enginelib.EngineCache"><span class="pre">EngineCache</span></a></em><a class="headerlink" href="#searx.engines.startpage.CACHE" title="Link to this definition">¶</a></dt>
<dd><p>Persistent (SQLite) key/value cache that deletes its values after <code class="docutils literal notranslate"><span class="pre">expire</span></code>
seconds.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.startpage.sc_code_cache_sec">
<span class="sig-prename descclassname"><span class="pre">searx.engines.startpage.</span></span><span class="sig-name descname"><span class="pre">sc_code_cache_sec</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3600</span></em><a class="headerlink" href="#searx.engines.startpage.sc_code_cache_sec" title="Link to this definition">¶</a></dt>
<dd><p>Time in seconds the sc-code is cached in memory <a class="reference internal" href="#searx.engines.startpage.get_sc_code" title="searx.engines.startpage.get_sc_code"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_sc_code</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.startpage.get_sc_code">
<span class="sig-prename descclassname"><span class="pre">searx.engines.startpage.</span></span><span class="sig-name descname"><span class="pre">get_sc_code</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">searxng_locale</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.startpage.get_sc_code" title="Link to this definition">¶</a></dt>
<dd><p>Get an actual <code class="docutils literal notranslate"><span class="pre">sc</span></code> argument from Startpage’s search form (HTML page).</p>
<p>Startpage puts a <code class="docutils literal notranslate"><span class="pre">sc</span></code> argument on every HTML <a class="reference internal" href="#searx.engines.startpage.search_form_xpath" title="searx.engines.startpage.search_form_xpath"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search</span> <span class="pre">form</span></code></a>.  Without this argument Startpage considers the request
is from a bot.  We do not know what is encoded in the value of the <code class="docutils literal notranslate"><span class="pre">sc</span></code>
argument, but it seems to be a kind of a <em>timestamp</em>.</p>
<p>Startpage’s search form generates a new sc-code on each request.  This
function scrapes a new sc-code from Startpage’s home page every
<a class="reference internal" href="#searx.engines.startpage.sc_code_cache_sec" title="searx.engines.startpage.sc_code_cache_sec"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sc_code_cache_sec</span></code></a> seconds.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.startpage.request">
<span class="sig-prename descclassname"><span class="pre">searx.engines.startpage.</span></span><span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.startpage.request" title="Link to this definition">¶</a></dt>
<dd><p>Assemble a Startpage request.</p>
<p>To avoid CAPTCHAs we need to send a well formed HTTP POST request with a
cookie. We need to form a request that is identical to the request built by
Startpage’s search form:</p>
<ul class="simple">
<li><p>in the cookie the <strong>region</strong> is selected</p></li>
<li><p>in the HTTP POST data the <strong>language</strong> is selected</p></li>
</ul>
<p>Additionally the arguments form Startpage’s search form needs to be set in
HTML POST data / compare <code class="docutils literal notranslate"><span class="pre">&lt;input&gt;</span></code> elements: <a class="reference internal" href="#searx.engines.startpage.search_form_xpath" title="searx.engines.startpage.search_form_xpath"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search_form_xpath</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.startpage.fetch_traits">
<span class="sig-prename descclassname"><span class="pre">searx.engines.startpage.</span></span><span class="sig-name descname"><span class="pre">fetch_traits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_traits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><span class="pre">EngineTraits</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.startpage.fetch_traits" title="Link to this definition">¶</a></dt>
<dd><p>Fetch <a class="reference internal" href="#startpage-languages"><span class="std std-ref">languages</span></a> and <a class="reference internal" href="#startpage-regions"><span class="std std-ref">regions</span></a> from Startpage.</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/tagesschau"></span><section id="tagesschau-api">
<span id="tagesschau-engine"></span><h6>Tagesschau API<a class="headerlink" href="#tagesschau-api" title="Link to this heading">¶</a></h6>
<p id="module-searx.engines.tagesschau">ARD: <a class="reference external" href="https://github.com/AndreasFischer1985/tagesschau-api/blob/main/README_en.md">Tagesschau API</a></p>
<p>The Tagesschau is a news program of the ARD.  Via the <a class="reference external" href="https://github.com/AndreasFischer1985/tagesschau-api/blob/main/README_en.md">Tagesschau API</a>, current
news and media reports are available in JSON format.  The <a class="reference external" href="https://github.com/bundesAPI">Bundesstelle für Open
Data</a> offers a <a class="reference external" href="https://swagger.io/specification/">OpenAPI</a> portal at <a class="reference external" href="https://bund.dev/apis">bundDEV</a> where APIs are documented an can
be tested.</p>
<p>This SearXNG engine uses the <a class="reference external" href="http://tagesschau.api.bund.dev/">/api2u/search</a> API.</p>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.tagesschau.use_source_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.tagesschau.</span></span><span class="sig-name descname"><span class="pre">use_source_url</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#searx.engines.tagesschau.use_source_url" title="Link to this definition">¶</a></dt>
<dd><p>When set to false, display URLs from Tagesschau, and not the actual source
(e.g. NDR, WDR, SWR, HR, …)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The actual source may contain additional content, such as commentary, that is
not displayed in the Tagesschau.</p>
</div>
</dd></dl>

</section>
<span id="document-dev/engines/online/torznab"></span><section id="torznab-webapi">
<span id="torznab-engine"></span><h6>Torznab WebAPI<a class="headerlink" href="#torznab-webapi" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#configuration" id="id1">Configuration</a></p></li>
<li><p><a class="reference internal" href="#implementations" id="id2">Implementations</a></p></li>
</ul>
</nav>
<p id="module-searx.engines.torznab"><a class="reference external" href="https://torznab.github.io/spec-1.3-draft/index.html">Torznab</a> is an API specification that provides a standardized way to query
torrent site for content. It is used by a number of torrent applications,
including <a class="reference external" href="https://github.com/Prowlarr/Prowlarr">Prowlarr</a> and <a class="reference external" href="https://github.com/Jackett/Jackett">Jackett</a>.</p>
<p>Using this engine together with <a class="reference external" href="https://github.com/Prowlarr/Prowlarr">Prowlarr</a> or <a class="reference external" href="https://github.com/Jackett/Jackett">Jackett</a> allows you to search
a huge number of torrent sites which are not directly supported.</p>
<section id="configuration">
<h6 aria-level="7"><a class="toc-backref" href="#id1" role="doc-backlink">Configuration</a><a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>The engine has the following settings:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">base_url</span></code>:</dt><dd><p>Torznab endpoint URL.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">api_key</span></code>:</dt><dd><p>The API key to use for authentication.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">torznab_categories</span></code>:</dt><dd><p>The categories to use for searching. This is a list of category IDs.  See
<a class="reference external" href="https://wiki.servarr.com/en/prowlarr/cardigann-yml-definition#categories">Prowlarr-categories</a> or <a class="reference external" href="https://github.com/Jackett/Jackett/wiki/Jackett-Categories">Jackett-categories</a> for more information.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">show_torrent_files</span></code>:</dt><dd><p>Whether to show the torrent file in the search results.  Be careful as using
this with <a class="reference external" href="https://github.com/Prowlarr/Prowlarr">Prowlarr</a> or <a class="reference external" href="https://github.com/Jackett/Jackett">Jackett</a> leaks the API key.  This should be used only
if you are querying a Torznab endpoint without authentication or if the
instance is private.  Be aware that private trackers may ban you if you share
the torrent file.  Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">show_magnet_links</span></code>:</dt><dd><p>Whether to show the magnet link in the search results.  Be aware that private
trackers may ban you if you share the magnet link.  Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
</dd>
</dl>
</section>
<section id="implementations">
<h6 aria-level="7"><a class="toc-backref" href="#id2" role="doc-backlink">Implementations</a><a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.torznab.init">
<span class="sig-prename descclassname"><span class="pre">searx.engines.torznab.</span></span><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.torznab.init" title="Link to this definition">¶</a></dt>
<dd><p>Initialize the engine.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.torznab.request">
<span class="sig-prename descclassname"><span class="pre">searx.engines.torznab.</span></span><span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#searx.engines.torznab.request" title="Link to this definition">¶</a></dt>
<dd><p>Build the request params.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.torznab.response">
<span class="sig-prename descclassname"><span class="pre">searx.engines.torznab.</span></span><span class="sig-name descname"><span class="pre">response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">httpx.Response</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#searx.engines.torznab.response" title="Link to this definition">¶</a></dt>
<dd><p>Parse the XML response and return a list of results.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.torznab.build_result">
<span class="sig-prename descclassname"><span class="pre">searx.engines.torznab.</span></span><span class="sig-name descname"><span class="pre">build_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Element</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#searx.engines.torznab.build_result" title="Link to this definition">¶</a></dt>
<dd><p>Build a result from a XML item.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.torznab.get_attribute">
<span class="sig-prename descclassname"><span class="pre">searx.engines.torznab.</span></span><span class="sig-name descname"><span class="pre">get_attribute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Element</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">property_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#searx.engines.torznab.get_attribute" title="Link to this definition">¶</a></dt>
<dd><p>Get attribute from item.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.torznab.get_torznab_attribute">
<span class="sig-prename descclassname"><span class="pre">searx.engines.torznab.</span></span><span class="sig-name descname"><span class="pre">get_torznab_attribute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Element</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attribute_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#searx.engines.torznab.get_torznab_attribute" title="Link to this definition">¶</a></dt>
<dd><p>Get torznab special attribute from item.</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/tubearchivist"></span><section id="module-searx.engines.tubearchivist">
<span id="tube-archivist"></span><span id="tubearchivist-engine"></span><h6>Tube Archivist<a class="headerlink" href="#module-searx.engines.tubearchivist" title="Link to this heading">¶</a></h6>
<p><a class="reference external" href="https://www.tubearchivist.com">Tube Archivist</a> - <em>Your self hosted YouTube media server.</em></p>
<p>This engine connects with a self-hosted instance of <a class="reference external" href="https://www.tubearchivist.com">Tube Archivist</a> to allow
searching for your hosted videos.</p>
<p><a class="reference external" href="https://www.tubearchivist.com">Tube Archivist</a> (TA) requires authentication for all image loads via cookie
authentication.  What this means is that by default, SearXNG will have no way to
pull images from TA (as there is no way to pass cookies in a URL string only).</p>
<p>In the meantime while work is done on the TA side, this can be worked around by
bypassing auth for images in TA by altering the default TA nginx file.</p>
<p>This is located in the main tubearchivist docker container at:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">nginx</span><span class="o">/</span><span class="n">sites</span><span class="o">-</span><span class="n">available</span><span class="o">/</span><span class="n">default</span>
</pre></div>
</div>
<p>It is <strong>strongly</strong> recommended first setting up the intial connection and
verying searching works first with broken images, and then attempting this
change.  This will limit any debugging to only images, rather than
tokens/networking.</p>
<p>Steps to enable <strong>unauthenticated</strong> metadata access for channels and videos:</p>
<ol class="arabic">
<li><p>Perform any backups of TA before editing core configurations.</p></li>
<li><p>Copy the contents of the file <code class="docutils literal notranslate"><span class="pre">/etc/nginx/sites-available/default</span></code> in the
TA docker container</p></li>
<li><p>Edit <code class="docutils literal notranslate"><span class="pre">location</span> <span class="pre">/cache/videos</span></code> and <code class="docutils literal notranslate"><span class="pre">location</span> <span class="pre">/cache/channels</span></code>.  Comment
out the line <code class="docutils literal notranslate"><span class="pre">auth_request</span> <span class="pre">/api/ping/;</span></code> to <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">auth_request</span> <span class="pre">/api/ping/;</span></code>.</p></li>
<li><p>Save the file to wherever you normally store your docker configuration.</p></li>
<li><p>Mount this new configuration over the default configuration.  With <code class="docutils literal notranslate"><span class="pre">docker</span>
<span class="pre">run</span></code>, this would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">v</span> <span class="o">./</span><span class="n">your</span><span class="o">-</span><span class="n">new</span><span class="o">-</span><span class="n">config</span><span class="o">.</span><span class="n">yml</span><span class="p">:</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">nginx</span><span class="o">/</span><span class="n">sites</span><span class="o">-</span><span class="n">available</span><span class="o">/</span><span class="n">default</span>
</pre></div>
</div>
<p>With <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">compose</span></code>, this would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="s2">&quot;./your-new-config.yml:/etc/nginx/sites-available/default:ro&quot;</span>
</pre></div>
</div>
</li>
<li><p>Start the TA container.</p></li>
</ol>
<p>After these steps, double check that TA works as normal (nothing should be
different on the TA side).  Searching again should now show images.</p>
<section id="configuration">
<h6 aria-level="7">Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>The engine has the following required settings:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.tubearchivist.base_url" title="searx.engines.tubearchivist.base_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">base_url</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.tubearchivist.ta_token" title="searx.engines.tubearchivist.ta_token"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ta_token</span></code></a></p></li>
</ul>
<p>Optional settings:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.tubearchivist.ta_link_to_mp4" title="searx.engines.tubearchivist.ta_link_to_mp4"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ta_link_to_mp4</span></code></a></p></li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tubearchivist</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tubearchivist</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tuba</span>
<span class="w">  </span><span class="nt">base_url</span><span class="p">:</span>
<span class="w">  </span><span class="nt">ta_token</span><span class="p">:</span>
<span class="w">  </span><span class="nt">ta_link_to_mp4</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
</section>
<section id="implementations">
<h6 aria-level="7">Implementations<a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.tubearchivist.base_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.tubearchivist.</span></span><span class="sig-name descname"><span class="pre">base_url</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.tubearchivist.base_url" title="Link to this definition">¶</a></dt>
<dd><p>Base URL of the Tube Archivist instance.  Fill this in with your own
Tube Archivist URL (<code class="docutils literal notranslate"><span class="pre">http://your-instance:port</span></code>).</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.tubearchivist.ta_token">
<span class="sig-prename descclassname"><span class="pre">searx.engines.tubearchivist.</span></span><span class="sig-name descname"><span class="pre">ta_token</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.tubearchivist.ta_token" title="Link to this definition">¶</a></dt>
<dd><p>The API key to use for <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/Authorization">Authorization</a> header.  Can be found under:</p>
<blockquote>
<div><p><span class="menuselection">Settings ‣ User ‣ Admin Interface</span>.</p>
</div></blockquote>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.tubearchivist.ta_link_to_mp4">
<span class="sig-prename descclassname"><span class="pre">searx.engines.tubearchivist.</span></span><span class="sig-name descname"><span class="pre">ta_link_to_mp4</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#searx.engines.tubearchivist.ta_link_to_mp4" title="Link to this definition">¶</a></dt>
<dd><p>Optional, if true SearXNG will link directly to the mp4 of the video to play
in the browser.  The default behavior is to link into TubeArchivist’s interface
directly.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.tubearchivist.video_response">
<span class="sig-prename descclassname"><span class="pre">searx.engines.tubearchivist.</span></span><span class="sig-name descname"><span class="pre">video_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">results</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.result_types.EngineResults" title="searx.result_types.EngineResults"><span class="pre">EngineResults</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#searx.engines.tubearchivist.video_response" title="Link to this definition">¶</a></dt>
<dd><p>Parse video response from Tubearchivist instances.</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/void"></span><section id="void-linux-binary-packages">
<span id="voidlinux-engine"></span><h6>Void Linux binary packages<a class="headerlink" href="#void-linux-binary-packages" title="Link to this heading">¶</a></h6>
<p id="module-searx.engines.voidlinux">SearXNG engine for <a class="reference external" href="https://voidlinux.org/packages/">Void Linux binary packages</a>.  Void is a general purpose
operating system, based on the monolithic Linux kernel. Its package system
allows you to quickly install, update and remove software; software is provided
in binary packages or can be built directly from sources with the help of the
XBPS source packages collection.</p>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.voidlinux.void_arch">
<span class="sig-prename descclassname"><span class="pre">searx.engines.voidlinux.</span></span><span class="sig-name descname"><span class="pre">void_arch</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'x86_64'</span></em><a class="headerlink" href="#searx.engines.voidlinux.void_arch" title="Link to this definition">¶</a></dt>
<dd><p>Default architecture to search for.  For valid values see <a class="reference internal" href="#searx.engines.voidlinux.ARCH_RE" title="searx.engines.voidlinux.ARCH_RE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ARCH_RE</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.voidlinux.ARCH_RE">
<span class="sig-prename descclassname"><span class="pre">searx.engines.voidlinux.</span></span><span class="sig-name descname"><span class="pre">ARCH_RE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">re.compile('aarch64-musl|armv6l-musl|armv7l-musl|x86_64-musl|aarch64|armv6l|armv7l|i686|x86_64')</span></em><a class="headerlink" href="#searx.engines.voidlinux.ARCH_RE" title="Link to this definition">¶</a></dt>
<dd><p>Regular expression that match a architecture in the query string.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.voidlinux.response">
<span class="sig-prename descclassname"><span class="pre">searx.engines.voidlinux.</span></span><span class="sig-name descname"><span class="pre">response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.voidlinux.response" title="Link to this definition">¶</a></dt>
<dd><p>At Void Linux, several packages sometimes share the same source code
(template) and therefore also have the same URL.  Results with identical
URLs are merged as one result for SearXNG.</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/wallhaven"></span><section id="wallhaven">
<span id="wallhaven-engine"></span><h6>Wallhaven<a class="headerlink" href="#wallhaven" title="Link to this heading">¶</a></h6>
<p id="module-searx.engines.wallhaven"><a class="reference external" href="https://wallhaven.cc/about#Copyright">Wallhaven</a> is a site created by and for people who like wallpapers.</p>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.wallhaven.api_key">
<span class="sig-prename descclassname"><span class="pre">searx.engines.wallhaven.</span></span><span class="sig-name descname"><span class="pre">api_key</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.wallhaven.api_key" title="Link to this definition">¶</a></dt>
<dd><p>If you own an API key you can add it here, further read <a class="reference external" href="https://wallhaven.cc/help/api#limits">Rate Limiting and
Errors</a>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.wallhaven.safesearch_map">
<span class="sig-prename descclassname"><span class="pre">searx.engines.wallhaven.</span></span><span class="sig-name descname"><span class="pre">safesearch_map</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{0:</span> <span class="pre">'111',</span> <span class="pre">1:</span> <span class="pre">'110',</span> <span class="pre">2:</span> <span class="pre">'100'}</span></em><a class="headerlink" href="#searx.engines.wallhaven.safesearch_map" title="Link to this definition">¶</a></dt>
<dd><p>Turn purities on(1) or off(0) NSFW requires a valid API key.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>100/110/111 &lt;-- Bits stands for: SFW, Sketchy and NSFW
</pre></div>
</div>
<p><a class="reference external" href="https://wallhaven.cc/faq#What-are-SFW-Sketchy-and-NSFW-all-about">What are SFW, Sketchy and NSFW all about?</a>:</p>
<ul class="simple">
<li><p>SFW = “Safe for work” wallpapers.  <em>Grandma approves.</em></p></li>
<li><p>Sketchy = Not quite SFW not quite NSFW.  <em>Grandma might be uncomfortable.</em></p></li>
<li><p>NSFW = “Not safe for work”. <em>Grandma isn’t sure who you are anymore.</em></p></li>
</ul>
</dd></dl>

</section>
<span id="document-dev/engines/online/wikipedia"></span><section id="wikimedia">
<span id="wikimedia-engines"></span><h6>Wikimedia<a class="headerlink" href="#wikimedia" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#module-searx.engines.wikipedia" id="id1">Wikipedia</a></p></li>
<li><p><a class="reference internal" href="#module-searx.engines.wikidata" id="id2">Wikidata</a></p></li>
</ul>
</nav>
<section id="module-searx.engines.wikipedia">
<span id="wikipedia"></span><span id="wikipedia-engine"></span><h6 aria-level="7"><a class="toc-backref" href="#id1" role="doc-backlink">Wikipedia</a><a class="headerlink" href="#module-searx.engines.wikipedia" title="Link to this heading">¶</a></h6>
<p>This module implements the Wikipedia engine.  Some of this implementations
are shared by other engines:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#wikidata-engine"><span class="std std-ref">Wikidata</span></a></p></li>
</ul>
<p>The list of supported languages is <a class="reference internal" href="#searx.engines.wikipedia.fetch_wikimedia_traits" title="searx.engines.wikipedia.fetch_wikimedia_traits"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fetched</span></code></a> from
the article linked by <a class="reference internal" href="#searx.engines.wikipedia.list_of_wikipedias" title="searx.engines.wikipedia.list_of_wikipedias"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list_of_wikipedias</span></code></a>.</p>
<p>Unlike traditional search engines, wikipedia does not support one Wikipedia for
all languages, but there is one Wikipedia for each supported language. Some of
these Wikipedias have a <a class="reference external" href="https://www.mediawiki.org/wiki/Writing_systems#LanguageConverter">LanguageConverter</a> enabled
(<a class="reference internal" href="#searx.engines.wikipedia.rest_v1_summary_url" title="searx.engines.wikipedia.rest_v1_summary_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rest_v1_summary_url</span></code></a>).</p>
<p>A <a class="reference external" href="https://www.mediawiki.org/wiki/Writing_systems#LanguageConverter">LanguageConverter</a> (LC) is a system based on language variants that
automatically converts the content of a page into a different variant. A variant
is mostly the same language in a different script.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://meta.wikimedia.org/wiki/Wikipedias_in_multiple_writing_systems">Wikipedias in multiple writing systems</a></p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Chinese_Wikipedia#Automatic_conversion_between_traditional_and_simplified_Chinese_characters">Automatic conversion between traditional and simplified Chinese characters</a></p></li>
</ul>
<dl class="simple">
<dt><a class="reference external" href="https://github.com/searx/searx/pull/2554">PR-2554</a>:</dt><dd><p>The Wikipedia link returned by the API is still the same in all cases
(<a class="reference external" href="https://zh.wikipedia.org/wiki/%E5%87%BA%E7%A7%9F%E8%BB%8A">https://zh.wikipedia.org/wiki/出租車</a>) but if your browser’s
<code class="docutils literal notranslate"><span class="pre">Accept-Language</span></code> is set to any of <code class="docutils literal notranslate"><span class="pre">zh</span></code>, <code class="docutils literal notranslate"><span class="pre">zh-CN</span></code>, <code class="docutils literal notranslate"><span class="pre">zh-TW</span></code>, <code class="docutils literal notranslate"><span class="pre">zh-HK</span></code>
or .. Wikipedia’s LC automatically returns the desired script in their
web-page.</p>
<ul class="simple">
<li><p>You can test the API here: <a class="reference external" href="https://reqbin.com/gesg2kvx">https://reqbin.com/gesg2kvx</a></p></li>
</ul>
</dd>
</dl>
<p>To support Wikipedia’s <a class="reference external" href="https://www.mediawiki.org/wiki/Writing_systems#LanguageConverter">LanguageConverter</a>, a SearXNG request to Wikipedia uses
<a class="reference internal" href="#searx.engines.wikipedia.get_wiki_params" title="searx.engines.wikipedia.get_wiki_params"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_wiki_params</span></code></a> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">wiki_lc_locale_variants'</span> <span class="pre">in</span> <span class="pre">the</span>
<span class="pre">:py:obj:`fetch_wikimedia_traits</span></code> function.</p>
<p>To test in SearXNG, query for <code class="docutils literal notranslate"><span class="pre">!wp</span> <span class="pre">出租車</span></code> with each of the available Chinese
options:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">!wp</span> <span class="pre">出租車</span> <span class="pre">:zh</span></code>    should show 出租車</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">!wp</span> <span class="pre">出租車</span> <span class="pre">:zh-CN</span></code> should show 出租车</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">!wp</span> <span class="pre">出租車</span> <span class="pre">:zh-TW</span></code> should show 計程車</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">!wp</span> <span class="pre">出租車</span> <span class="pre">:zh-HK</span></code> should show 的士</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">!wp</span> <span class="pre">出租車</span> <span class="pre">:zh-SG</span></code> should show 德士</p></li>
</ul>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.wikipedia.display_type">
<span class="sig-prename descclassname"><span class="pre">searx.engines.wikipedia.</span></span><span class="sig-name descname"><span class="pre">display_type</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['infobox']</span></em><a class="headerlink" href="#searx.engines.wikipedia.display_type" title="Link to this definition">¶</a></dt>
<dd><p>A list of display types composed from <code class="docutils literal notranslate"><span class="pre">infobox</span></code> and <code class="docutils literal notranslate"><span class="pre">list</span></code>.  The latter
one will add a hit to the result list.  The first one will show a hit in the
info box.  Both values can be set, or one of the two can be set.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.wikipedia.send_accept_language_header">
<span class="sig-prename descclassname"><span class="pre">searx.engines.wikipedia.</span></span><span class="sig-name descname"><span class="pre">send_accept_language_header</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#searx.engines.wikipedia.send_accept_language_header" title="Link to this definition">¶</a></dt>
<dd><p>The HTTP <code class="docutils literal notranslate"><span class="pre">Accept-Language</span></code> header is needed for wikis where
<a class="reference external" href="https://www.mediawiki.org/wiki/Writing_systems#LanguageConverter">LanguageConverter</a> is enabled.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.wikipedia.list_of_wikipedias">
<span class="sig-prename descclassname"><span class="pre">searx.engines.wikipedia.</span></span><span class="sig-name descname"><span class="pre">list_of_wikipedias</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://meta.wikimedia.org/wiki/List_of_Wikipedias'</span></em><a class="headerlink" href="#searx.engines.wikipedia.list_of_wikipedias" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://meta.wikimedia.org/wiki/List_of_Wikipedias">List of all wikipedias</a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.wikipedia.wikipedia_article_depth">
<span class="sig-prename descclassname"><span class="pre">searx.engines.wikipedia.</span></span><span class="sig-name descname"><span class="pre">wikipedia_article_depth</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://meta.wikimedia.org/wiki/Wikipedia_article_depth'</span></em><a class="headerlink" href="#searx.engines.wikipedia.wikipedia_article_depth" title="Link to this definition">¶</a></dt>
<dd><p>The <em>editing depth</em> of Wikipedia is one of several possible rough indicators
of the encyclopedia’s collaborative quality, showing how frequently its articles
are updated.  The measurement of depth was introduced after some limitations of
the classic measurement of article count were realized.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.wikipedia.rest_v1_summary_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.wikipedia.</span></span><span class="sig-name descname"><span class="pre">rest_v1_summary_url</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://{wiki_netloc}/api/rest_v1/page/summary/{title}'</span></em><a class="headerlink" href="#searx.engines.wikipedia.rest_v1_summary_url" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt><a class="reference external" href="https://en.wikipedia.org/api/rest_v1/#/Page%20content/get_page_summary__title_">wikipedia rest_v1 summary API</a>:</dt><dd><p>The summary response includes an extract of the first paragraph of the page in
plain text and HTML as well as the type of page. This is useful for page
previews (fka. Hovercards, aka. Popups) on the web and link previews in the
apps.</p>
</dd>
<dt>HTTP <code class="docutils literal notranslate"><span class="pre">Accept-Language</span></code> header (<a class="reference internal" href="#searx.engines.wikipedia.send_accept_language_header" title="searx.engines.wikipedia.send_accept_language_header"><code class="xref py py-obj docutils literal notranslate"><span class="pre">send_accept_language_header</span></code></a>):</dt><dd><p>The desired language variant code for wikis where <a class="reference external" href="https://www.mediawiki.org/wiki/Writing_systems#LanguageConverter">LanguageConverter</a> is
enabled.</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.wikipedia.wiki_lc_locale_variants">
<span class="sig-prename descclassname"><span class="pre">searx.engines.wikipedia.</span></span><span class="sig-name descname"><span class="pre">wiki_lc_locale_variants</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'zh':</span> <span class="pre">('zh-CN',</span> <span class="pre">'zh-HK',</span> <span class="pre">'zh-MO',</span> <span class="pre">'zh-MY',</span> <span class="pre">'zh-SG',</span> <span class="pre">'zh-TW'),</span> <span class="pre">'zh-classical':</span> <span class="pre">('zh-classical',)}</span></em><a class="headerlink" href="#searx.engines.wikipedia.wiki_lc_locale_variants" title="Link to this definition">¶</a></dt>
<dd><p>Mapping rule of the <a class="reference external" href="https://www.mediawiki.org/wiki/Writing_systems#LanguageConverter">LanguageConverter</a> to map a language and its variants to
a Locale (used in the HTTP <code class="docutils literal notranslate"><span class="pre">Accept-Language</span></code> header). For example see <a class="reference external" href="https://meta.wikimedia.org/wiki/Wikipedias_in_multiple_writing_systems#Chinese">LC
Chinese</a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.wikipedia.get_wiki_params">
<span class="sig-prename descclassname"><span class="pre">searx.engines.wikipedia.</span></span><span class="sig-name descname"><span class="pre">get_wiki_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sxng_locale</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eng_traits</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.wikipedia.get_wiki_params" title="Link to this definition">¶</a></dt>
<dd><p>Returns the Wikipedia language tag and the netloc that fits to the
<code class="docutils literal notranslate"><span class="pre">sxng_locale</span></code>.  To support <a class="reference external" href="https://www.mediawiki.org/wiki/Writing_systems#LanguageConverter">LanguageConverter</a> this function rates a locale
(region) higher than a language (compare <a class="reference internal" href="#searx.engines.wikipedia.wiki_lc_locale_variants" title="searx.engines.wikipedia.wiki_lc_locale_variants"><code class="xref py py-obj docutils literal notranslate"><span class="pre">wiki_lc_locale_variants</span></code></a>).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.wikipedia.request">
<span class="sig-prename descclassname"><span class="pre">searx.engines.wikipedia.</span></span><span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.wikipedia.request" title="Link to this definition">¶</a></dt>
<dd><p>Assemble a request (<a class="reference external" href="https://en.wikipedia.org/api/rest_v1/#/Page%20content/get_page_summary__title_">wikipedia rest_v1 summary API</a>).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.wikipedia.fetch_wikimedia_traits">
<span class="sig-prename descclassname"><span class="pre">searx.engines.wikipedia.</span></span><span class="sig-name descname"><span class="pre">fetch_wikimedia_traits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_traits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><span class="pre">EngineTraits</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.wikipedia.fetch_wikimedia_traits" title="Link to this definition">¶</a></dt>
<dd><p>Fetch languages from Wikipedia.  Not all languages from the
<a class="reference internal" href="#searx.engines.wikipedia.list_of_wikipedias" title="searx.engines.wikipedia.list_of_wikipedias"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list_of_wikipedias</span></code></a> are supported by SearXNG locales, only those
known from <a class="reference internal" href="#searx.locales.LOCALE_NAMES" title="searx.locales.LOCALE_NAMES"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.locales.LOCALE_NAMES</span></code></a> or those with a minimal
<a class="reference internal" href="#searx.engines.wikipedia.wikipedia_article_depth" title="searx.engines.wikipedia.wikipedia_article_depth"><code class="xref py py-obj docutils literal notranslate"><span class="pre">editing</span> <span class="pre">depth</span></code></a>.</p>
<p>The location of the Wikipedia address of a language is mapped in a
<a class="reference internal" href="#searx.enginelib.traits.EngineTraits.custom" title="searx.enginelib.traits.EngineTraits.custom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">custom</span> <span class="pre">field</span></code></a>
(<code class="docutils literal notranslate"><span class="pre">wiki_netloc</span></code>).  Here is a reduced example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">traits</span><span class="o">.</span><span class="n">custom</span><span class="p">[</span><span class="s1">&#39;wiki_netloc&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;en&quot;</span><span class="p">:</span> <span class="s2">&quot;en.wikipedia.org&quot;</span><span class="p">,</span>
    <span class="o">..</span>
    <span class="s2">&quot;gsw&quot;</span><span class="p">:</span> <span class="s2">&quot;als.wikipedia.org&quot;</span><span class="p">,</span>
    <span class="o">..</span>
    <span class="s2">&quot;zh&quot;</span><span class="p">:</span> <span class="s2">&quot;zh.wikipedia.org&quot;</span><span class="p">,</span>
    <span class="s2">&quot;zh-classical&quot;</span><span class="p">:</span> <span class="s2">&quot;zh-classical.wikipedia.org&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-searx.engines.wikidata">
<span id="wikidata"></span><span id="wikidata-engine"></span><h6 aria-level="7"><a class="toc-backref" href="#id2" role="doc-backlink">Wikidata</a><a class="headerlink" href="#module-searx.engines.wikidata" title="Link to this heading">¶</a></h6>
<p>This module implements the Wikidata engine.  Some implementations are shared
from <a class="reference internal" href="#wikipedia-engine"><span class="std std-ref">Wikipedia</span></a>.</p>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.wikidata.display_type">
<span class="sig-prename descclassname"><span class="pre">searx.engines.wikidata.</span></span><span class="sig-name descname"><span class="pre">display_type</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['infobox']</span></em><a class="headerlink" href="#searx.engines.wikidata.display_type" title="Link to this definition">¶</a></dt>
<dd><p>A list of display types composed from <code class="docutils literal notranslate"><span class="pre">infobox</span></code> and <code class="docutils literal notranslate"><span class="pre">list</span></code>.  The latter
one will add a hit to the result list.  The first one will show a hit in the
info box.  Both values can be set, or one of the two can be set.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.wikidata.get_thumbnail">
<span class="sig-prename descclassname"><span class="pre">searx.engines.wikidata.</span></span><span class="sig-name descname"><span class="pre">get_thumbnail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img_src</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.wikidata.get_thumbnail" title="Link to this definition">¶</a></dt>
<dd><p>Get Thumbnail image from wikimedia commons</p>
<p>Images from commons.wikimedia.org are (HTTP) redirected to
upload.wikimedia.org.  The redirected URL can be calculated by this
function.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://stackoverflow.com/a/33691240">https://stackoverflow.com/a/33691240</a></p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.wikidata.fetch_traits">
<span class="sig-prename descclassname"><span class="pre">searx.engines.wikidata.</span></span><span class="sig-name descname"><span class="pre">fetch_traits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_traits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><span class="pre">EngineTraits</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.wikidata.fetch_traits" title="Link to this definition">¶</a></dt>
<dd><p>Uses languages evaluated from <a class="reference internal" href="#searx.engines.wikipedia.fetch_wikimedia_traits" title="searx.engines.wikipedia.fetch_wikimedia_traits"><code class="xref py py-obj docutils literal notranslate"><span class="pre">wikipedia.fetch_wikimedia_traits</span></code></a> and removes</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">traits.custom['wiki_netloc']</span></code>: wikidata does not have net-locations for
the languages and the list of all</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">traits.custom['WIKIPEDIA_LANGUAGES']</span></code>: not used in the wikipedia engine</p></li>
</ul>
</dd></dl>

</section>
</section>
<span id="document-dev/engines/online/yacy"></span><section id="yacy">
<span id="yacy-engine"></span><h6>Yacy<a class="headerlink" href="#yacy" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#configuration" id="id2">Configuration</a></p></li>
<li><p><a class="reference internal" href="#implementations" id="id3">Implementations</a></p></li>
</ul>
</nav>
<p id="module-searx.engines.yacy"><a class="reference external" href="https://yacy.net/">YaCy</a> is a free distributed search engine, built on the principles of
peer-to-peer (P2P) networks.</p>
<p>API: <a class="reference external" href="https://wiki.yacy.net/index.php/Dev:APIyacysearch">Dev:APIyacysearch</a></p>
<p>Releases:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/yacy/yacy_search_server/tags">https://github.com/yacy/yacy_search_server/tags</a></p></li>
<li><p><a class="reference external" href="https://download.yacy.net/">https://download.yacy.net/</a></p></li>
</ul>
<section id="configuration">
<h6 aria-level="7"><a class="toc-backref" href="#id2" role="doc-backlink">Configuration</a><a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>The engine has the following (additional) settings:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.yacy.http_digest_auth_user" title="searx.engines.yacy.http_digest_auth_user"><code class="xref py py-obj docutils literal notranslate"><span class="pre">http_digest_auth_user</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.yacy.http_digest_auth_pass" title="searx.engines.yacy.http_digest_auth_pass"><code class="xref py py-obj docutils literal notranslate"><span class="pre">http_digest_auth_pass</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.yacy.search_mode" title="searx.engines.yacy.search_mode"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search_mode</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.yacy.search_type" title="searx.engines.yacy.search_type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search_type</span></code></a></p></li>
</ul>
<p>The <a class="reference internal" href="#searx.engines.yacy.base_url" title="searx.engines.yacy.base_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">base_url</span></code></a> has to be set in the engine named <cite>yacy</cite> and is used by
all yacy engines.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">yacy</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">yacy</span>
<span class="w">  </span><span class="nt">categories</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">general</span>
<span class="w">  </span><span class="nt">search_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">text</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ya</span>
<span class="w">  </span><span class="nt">base_url</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://yacy.searchlab.eu</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://search.lomig.me</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://yacy.ecosys.eu</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://search.webproject.link</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">yacy images</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">yacy</span>
<span class="w">  </span><span class="nt">categories</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">images</span>
<span class="w">  </span><span class="nt">search_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">image</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">yai</span>
<span class="w">  </span><span class="nt">disabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
</section>
<section id="implementations">
<h6 aria-level="7"><a class="toc-backref" href="#id3" role="doc-backlink">Implementations</a><a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.yacy.http_digest_auth_user">
<span class="sig-prename descclassname"><span class="pre">searx.engines.yacy.</span></span><span class="sig-name descname"><span class="pre">http_digest_auth_user</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.yacy.http_digest_auth_user" title="Link to this definition">¶</a></dt>
<dd><p>HTTP digest user for the local YACY instance</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.yacy.http_digest_auth_pass">
<span class="sig-prename descclassname"><span class="pre">searx.engines.yacy.</span></span><span class="sig-name descname"><span class="pre">http_digest_auth_pass</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.yacy.http_digest_auth_pass" title="Link to this definition">¶</a></dt>
<dd><p>HTTP digest password for the local YACY instance</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.yacy.search_mode">
<span class="sig-prename descclassname"><span class="pre">searx.engines.yacy.</span></span><span class="sig-name descname"><span class="pre">search_mode</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'global'</span></em><a class="headerlink" href="#searx.engines.yacy.search_mode" title="Link to this definition">¶</a></dt>
<dd><p>Yacy search mode <code class="docutils literal notranslate"><span class="pre">global</span></code> or <code class="docutils literal notranslate"><span class="pre">local</span></code>.  By default, Yacy operates in <code class="docutils literal notranslate"><span class="pre">global</span></code>
mode.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">global</span></code></dt><dd><p>Peer-to-Peer search</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">local</span></code></dt><dd><p>Privacy or Stealth mode, restricts the search to local yacy instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.yacy.search_type">
<span class="sig-prename descclassname"><span class="pre">searx.engines.yacy.</span></span><span class="sig-name descname"><span class="pre">search_type</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'text'</span></em><a class="headerlink" href="#searx.engines.yacy.search_type" title="Link to this definition">¶</a></dt>
<dd><p>One of <code class="docutils literal notranslate"><span class="pre">text</span></code>, <code class="docutils literal notranslate"><span class="pre">image</span></code> / The search-types <code class="docutils literal notranslate"><span class="pre">app</span></code>, <code class="docutils literal notranslate"><span class="pre">audio</span></code> and
<code class="docutils literal notranslate"><span class="pre">video</span></code> are not yet implemented (Pull-Requests are welcome).</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.yacy.base_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.yacy.</span></span><span class="sig-name descname"><span class="pre">base_url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://yacy.searchlab.eu'</span></em><a class="headerlink" href="#searx.engines.yacy.base_url" title="Link to this definition">¶</a></dt>
<dd><p>The value is an URL or a list of URLs.  In the latter case instance will be
selected randomly.</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/yahoo"></span><section id="yahoo-engine">
<span id="id1"></span><h6>Yahoo Engine<a class="headerlink" href="#yahoo-engine" title="Link to this heading">¶</a></h6>
<p id="module-searx.engines.yahoo">Yahoo Search (Web)</p>
<p>Languages are supported by mapping the language to a domain.  If domain is not
found in <a class="reference internal" href="#searx.engines.yahoo.lang2domain" title="searx.engines.yahoo.lang2domain"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lang2domain</span></code></a> URL <code class="docutils literal notranslate"><span class="pre">&lt;lang&gt;.search.yahoo.com</span></code> is used.</p>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.yahoo.region2domain">
<span class="sig-prename descclassname"><span class="pre">searx.engines.yahoo.</span></span><span class="sig-name descname"><span class="pre">region2domain</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'AR':</span> <span class="pre">'ar.search.yahoo.com',</span> <span class="pre">'BR':</span> <span class="pre">'br.search.yahoo.com',</span> <span class="pre">'CA':</span> <span class="pre">'ca.search.yahoo.com',</span> <span class="pre">'CL':</span> <span class="pre">'cl.search.yahoo.com',</span> <span class="pre">'CO':</span> <span class="pre">'co.search.yahoo.com',</span> <span class="pre">'DE':</span> <span class="pre">'de.search.yahoo.com',</span> <span class="pre">'ES':</span> <span class="pre">'espanol.search.yahoo.com',</span> <span class="pre">'FR':</span> <span class="pre">'fr.search.yahoo.com',</span> <span class="pre">'GB':</span> <span class="pre">'uk.search.yahoo.com',</span> <span class="pre">'HK':</span> <span class="pre">'hk.search.yahoo.com',</span> <span class="pre">'IN':</span> <span class="pre">'in.search.yahoo.com',</span> <span class="pre">'MX':</span> <span class="pre">'mx.search.yahoo.com',</span> <span class="pre">'PE':</span> <span class="pre">'pe.search.yahoo.com',</span> <span class="pre">'PH':</span> <span class="pre">'ph.search.yahoo.com',</span> <span class="pre">'SG':</span> <span class="pre">'sg.search.yahoo.com',</span> <span class="pre">'TH':</span> <span class="pre">'th.search.yahoo.com',</span> <span class="pre">'TW':</span> <span class="pre">'tw.search.yahoo.com',</span> <span class="pre">'UK':</span> <span class="pre">'uk.search.yahoo.com',</span> <span class="pre">'VE':</span> <span class="pre">'ve.search.yahoo.com'}</span></em><a class="headerlink" href="#searx.engines.yahoo.region2domain" title="Link to this definition">¶</a></dt>
<dd><p>Map regions to domain</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.yahoo.lang2domain">
<span class="sig-prename descclassname"><span class="pre">searx.engines.yahoo.</span></span><span class="sig-name descname"><span class="pre">lang2domain</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'any':</span> <span class="pre">'search.yahoo.com',</span> <span class="pre">'bg':</span> <span class="pre">'search.yahoo.com',</span> <span class="pre">'cs':</span> <span class="pre">'search.yahoo.com',</span> <span class="pre">'da':</span> <span class="pre">'search.yahoo.com',</span> <span class="pre">'el':</span> <span class="pre">'search.yahoo.com',</span> <span class="pre">'en':</span> <span class="pre">'search.yahoo.com',</span> <span class="pre">'et':</span> <span class="pre">'search.yahoo.com',</span> <span class="pre">'he':</span> <span class="pre">'search.yahoo.com',</span> <span class="pre">'hr':</span> <span class="pre">'search.yahoo.com',</span> <span class="pre">'ja':</span> <span class="pre">'search.yahoo.com',</span> <span class="pre">'ko':</span> <span class="pre">'search.yahoo.com',</span> <span class="pre">'sk':</span> <span class="pre">'search.yahoo.com',</span> <span class="pre">'sl':</span> <span class="pre">'search.yahoo.com',</span> <span class="pre">'zh_chs':</span> <span class="pre">'hk.search.yahoo.com',</span> <span class="pre">'zh_cht':</span> <span class="pre">'tw.search.yahoo.com'}</span></em><a class="headerlink" href="#searx.engines.yahoo.lang2domain" title="Link to this definition">¶</a></dt>
<dd><p>Map language to domain</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.yahoo.build_sb_cookie">
<span class="sig-prename descclassname"><span class="pre">searx.engines.yahoo.</span></span><span class="sig-name descname"><span class="pre">build_sb_cookie</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cookie_params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.yahoo.build_sb_cookie" title="Link to this definition">¶</a></dt>
<dd><p>Build sB cookie parameter from provided parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cookie_params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – Dictionary of cookie parameters</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Formatted cookie string</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cookie_params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;v&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;vm&#39;</span><span class="p">:</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;fl&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;vl&#39;</span><span class="p">:</span> <span class="s1">&#39;lang_fr&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">build_sb_cookie</span><span class="p">(</span><span class="n">cookie_params</span><span class="p">)</span>
<span class="go">&#39;v=1&amp;vm=p&amp;fl=1&amp;vl=lang_fr&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.yahoo.request">
<span class="sig-prename descclassname"><span class="pre">searx.engines.yahoo.</span></span><span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.yahoo.request" title="Link to this definition">¶</a></dt>
<dd><p>Build Yahoo search request.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.yahoo.parse_url">
<span class="sig-prename descclassname"><span class="pre">searx.engines.yahoo.</span></span><span class="sig-name descname"><span class="pre">parse_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url_string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.yahoo.parse_url" title="Link to this definition">¶</a></dt>
<dd><p>remove yahoo-specific tracking-url</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.yahoo.response">
<span class="sig-prename descclassname"><span class="pre">searx.engines.yahoo.</span></span><span class="sig-name descname"><span class="pre">response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.yahoo.response" title="Link to this definition">¶</a></dt>
<dd><p>parse response</p>
</dd></dl>

</section>
<span id="document-dev/engines/online/zlibrary"></span><section id="z-library">
<span id="zlibrary-engine"></span><h6>Z-Library<a class="headerlink" href="#z-library" title="Link to this heading">¶</a></h6>
<nav class="contents local" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#configuration" id="id2">Configuration</a></p></li>
<li><p><a class="reference internal" href="#implementations" id="id3">Implementations</a></p></li>
</ul>
</nav>
<p id="module-searx.engines.zlibrary"><a class="reference external" href="https://zlibrary-global.se/">Z-Library</a> (abbreviated as z-lib, formerly BookFinder) is a shadow library
project for file-sharing access to scholarly journal articles, academic texts
and general-interest books.  It began as a mirror of Library Genesis, from which
most of its books originate.</p>
<section id="configuration">
<h6 aria-level="7"><a class="toc-backref" href="#id2" role="doc-backlink">Configuration</a><a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>The engine has the following additional settings:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.zlibrary.zlib_year_from" title="searx.engines.zlibrary.zlib_year_from"><code class="xref py py-obj docutils literal notranslate"><span class="pre">zlib_year_from</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.zlibrary.zlib_year_to" title="searx.engines.zlibrary.zlib_year_to"><code class="xref py py-obj docutils literal notranslate"><span class="pre">zlib_year_to</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.engines.zlibrary.zlib_ext" title="searx.engines.zlibrary.zlib_ext"><code class="xref py py-obj docutils literal notranslate"><span class="pre">zlib_ext</span></code></a></p></li>
</ul>
<p>With this options a SearXNG maintainer is able to configure <strong>additional</strong>
engines for specific searches in Z-Library.  For example a engine to search
only for EPUB from 2010 to 2020.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">z-library 2010s epub</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zlibrary</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zlib2010s</span>
<span class="w">  </span><span class="nt">zlib_year_from</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;2010&#39;</span>
<span class="w">  </span><span class="nt">zlib_year_to</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;2020&#39;</span>
<span class="w">  </span><span class="nt">zlib_ext</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;EPUB&#39;</span>
</pre></div>
</div>
</section>
<section id="implementations">
<h6 aria-level="7"><a class="toc-backref" href="#id3" role="doc-backlink">Implementations</a><a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.zlibrary.zlib_year_from">
<span class="sig-prename descclassname"><span class="pre">searx.engines.zlibrary.</span></span><span class="sig-name descname"><span class="pre">zlib_year_from</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.zlibrary.zlib_year_from" title="Link to this definition">¶</a></dt>
<dd><p>Filter z-library’s results by year from. E.g ‘2010’.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.zlibrary.zlib_year_to">
<span class="sig-prename descclassname"><span class="pre">searx.engines.zlibrary.</span></span><span class="sig-name descname"><span class="pre">zlib_year_to</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.zlibrary.zlib_year_to" title="Link to this definition">¶</a></dt>
<dd><p>Filter z-library’s results by year to. E.g. ‘2010’.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.zlibrary.zlib_ext">
<span class="sig-prename descclassname"><span class="pre">searx.engines.zlibrary.</span></span><span class="sig-name descname"><span class="pre">zlib_ext</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.zlibrary.zlib_ext" title="Link to this definition">¶</a></dt>
<dd><p>Filter z-library’s results by a file ending. Common filters for example are
<code class="docutils literal notranslate"><span class="pre">PDF</span></code> and <code class="docutils literal notranslate"><span class="pre">EPUB</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.zlibrary.init">
<span class="sig-prename descclassname"><span class="pre">searx.engines.zlibrary.</span></span><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#searx.engines.zlibrary.init" title="Link to this definition">¶</a></dt>
<dd><p>Check of engine’s settings.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.zlibrary.fetch_traits">
<span class="sig-prename descclassname"><span class="pre">searx.engines.zlibrary.</span></span><span class="sig-name descname"><span class="pre">fetch_traits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_traits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.enginelib.traits.EngineTraits" title="searx.enginelib.traits.EngineTraits"><span class="pre">EngineTraits</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#searx.engines.zlibrary.fetch_traits" title="Link to this definition">¶</a></dt>
<dd><p>Fetch languages and other search arguments from zlibrary’s search form.</p>
</dd></dl>

</section>
</div>
</section>
<section id="offline-engines">
<span id="id3"></span><h5><a class="toc-backref" href="#id10" role="doc-backlink">Offline Engines</a><a class="headerlink" href="#offline-engines" title="Link to this heading">¶</a></h5>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<ul class="simple">
<li><p><a class="reference internal" href="#module-searx.search.processors.offline" title="searx.search.processors.offline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">processors.offline</span></code></a></p></li>
</ul>
</aside>
<div class="toctree-wrapper compound">
<span id="document-dev/engines/offline_concept"></span><section id="offline-concept">
<h6>Offline Concept<a class="headerlink" href="#offline-concept" title="Link to this heading">¶</a></h6>
<aside class="sidebar">
<p class="sidebar-title">offline engines</p>
<ul class="simple">
<li><p><a class="reference internal" href="#demo-offline-engine"><span class="std std-ref">Demo Offline Engine</span></a></p></li>
<li><p><a class="reference internal" href="#engine-command"><span class="std std-ref">Command Line Engines</span></a></p></li>
<li><p><a class="reference internal" href="#sql-engines"><span class="std std-ref">SQL Engines</span></a></p></li>
<li><p><a class="reference internal" href="#nosql-engines"><span class="std std-ref">NoSQL databases</span></a></p></li>
<li><p><a class="reference internal" href="#module-searx.search.processors.offline" title="searx.search.processors.offline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.search.processors.offline</span></code></a></p></li>
</ul>
</aside>
<p>To extend the functionality of Infinity Search, offline engines are going to be
introduced.  An offline engine is an engine which does not need Internet
connection to perform a search and does not use HTTP to communicate.</p>
<p>Offline engines can be configured, by adding those to the <cite>engines</cite> list of
<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/settings.yml">settings.yml</a>.  An example skeleton for offline
engines can be found in <a class="reference internal" href="#demo-offline-engine"><span class="std std-ref">Demo Offline Engine</span></a> (<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/demo_offline.py">demo_offline.py</a>).</p>
<section id="programming-interface">
<h6 aria-level="7">Programming Interface<a class="headerlink" href="#programming-interface" title="Link to this heading">¶</a></h6>
<dl>
<dt><a class="reference internal" href="#searx.engines.demo_offline.init" title="searx.engines.demo_offline.init"><code class="xref py py-func docutils literal notranslate"><span class="pre">init(engine_settings=None)</span></code></a></dt><dd><p>All offline engines can have their own init function to setup the engine before
accepting requests. The function gets the settings from settings.yml as a
parameter. This function can be omitted, if there is no need to setup anything
in advance.</p>
</dd>
<dt><a class="reference internal" href="#searx.engines.demo_offline.search" title="searx.engines.demo_offline.search"><code class="xref py py-func docutils literal notranslate"><span class="pre">search(query,</span> <span class="pre">params)</span></code></a></dt><dd><p>Each offline engine has a function named <code class="docutils literal notranslate"><span class="pre">search</span></code>.  This function is
responsible to perform a search and return the results in a presentable
format. (Where <em>presentable</em> means presentable by the selected result
template.)</p>
<p>The return value is a list of results retrieved by the engine.</p>
</dd>
<dt>Engine representation in <code class="docutils literal notranslate"><span class="pre">/config</span></code></dt><dd><p>If an engine is offline, the attribute <code class="docutils literal notranslate"><span class="pre">offline</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd>
</dl>
</section>
<section id="extra-dependencies">
<span id="offline-requirements"></span><h6 aria-level="7">Extra Dependencies<a class="headerlink" href="#extra-dependencies" title="Link to this heading">¶</a></h6>
<p>If an offline engine depends on an external tool, Infinity Search does not install it by
default.  When an administrator configures such engine and starts the instance,
the process returns an error with the list of missing dependencies.  Also,
required dependencies will be added to the comment/description of the engine, so
admins can install packages in advance.</p>
<p>If there is a need to install additional packages in <em>Python’s Virtual
Environment</em> of your SearXNG instance you need to switch into the environment
(<a class="reference internal" href="#searxng-src"><span class="std std-ref">Install SearXNG &amp; dependencies</span></a>) first, for this you can use <a class="reference internal" href="#searxng-sh"><span class="std std-ref">utils/searxng.sh</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo utils/searxng.sh instance cmd bash
(searxng-pyenv)$ pip install ...
</pre></div>
</div>
</section>
<section id="private-engines-security">
<h6 aria-level="7">Private engines (Security)<a class="headerlink" href="#private-engines-security" title="Link to this heading">¶</a></h6>
<p>To limit the access to offline engines, if an instance is available publicly,
administrators can set token(s) for each of the <a class="reference internal" href="#private-engines"><span class="std std-ref">Private Engines (tokens)</span></a>.  If a
query contains a valid token, then SearXNG performs the requested private
search.  If not, requests from an offline engines return errors.</p>
</section>
</section>
<span id="document-dev/engines/demo/demo_offline"></span><section id="demo-offline-engine">
<span id="id1"></span><h6>Demo Offline Engine<a class="headerlink" href="#demo-offline-engine" title="Link to this heading">¶</a></h6>
<p id="module-searx.engines.demo_offline">Within this module we implement a <em>demo offline engine</em>.  Do not look to
close to the implementation, its just a simple example.  To get in use of this
<em>demo</em> engine add the following entry to your engines list in <code class="docutils literal notranslate"><span class="pre">settings.yml</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my offline engine</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">demo_offline</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">demo</span>
<span class="w">  </span><span class="nt">disabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
</div>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.demo_offline.CACHE">
<span class="sig-prename descclassname"><span class="pre">searx.engines.demo_offline.</span></span><span class="sig-name descname"><span class="pre">CACHE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#searx.enginelib.EngineCache" title="searx.enginelib.EngineCache"><span class="pre">EngineCache</span></a></em><a class="headerlink" href="#searx.engines.demo_offline.CACHE" title="Link to this definition">¶</a></dt>
<dd><p>Persistent (SQLite) key/value cache that deletes its values after <code class="docutils literal notranslate"><span class="pre">expire</span></code>
seconds.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.demo_offline.init">
<span class="sig-prename descclassname"><span class="pre">searx.engines.demo_offline.</span></span><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.demo_offline.init" title="Link to this definition">¶</a></dt>
<dd><p>Initialization of the (offline) engine.  The origin of this demo engine is a
simple json string which is loaded in this example while the engine is
initialized.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.demo_offline.search">
<span class="sig-prename descclassname"><span class="pre">searx.engines.demo_offline.</span></span><span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_params</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#searx.result_types.EngineResults" title="searx.result_types.EngineResults"><span class="pre">EngineResults</span></a></span></span><a class="headerlink" href="#searx.engines.demo_offline.search" title="Link to this definition">¶</a></dt>
<dd><p>Query (offline) engine and return results.  Assemble the list of results
from your local engine.  In this demo engine we ignore the ‘query’ term,
usual you would pass the ‘query’ term to your local engine to filter out the
results.</p>
</dd></dl>

</section>
<span id="document-dev/engines/offline/command-line-engines"></span><section id="command-line-engines">
<span id="engine-command"></span><h6>Command Line Engines<a class="headerlink" href="#command-line-engines" title="Link to this heading">¶</a></h6>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<ul class="simple">
<li><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/command.py">command.py</a></p></li>
<li><p><a class="reference internal" href="#offline-engines"><span class="std std-ref">Offline Engines</span></a></p></li>
</ul>
</aside>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#configuration" id="id1">Configuration</a></p></li>
<li><p><a class="reference internal" href="#example" id="id2">Example</a></p></li>
<li><p><a class="reference internal" href="#implementations" id="id3">Implementations</a></p></li>
</ul>
</nav>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<p>Initial sponsored by <a class="reference external" href="https://nlnet.nl/discovery">Search and Discovery Fund</a> of <a class="reference external" href="https://nlnet.nl/">NLnet Foundation</a>.</p>
</aside>
<p id="module-searx.engines.command">With <em>command engines</em> administrators can run engines to integrate arbitrary
shell commands.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>When creating and enabling a <code class="docutils literal notranslate"><span class="pre">command</span></code> engine on a public instance, you
must be careful to avoid leaking private data.</p>
</div>
<p>The easiest solution is to limit the access by setting <code class="docutils literal notranslate"><span class="pre">tokens</span></code> as described
in section <a class="reference internal" href="#private-engines"><span class="std std-ref">Private Engines (tokens)</span></a>.  The engine base is flexible.  Only your
imagination can limit the power of this engine (and maybe security concerns).</p>
<section id="configuration">
<h6 aria-level="7"><a class="toc-backref" href="#id1" role="doc-backlink">Configuration</a><a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>The following options are available:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">command</span></code>:</dt><dd><p>A comma separated list of the elements of the command.  A special token
<code class="docutils literal notranslate"><span class="pre">{{QUERY}}</span></code> tells where to put the search terms of the user. Example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">[</span><span class="s">&#39;ls&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;-l&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;-h&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;{{QUERY}}&#39;</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">delimiter</span></code>:</dt><dd><p>A mapping containing a delimiter <code class="docutils literal notranslate"><span class="pre">char</span></code> and the <em>titles</em> of each element in
<code class="docutils literal notranslate"><span class="pre">keys</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">parse_regex</span></code>:</dt><dd><p>A dict containing the regular expressions for each result key.</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">query_type</span></code>:</p>
<blockquote>
<div><p>The expected type of user search terms.  Possible values: <code class="docutils literal notranslate"><span class="pre">path</span></code> and
<code class="docutils literal notranslate"><span class="pre">enum</span></code>.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">path</span></code>:</dt><dd><p>Checks if the user provided path is inside the working directory.  If not,
the query is not executed.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">enum</span></code>:</dt><dd><p>Is a list of allowed search terms.  If the user submits something which is
not included in the list, the query returns an error.</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">query_enum</span></code>:</dt><dd><p>A list containing allowed search terms if <code class="docutils literal notranslate"><span class="pre">query_type</span></code> is set to <code class="docutils literal notranslate"><span class="pre">enum</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">working_dir</span></code>:</dt><dd><p>The directory where the command has to be executed.  Default: <code class="docutils literal notranslate"><span class="pre">./</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">result_separator</span></code>:</dt><dd><p>The character that separates results. Default: <code class="docutils literal notranslate"><span class="pre">\n</span></code>.</p>
</dd>
</dl>
</section>
<section id="example">
<h6 aria-level="7"><a class="toc-backref" href="#id2" role="doc-backlink">Example</a><a class="headerlink" href="#example" title="Link to this heading">¶</a></h6>
<p>The example engine below can be used to find files with a specific name in the
configured working directory:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">find</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">command</span>
<span class="w">  </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;find&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;.&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;-name&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;{{QUERY}}&#39;</span><span class="p p-Indicator">]</span>
<span class="w">  </span><span class="nt">query_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">path</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fnd</span>
<span class="w">  </span><span class="nt">delimiter</span><span class="p">:</span>
<span class="w">      </span><span class="nt">chars</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;</span><span class="nv"> </span><span class="s">&#39;</span>
<span class="w">      </span><span class="nt">keys</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;line&#39;</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</section>
<section id="implementations">
<h6 aria-level="7"><a class="toc-backref" href="#id3" role="doc-backlink">Implementations</a><a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.command.check_parsing_options">
<span class="sig-prename descclassname"><span class="pre">searx.engines.command.</span></span><span class="sig-name descname"><span class="pre">check_parsing_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.command.check_parsing_options" title="Link to this definition">¶</a></dt>
<dd><p>Checks if delimiter based parsing or regex parsing is configured correctly</p>
</dd></dl>

</section>
<span id="document-dev/engines/offline/nosql-engines"></span><section id="nosql-databases">
<span id="nosql-engines"></span><h6>NoSQL databases<a class="headerlink" href="#nosql-databases" title="Link to this heading">¶</a></h6>
<aside class="sidebar">
<p class="sidebar-title">further read</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/NoSQL">NoSQL databases</a></p></li>
<li><p><a class="reference external" href="https://valkey.io/">valkey.io</a></p></li>
<li><p><a class="reference external" href="https://www.mongodb.com">MongoDB</a></p></li>
</ul>
</aside>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#extra-dependencies" id="id6">Extra Dependencies</a></p></li>
<li><p><a class="reference internal" href="#configure-the-engines" id="id7">Configure the engines</a></p>
<ul>
<li><p><a class="reference internal" href="#valkey-server" id="id8">Valkey Server</a></p></li>
<li><p><a class="reference internal" href="#engine-mongodb" id="id9">MongoDB</a></p></li>
</ul>
</li>
</ul>
</nav>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<p>Initial sponsored by <a class="reference external" href="https://nlnet.nl/discovery">Search and Discovery Fund</a> of <a class="reference external" href="https://nlnet.nl/">NLnet Foundation</a>.</p>
</aside>
<p>The following <a class="reference external" href="https://en.wikipedia.org/wiki/NoSQL">NoSQL databases</a> are supported:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#engine-valkey-server"><span class="std std-ref">Valkey Server</span></a></p></li>
<li><p><a class="reference internal" href="#engine-mongodb"><span class="std std-ref">MongoDB</span></a></p></li>
</ul>
<p>All of the engines above are just commented out in the <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/settings.yml">settings.yml</a>, as you have to set various options and install
dependencies before using them.</p>
<p>By default, the engines use the <code class="docutils literal notranslate"><span class="pre">key-value</span></code> template for displaying results /
see <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/templates/simple/result_templates/key-value.html">simple</a>
theme.  If you are not satisfied with the original result layout, you can use
your own template, set <code class="docutils literal notranslate"><span class="pre">result_template</span></code> attribute to <code class="docutils literal notranslate"><span class="pre">{template_name}</span></code> and
place the templates at:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">searx</span><span class="o">/</span><span class="n">templates</span><span class="o">/</span><span class="p">{</span><span class="n">theme_name</span><span class="p">}</span><span class="o">/</span><span class="n">result_templates</span><span class="o">/</span><span class="p">{</span><span class="n">template_name</span><span class="p">}</span>
</pre></div>
</div>
<p>Furthermore, if you do not wish to expose these engines on a public instance, you
can still add them and limit the access by setting <code class="docutils literal notranslate"><span class="pre">tokens</span></code> as described in
section <a class="reference internal" href="#private-engines"><span class="std std-ref">Private Engines (tokens)</span></a>.</p>
<section id="extra-dependencies">
<h6 aria-level="7"><a class="toc-backref" href="#id6" role="doc-backlink">Extra Dependencies</a><a class="headerlink" href="#extra-dependencies" title="Link to this heading">¶</a></h6>
<p>For using <a class="reference internal" href="#engine-valkey-server"><span class="std std-ref">Valkey Server</span></a> or <a class="reference internal" href="#engine-mongodb"><span class="std std-ref">MongoDB</span></a> you need to
install additional packages in Python’s Virtual Environment of your SearXNG
instance.  To switch into the environment (<a class="reference internal" href="#searxng-src"><span class="std std-ref">Install SearXNG &amp; dependencies</span></a>) you can use
<a class="reference internal" href="#searxng-sh"><span class="std std-ref">utils/searxng.sh</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo utils/searxng.sh instance cmd bash
(searxng-pyenv)$ pip install ...
</pre></div>
</div>
</section>
<section id="configure-the-engines">
<h6 aria-level="7"><a class="toc-backref" href="#id7" role="doc-backlink">Configure the engines</a><a class="headerlink" href="#configure-the-engines" title="Link to this heading">¶</a></h6>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/NoSQL">NoSQL databases</a> are used for storing arbitrary data without first defining
their structure.</p>
<section id="valkey-server">
<span id="engine-valkey-server"></span><h6 aria-level="8"><a class="toc-backref" href="#id8" role="doc-backlink">Valkey Server</a><a class="headerlink" href="#valkey-server" title="Link to this heading">¶</a></h6>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span></code> <a class="reference external" href="https://github.com/andymccurdy/valkey-py#installation">valkey</a></p></li>
<li><p><a class="reference external" href="https://valkey.io/">valkey.io</a></p></li>
<li><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/valkey_server.py">valkey_server.py</a></p></li>
</ul>
</aside>
<p id="module-searx.engines.valkey_server">Valkey is an open source (BSD licensed), in-memory data structure (key value
based) store.  Before configuring the <code class="docutils literal notranslate"><span class="pre">valkey_server</span></code> engine, you must install
the dependency <a class="reference external" href="https://github.com/andymccurdy/valkey-py#installation">valkey</a>.</p>
<section id="configuration">
<h6 aria-level="9">Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>Select a database to search in and set its index in the option <code class="docutils literal notranslate"><span class="pre">db</span></code>.  You can
either look for exact matches or use partial keywords to find what you are
looking for by configuring <code class="docutils literal notranslate"><span class="pre">exact_match_only</span></code>.</p>
</section>
<section id="example">
<h6 aria-level="9">Example<a class="headerlink" href="#example" title="Link to this heading">¶</a></h6>
<p>Below is an example configuration:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Required dependency: valkey</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myvalkey</span>
<span class="w">  </span><span class="nt">shortcut </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rds</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">valkey_server</span>
<span class="w">  </span><span class="nt">exact_match_only</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;127.0.0.1&#39;</span>
<span class="w">  </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6379</span>
<span class="w">  </span><span class="nt">enable_http</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&#39;</span>
<span class="w">  </span><span class="nt">db</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
</pre></div>
</div>
</section>
<section id="implementations">
<h6 aria-level="9">Implementations<a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
</section>
<section id="engine-mongodb">
<span id="id2"></span><h6 aria-level="8"><a class="toc-backref" href="#id9" role="doc-backlink">MongoDB</a><a class="headerlink" href="#engine-mongodb" title="Link to this heading">¶</a></h6>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span></code> <a class="reference external" href="https://github.com/mongodb/mongo-python-driver#installation">pymongo</a></p></li>
<li><p><a class="reference external" href="https://www.mongodb.com">MongoDB</a></p></li>
<li><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/mongodb.py">mongodb.py</a></p></li>
</ul>
</aside>
<p id="module-searx.engines.mongodb"><a class="reference external" href="https://www.mongodb.com">MongoDB</a> is a document based database program that handles JSON like data.
Before configuring the <code class="docutils literal notranslate"><span class="pre">mongodb</span></code> engine, you must install the dependency
<a class="reference external" href="https://github.com/mongodb/mongo-python-driver#installation">pymongo</a>.</p>
<section id="id3">
<h6 aria-level="9">Configuration<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h6>
<p>In order to query <a class="reference external" href="https://www.mongodb.com">MongoDB</a>, you have to select a <code class="docutils literal notranslate"><span class="pre">database</span></code> and a
<code class="docutils literal notranslate"><span class="pre">collection</span></code>.  Furthermore, you have to select a <code class="docutils literal notranslate"><span class="pre">key</span></code> that is going to be
searched.  <a class="reference external" href="https://www.mongodb.com">MongoDB</a> also supports the option <code class="docutils literal notranslate"><span class="pre">exact_match_only</span></code>, so configure
it as you wish.</p>
</section>
<section id="id4">
<h6 aria-level="9">Example<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h6>
<p>Below is an example configuration for using a MongoDB collection:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># MongoDB engine</span>
<span class="c1"># Required dependency: pymongo</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mymongo</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mongodb</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">md</span>
<span class="w">  </span><span class="nt">exact_match_only</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;127.0.0.1&#39;</span>
<span class="w">  </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">27017</span>
<span class="w">  </span><span class="nt">enable_http</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">results_per_page</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span>
<span class="w">  </span><span class="nt">database</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;business&#39;</span>
<span class="w">  </span><span class="nt">collection</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;reviews&#39;</span><span class="w">  </span><span class="c1"># name of the db collection</span>
<span class="w">  </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;name&#39;</span><span class="w">            </span><span class="c1"># key in the collection to search for</span>
</pre></div>
</div>
</section>
<section id="id5">
<h6 aria-level="9">Implementations<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h6>
</section>
</section>
</section>
</section>
<span id="document-dev/engines/offline/search-indexer-engines"></span><section id="local-search-apis">
<h6>Local Search APIs<a class="headerlink" href="#local-search-apis" title="Link to this heading">¶</a></h6>
<aside class="sidebar">
<p class="sidebar-title">further read</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.meilisearch.com/learn/what_is_meilisearch/comparison_to_alternatives.html">Comparison to alternatives</a></p></li>
</ul>
</aside>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#module-searx.engines.meilisearch" id="id6">MeiliSearch</a></p></li>
<li><p><a class="reference internal" href="#module-searx.engines.elasticsearch" id="id7">Elasticsearch</a></p></li>
<li><p><a class="reference internal" href="#module-searx.engines.solr" id="id8">Solr</a></p></li>
</ul>
</nav>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<p>Initial sponsored by <a class="reference external" href="https://nlnet.nl/discovery">Search and Discovery Fund</a> of <a class="reference external" href="https://nlnet.nl/">NLnet Foundation</a>.</p>
</aside>
<p>Administrators might find themselves wanting to integrate locally running search
engines.  The following ones are supported for now:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.elastic.co/elasticsearch/">Elasticsearch</a></p></li>
<li><p><a class="reference external" href="https://www.meilisearch.com">Meilisearch</a></p></li>
<li><p><a class="reference external" href="https://solr.apache.org">Solr</a></p></li>
</ul>
<p>Each search engine is powerful, capable of full-text search.  All of the engines
above are added to <code class="docutils literal notranslate"><span class="pre">settings.yml</span></code> just commented out, as you have to
<code class="docutils literal notranslate"><span class="pre">base_url</span></code> for all them.</p>
<p>Please note that if you are not using HTTPS to access these engines, you have to
enable HTTP requests by setting <code class="docutils literal notranslate"><span class="pre">enable_http</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Furthermore, if you do not want to expose these engines on a public instance,
you can still add them and limit the access by setting <code class="docutils literal notranslate"><span class="pre">tokens</span></code> as described
in section <a class="reference internal" href="#private-engines"><span class="std std-ref">Private Engines (tokens)</span></a>.</p>
<section id="module-searx.engines.meilisearch">
<span id="meilisearch"></span><span id="engine-meilisearch"></span><h6 aria-level="7"><a class="toc-backref" href="#id6" role="doc-backlink">MeiliSearch</a><a class="headerlink" href="#module-searx.engines.meilisearch" title="Link to this heading">¶</a></h6>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<ul class="simple">
<li><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/meilisearch.py">meilisearch.py</a></p></li>
<li><p><a class="reference external" href="https://www.meilisearch.com">MeiliSearch</a></p></li>
<li><p><a class="reference external" href="https://docs.meilisearch.com/">MeiliSearch Documentation</a></p></li>
<li><p><a class="reference external" href="https://docs.meilisearch.com/learn/getting_started/installation.html">Install MeiliSearch</a></p></li>
</ul>
</aside>
<p><a class="reference external" href="https://www.meilisearch.com">MeiliSearch</a> is aimed at individuals and small companies.  It is designed for
small-scale (less than 10 million documents) data collections.  E.g. it is great
for storing web pages you have visited and searching in the contents later.</p>
<p>The engine supports faceted search, so you can search in a subset of documents
of the collection.  Furthermore, you can search in <a class="reference external" href="https://www.meilisearch.com">MeiliSearch</a> instances that
require authentication by setting <a class="reference external" href="https://www.meilisearch.com/docs/reference/api/overview#authorization">auth_key</a>.</p>
<section id="example">
<h6 aria-level="8">Example<a class="headerlink" href="#example" title="Link to this heading">¶</a></h6>
<p>Here is a simple example to query a Meilisearch instance:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">meilisearch</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">meilisearch</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mes</span>
<span class="w">  </span><span class="nt">base_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://localhost:7700</span>
<span class="w">  </span><span class="nt">index</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-index</span>
<span class="w">  </span><span class="nt">enable_http</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="c1"># auth_key: Bearer XXXXX</span>
</pre></div>
</div>
</section>
</section>
<section id="module-searx.engines.elasticsearch">
<span id="elasticsearch"></span><span id="engine-elasticsearch"></span><h6 aria-level="7"><a class="toc-backref" href="#id7" role="doc-backlink">Elasticsearch</a><a class="headerlink" href="#module-searx.engines.elasticsearch" title="Link to this heading">¶</a></h6>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<ul class="simple">
<li><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/elasticsearch.py">elasticsearch.py</a></p></li>
<li><p><a class="reference external" href="https://www.elastic.co/elasticsearch/">Elasticsearch</a></p></li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html">Elasticsearch Guide</a></p></li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/install-elasticsearch.html">Install Elasticsearch</a></p></li>
</ul>
</aside>
<p><a class="reference external" href="https://www.elastic.co/elasticsearch/">Elasticsearch</a> supports numerous ways to query the data it is storing.  At the
moment the engine supports the most popular search methods (<code class="docutils literal notranslate"><span class="pre">query_type</span></code>):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">match</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">simple_query_string</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">term</span></code> and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">terms</span></code>.</p></li>
</ul>
<p>If none of the methods fit your use case, you can select <code class="docutils literal notranslate"><span class="pre">custom</span></code> query type
and provide the JSON payload to submit to Elasticsearch in
<code class="docutils literal notranslate"><span class="pre">custom_query_json</span></code>.</p>
<section id="id3">
<h6 aria-level="8">Example<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h6>
<p>The following is an example configuration for an <a class="reference external" href="https://www.elastic.co/elasticsearch/">Elasticsearch</a> instance with
authentication configured to read from <code class="docutils literal notranslate"><span class="pre">my-index</span></code> index.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">elasticsearch</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">els</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">elasticsearch</span>
<span class="w">  </span><span class="nt">base_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://localhost:9200</span>
<span class="w">  </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">elastic</span>
<span class="w">  </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">changeme</span>
<span class="w">  </span><span class="nt">index</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-index</span>
<span class="w">  </span><span class="nt">query_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">match</span>
<span class="w">  </span><span class="c1"># custom_query_json: &#39;{ ... }&#39;</span>
<span class="w">  </span><span class="nt">enable_http</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
</section>
</section>
<section id="module-searx.engines.solr">
<span id="solr"></span><span id="engine-solr"></span><h6 aria-level="7"><a class="toc-backref" href="#id8" role="doc-backlink">Solr</a><a class="headerlink" href="#module-searx.engines.solr" title="Link to this heading">¶</a></h6>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<ul class="simple">
<li><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/solr.py">solr.py</a></p></li>
<li><p><a class="reference external" href="https://solr.apache.org">Solr</a></p></li>
<li><p><a class="reference external" href="https://solr.apache.org/resources.html">Solr Resources</a></p></li>
<li><p><a class="reference external" href="https://solr.apache.org/guide/installing-solr.html">Install Solr</a></p></li>
</ul>
</aside>
<p><a class="reference external" href="https://solr.apache.org">Solr</a> is a popular search engine based on Lucene, just like <a class="reference external" href="https://www.elastic.co/elasticsearch/">Elasticsearch</a>.  But
instead of searching in indices, you can search in collections.</p>
<section id="id5">
<h6 aria-level="8">Example<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h6>
<p>This is an example configuration for searching in the collection
<code class="docutils literal notranslate"><span class="pre">my-collection</span></code> and get the results in ascending order.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">solr</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">solr</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">slr</span>
<span class="w">  </span><span class="nt">base_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://localhost:8983</span>
<span class="w">  </span><span class="nt">collection</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-collection</span>
<span class="w">  </span><span class="nt">sort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">asc</span>
<span class="w">  </span><span class="nt">enable_http</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
</section>
</section>
</section>
<span id="document-dev/engines/offline/sql-engines"></span><section id="sql-engines">
<span id="id1"></span><h6>SQL Engines<a class="headerlink" href="#sql-engines" title="Link to this heading">¶</a></h6>
<aside class="sidebar">
<p class="sidebar-title">further read</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.sqlite.org/index.html">SQLite</a></p></li>
<li><p><a class="reference external" href="https://www.postgresql.org">PostgreSQL</a></p></li>
<li><p><a class="reference external" href="https://www.mysql.com">MySQL</a></p></li>
</ul>
</aside>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#extra-dependencies" id="id11">Extra Dependencies</a></p></li>
<li><p><a class="reference internal" href="#configure-the-engines" id="id12">Configure the engines</a></p>
<ul>
<li><p><a class="reference internal" href="#engine-sqlite" id="id13">SQLite</a></p></li>
<li><p><a class="reference internal" href="#engine-postgresql" id="id14">PostgreSQL</a></p></li>
<li><p><a class="reference internal" href="#engine-mysql-server" id="id15">MySQL</a></p></li>
<li><p><a class="reference internal" href="#mariadb" id="id16">MariaDB</a></p></li>
</ul>
</li>
</ul>
</nav>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<p>Initial sponsored by <a class="reference external" href="https://nlnet.nl/discovery">Search and Discovery Fund</a> of <a class="reference external" href="https://nlnet.nl/">NLnet Foundation</a>.</p>
</aside>
<p>With the <em>SQL engines</em> you can bind SQL databases into SearXNG.  The following
Relational Database Management System (RDBMS) are supported:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#engine-sqlite"><span class="std std-ref">SQLite</span></a></p></li>
<li><p><a class="reference internal" href="#engine-postgresql"><span class="std std-ref">PostgreSQL</span></a></p></li>
<li><p><a class="reference internal" href="#engine-mysql-server"><span class="std std-ref">MySQL</span></a> &amp; <a class="reference internal" href="#engine-mariadb-server"><span class="std std-ref">MariaDB</span></a></p></li>
</ul>
<p>All of the engines above are just commented out in the <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/settings.yml">settings.yml</a>, as you have to set the required attributes for the
engines, e.g. <code class="docutils literal notranslate"><span class="pre">database:</span></code> …</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nv">sqlite|postgresql|mysql_server</span><span class="p p-Indicator">}</span>
<span class="w">  </span><span class="nt">database</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">  </span><span class="nt">result_template</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nv">template_name</span><span class="p p-Indicator">}</span>
<span class="w">  </span><span class="nt">query_str</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
<p>By default, the engines use the <code class="docutils literal notranslate"><span class="pre">key-value</span></code> template for displaying results /
see <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/templates/simple/result_templates/key-value.html">simple</a>
theme.  If you are not satisfied with the original result layout, you can use
your own template, set <code class="docutils literal notranslate"><span class="pre">result_template</span></code> attribute to <code class="docutils literal notranslate"><span class="pre">{template_name}</span></code> and
place the templates at:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">searx</span><span class="o">/</span><span class="n">templates</span><span class="o">/</span><span class="p">{</span><span class="n">theme_name</span><span class="p">}</span><span class="o">/</span><span class="n">result_templates</span><span class="o">/</span><span class="p">{</span><span class="n">template_name</span><span class="p">}</span>
</pre></div>
</div>
<p>If you do not wish to expose these engines on a public instance, you can still
add them and limit the access by setting <code class="docutils literal notranslate"><span class="pre">tokens</span></code> as described in section
<a class="reference internal" href="#private-engines"><span class="std std-ref">Private Engines (tokens)</span></a>.</p>
<section id="extra-dependencies">
<h6 aria-level="7"><a class="toc-backref" href="#id11" role="doc-backlink">Extra Dependencies</a><a class="headerlink" href="#extra-dependencies" title="Link to this heading">¶</a></h6>
<p>For using <a class="reference internal" href="#engine-postgresql"><span class="std std-ref">PostgreSQL</span></a> or <a class="reference internal" href="#engine-mysql-server"><span class="std std-ref">MySQL</span></a> you need to
install additional packages in Python’s Virtual Environment of your SearXNG
instance.  To switch into the environment (<a class="reference internal" href="#searxng-src"><span class="std std-ref">Install SearXNG &amp; dependencies</span></a>) you can use
<a class="reference internal" href="#searxng-sh"><span class="std std-ref">utils/searxng.sh</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo utils/searxng.sh instance cmd bash
(searxng-pyenv)$ pip install ...
</pre></div>
</div>
</section>
<section id="configure-the-engines">
<h6 aria-level="7"><a class="toc-backref" href="#id12" role="doc-backlink">Configure the engines</a><a class="headerlink" href="#configure-the-engines" title="Link to this heading">¶</a></h6>
<p>The configuration of the new database engines are similar.  You must put a valid
SQL-SELECT query in <code class="docutils literal notranslate"><span class="pre">query_str</span></code>.  At the moment you can only bind at most one
parameter in your query.  By setting the attribute <code class="docutils literal notranslate"><span class="pre">limit</span></code> you can define how
many results you want from the SQL server.  Basically, it is the same as the
<code class="docutils literal notranslate"><span class="pre">LIMIT</span></code> keyword in SQL.</p>
<p>Please, do not include <code class="docutils literal notranslate"><span class="pre">LIMIT</span></code> or <code class="docutils literal notranslate"><span class="pre">OFFSET</span></code> in your SQL query as the engines
rely on these keywords during paging.  If you want to configure the number of
returned results use the option <code class="docutils literal notranslate"><span class="pre">limit</span></code>.</p>
<section id="engine-sqlite">
<span id="id2"></span><h6 aria-level="8"><a class="toc-backref" href="#id13" role="doc-backlink">SQLite</a><a class="headerlink" href="#engine-sqlite" title="Link to this heading">¶</a></h6>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<ul class="simple">
<li><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/sqlite.py">sqlite.py</a></p></li>
</ul>
</aside>
<p id="module-searx.engines.sqlite">SQLite is a small, fast and reliable SQL database engine.  It does not require
any extra dependency.</p>
<section id="configuration">
<h6 aria-level="9">Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h6>
<p>The engine has the following (additional) settings:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.engines.sqlite.result_type" title="searx.engines.sqlite.result_type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">result_type</span></code></a></p></li>
</ul>
</section>
<section id="example">
<h6 aria-level="9">Example<a class="headerlink" href="#example" title="Link to this heading">¶</a></h6>
<p>To demonstrate the power of database engines, here is a more complex example
which reads from a <a class="reference external" href="https://mediathekview.de/">MediathekView</a> (DE) movie database.  For this example of the
SQLite engine download the database:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://liste.mediathekview.de/filmliste-v2.db.bz2">https://liste.mediathekview.de/filmliste-v2.db.bz2</a></p></li>
</ul>
<p>and unpack into <code class="docutils literal notranslate"><span class="pre">searx/data/filmliste-v2.db</span></code>.  To search the database use e.g
Query to test: <code class="docutils literal notranslate"><span class="pre">!mediathekview</span> <span class="pre">concert</span></code></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mediathekview</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sqlite</span>
<span class="w">  </span><span class="nt">shortcut</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mediathekview</span>
<span class="w">  </span><span class="nt">categories</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">general</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">videos</span><span class="p p-Indicator">]</span>
<span class="w">  </span><span class="nt">result_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MainResult</span>
<span class="w">  </span><span class="nt">database</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">searx/data/filmliste-v2.db</span>
<span class="w">  </span><span class="nt">query_str</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">&gt;-</span>
<span class="w">    </span><span class="no">SELECT title || &#39; (&#39; || time(duration, &#39;unixepoch&#39;) || &#39;)&#39; AS title,</span>
<span class="w">           </span><span class="no">COALESCE( NULLIF(url_video_hd,&#39;&#39;), NULLIF(url_video_sd,&#39;&#39;), url_video) AS url,</span>
<span class="w">           </span><span class="no">description AS content</span>
<span class="w">      </span><span class="no">FROM film</span>
<span class="w">     </span><span class="no">WHERE title LIKE :wildcard OR description LIKE :wildcard</span>
<span class="w">     </span><span class="no">ORDER BY duration DESC</span>
</pre></div>
</div>
</section>
<section id="implementations">
<h6 aria-level="9">Implementations<a class="headerlink" href="#implementations" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.sqlite.database">
<span class="sig-prename descclassname"><span class="pre">searx.engines.sqlite.</span></span><span class="sig-name descname"><span class="pre">database</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.sqlite.database" title="Link to this definition">¶</a></dt>
<dd><p>Filename of the SQLite DB.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.sqlite.query_str">
<span class="sig-prename descclassname"><span class="pre">searx.engines.sqlite.</span></span><span class="sig-name descname"><span class="pre">query_str</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.sqlite.query_str" title="Link to this definition">¶</a></dt>
<dd><p>SQL query that returns the result items.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.sqlite.result_type">
<span class="sig-prename descclassname"><span class="pre">searx.engines.sqlite.</span></span><span class="sig-name descname"><span class="pre">result_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'MainResult'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'KeyValue'</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'KeyValue'</span></em><a class="headerlink" href="#searx.engines.sqlite.result_type" title="Link to this definition">¶</a></dt>
<dd><p>The result type can be <code class="xref py py-obj docutils literal notranslate"><span class="pre">MainResult</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">KeyValue</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.sqlite.sqlite_cursor">
<span class="sig-prename descclassname"><span class="pre">searx.engines.sqlite.</span></span><span class="sig-name descname"><span class="pre">sqlite_cursor</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.sqlite.sqlite_cursor" title="Link to this definition">¶</a></dt>
<dd><p>Implements a <a class="reference external" href="https://docs.python.org/3/library/contextlib.html#contextlib.contextmanager" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Context</span> <span class="pre">Manager</span></code></a> for a
<a class="reference external" href="https://docs.python.org/3/library/sqlite3.html#sqlite3.Cursor" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sqlite3.Cursor</span></code></a>.</p>
<p>Open database in read only mode: if the database doesn’t exist.  The default
mode creates an empty file on the file system.  See:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/sqlite3.html#sqlite3.connect">https://docs.python.org/3/library/sqlite3.html#sqlite3.connect</a></p></li>
<li><p><a class="reference external" href="https://www.sqlite.org/uri.html">https://www.sqlite.org/uri.html</a></p></li>
</ul>
</dd></dl>

</section>
<section id="engine-postgresql">
<span id="id3"></span><h6 aria-level="8"><a class="toc-backref" href="#id14" role="doc-backlink">PostgreSQL</a><a class="headerlink" href="#engine-postgresql" title="Link to this heading">¶</a></h6>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<ul class="simple">
<li><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/postgresql.py">postgresql.py</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span></code> <a class="reference external" href="psycopg2">psycopg2-binary</a></p></li>
</ul>
</aside>
<p id="module-searx.engines.postgresql">PostgreSQL is a powerful and robust open source database.  Before configuring
the PostgreSQL engine, you must install the dependency <code class="docutils literal notranslate"><span class="pre">psychopg2</span></code>.</p>
<section id="id4">
<h6 aria-level="9">Example<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h6>
<p>Below is an example configuration:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_database</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postgresql</span>
<span class="w">  </span><span class="nt">database</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_database</span>
<span class="w">  </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">searxng</span>
<span class="w">  </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">password</span>
<span class="w">  </span><span class="nt">query_str</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;SELECT</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">from</span><span class="nv"> </span><span class="s">my_table</span><span class="nv"> </span><span class="s">WHERE</span><span class="nv"> </span><span class="s">my_column</span><span class="nv"> </span><span class="s">=</span><span class="nv"> </span><span class="s">%(query)s&#39;</span>
</pre></div>
</div>
</section>
<section id="id5">
<h6 aria-level="9">Implementations<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.postgresql.host">
<span class="sig-prename descclassname"><span class="pre">searx.engines.postgresql.</span></span><span class="sig-name descname"><span class="pre">host</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'127.0.0.1'</span></em><a class="headerlink" href="#searx.engines.postgresql.host" title="Link to this definition">¶</a></dt>
<dd><p>Hostname of the DB connector</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.postgresql.port">
<span class="sig-prename descclassname"><span class="pre">searx.engines.postgresql.</span></span><span class="sig-name descname"><span class="pre">port</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'5432'</span></em><a class="headerlink" href="#searx.engines.postgresql.port" title="Link to this definition">¶</a></dt>
<dd><p>Port of the DB connector</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.postgresql.database">
<span class="sig-prename descclassname"><span class="pre">searx.engines.postgresql.</span></span><span class="sig-name descname"><span class="pre">database</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.postgresql.database" title="Link to this definition">¶</a></dt>
<dd><p>Name of the database.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.postgresql.username">
<span class="sig-prename descclassname"><span class="pre">searx.engines.postgresql.</span></span><span class="sig-name descname"><span class="pre">username</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.postgresql.username" title="Link to this definition">¶</a></dt>
<dd><p>Username for the DB connection.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.postgresql.password">
<span class="sig-prename descclassname"><span class="pre">searx.engines.postgresql.</span></span><span class="sig-name descname"><span class="pre">password</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.postgresql.password" title="Link to this definition">¶</a></dt>
<dd><p>Password for the DB connection.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.postgresql.query_str">
<span class="sig-prename descclassname"><span class="pre">searx.engines.postgresql.</span></span><span class="sig-name descname"><span class="pre">query_str</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.postgresql.query_str" title="Link to this definition">¶</a></dt>
<dd><p>SQL query that returns the result items.</p>
</dd></dl>

</section>
<section id="engine-mysql-server">
<span id="id6"></span><h6 aria-level="8"><a class="toc-backref" href="#id15" role="doc-backlink">MySQL</a><a class="headerlink" href="#engine-mysql-server" title="Link to this heading">¶</a></h6>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<ul class="simple">
<li><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/mysql_server.py">mysql_server.py</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span></code> <a class="extlink-pypi reference external" href="https://pypi.org/project/mysql-connector-python">mysql-connector-python</a></p></li>
</ul>
</aside>
<p id="module-searx.engines.mysql_server">MySQL is said to be the most popular open source database.  Before enabling
MySQL engine, you must install the package <code class="docutils literal notranslate"><span class="pre">mysql-connector-python</span></code>.</p>
<p>The authentication plugin is configurable by setting <code class="docutils literal notranslate"><span class="pre">auth_plugin</span></code> in the
attributes.  By default it is set to <code class="docutils literal notranslate"><span class="pre">caching_sha2_password</span></code>.</p>
<section id="id7">
<h6 aria-level="9">Example<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h6>
<p>This is an example configuration for querying a MySQL server:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_database</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mysql_server</span>
<span class="w">  </span><span class="nt">database</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_database</span>
<span class="w">  </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">searxng</span>
<span class="w">  </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">password</span>
<span class="w">  </span><span class="nt">limit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">  </span><span class="nt">query_str</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;SELECT</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">from</span><span class="nv"> </span><span class="s">my_table</span><span class="nv"> </span><span class="s">WHERE</span><span class="nv"> </span><span class="s">my_column=%(query)s&#39;</span>
</pre></div>
</div>
</section>
<section id="id8">
<h6 aria-level="9">Implementations<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.mysql_server.host">
<span class="sig-prename descclassname"><span class="pre">searx.engines.mysql_server.</span></span><span class="sig-name descname"><span class="pre">host</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'127.0.0.1'</span></em><a class="headerlink" href="#searx.engines.mysql_server.host" title="Link to this definition">¶</a></dt>
<dd><p>Hostname of the DB connector</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.mysql_server.port">
<span class="sig-prename descclassname"><span class="pre">searx.engines.mysql_server.</span></span><span class="sig-name descname"><span class="pre">port</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3306</span></em><a class="headerlink" href="#searx.engines.mysql_server.port" title="Link to this definition">¶</a></dt>
<dd><p>Port of the DB connector</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.mysql_server.database">
<span class="sig-prename descclassname"><span class="pre">searx.engines.mysql_server.</span></span><span class="sig-name descname"><span class="pre">database</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.mysql_server.database" title="Link to this definition">¶</a></dt>
<dd><p>Name of the database.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.mysql_server.username">
<span class="sig-prename descclassname"><span class="pre">searx.engines.mysql_server.</span></span><span class="sig-name descname"><span class="pre">username</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.mysql_server.username" title="Link to this definition">¶</a></dt>
<dd><p>Username for the DB connection.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.mysql_server.password">
<span class="sig-prename descclassname"><span class="pre">searx.engines.mysql_server.</span></span><span class="sig-name descname"><span class="pre">password</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.mysql_server.password" title="Link to this definition">¶</a></dt>
<dd><p>Password for the DB connection.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.mysql_server.query_str">
<span class="sig-prename descclassname"><span class="pre">searx.engines.mysql_server.</span></span><span class="sig-name descname"><span class="pre">query_str</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.mysql_server.query_str" title="Link to this definition">¶</a></dt>
<dd><p>SQL query that returns the result items.</p>
</dd></dl>

</section>
<section id="mariadb">
<span id="engine-mariadb-server"></span><h6 aria-level="8"><a class="toc-backref" href="#id16" role="doc-backlink">MariaDB</a><a class="headerlink" href="#mariadb" title="Link to this heading">¶</a></h6>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<ul class="simple">
<li><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/mariadb_server.py">mariadb_server.py</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span></code> <a class="extlink-pypi reference external" href="https://pypi.org/project/mariadb">mariadb</a></p></li>
</ul>
</aside>
<p id="module-searx.engines.mariadb_server">MariaDB is a community driven fork of MySQL. Before enabling MariaDB engine,
you must the install the pip package <code class="docutils literal notranslate"><span class="pre">mariadb</span></code> along with the necessary
prerequities.</p>
<p><a class="reference external" href="https://mariadb.com/docs/server/connect/programming-languages/c/install/">See the following documentation for more details</a></p>
<section id="id9">
<h6 aria-level="9">Example<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h6>
<p>This is an example configuration for querying a MariaDB server:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_database</span>
<span class="w">  </span><span class="nt">engine</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mariadb_server</span>
<span class="w">  </span><span class="nt">database</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_database</span>
<span class="w">  </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">searxng</span>
<span class="w">  </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">password</span>
<span class="w">  </span><span class="nt">limit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">  </span><span class="nt">query_str</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;SELECT</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">from</span><span class="nv"> </span><span class="s">my_table</span><span class="nv"> </span><span class="s">WHERE</span><span class="nv"> </span><span class="s">my_column=%(query)s&#39;</span>
</pre></div>
</div>
</section>
<section id="id10">
<h6 aria-level="9">Implementations<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h6>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.mariadb_server.host">
<span class="sig-prename descclassname"><span class="pre">searx.engines.mariadb_server.</span></span><span class="sig-name descname"><span class="pre">host</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'127.0.0.1'</span></em><a class="headerlink" href="#searx.engines.mariadb_server.host" title="Link to this definition">¶</a></dt>
<dd><p>Hostname of the DB connector</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.mariadb_server.port">
<span class="sig-prename descclassname"><span class="pre">searx.engines.mariadb_server.</span></span><span class="sig-name descname"><span class="pre">port</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3306</span></em><a class="headerlink" href="#searx.engines.mariadb_server.port" title="Link to this definition">¶</a></dt>
<dd><p>Port of the DB connector</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.mariadb_server.database">
<span class="sig-prename descclassname"><span class="pre">searx.engines.mariadb_server.</span></span><span class="sig-name descname"><span class="pre">database</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.mariadb_server.database" title="Link to this definition">¶</a></dt>
<dd><p>Name of the database.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.mariadb_server.username">
<span class="sig-prename descclassname"><span class="pre">searx.engines.mariadb_server.</span></span><span class="sig-name descname"><span class="pre">username</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.mariadb_server.username" title="Link to this definition">¶</a></dt>
<dd><p>Username for the DB connection.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.mariadb_server.password">
<span class="sig-prename descclassname"><span class="pre">searx.engines.mariadb_server.</span></span><span class="sig-name descname"><span class="pre">password</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.mariadb_server.password" title="Link to this definition">¶</a></dt>
<dd><p>Password for the DB connection.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.mariadb_server.query_str">
<span class="sig-prename descclassname"><span class="pre">searx.engines.mariadb_server.</span></span><span class="sig-name descname"><span class="pre">query_str</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.engines.mariadb_server.query_str" title="Link to this definition">¶</a></dt>
<dd><p>SQL query that returns the result items.</p>
</dd></dl>

</section>
</section>
</section>
</div>
</section>
<section id="online-url-search">
<span id="id4"></span><h5><a class="toc-backref" href="#id11" role="doc-backlink">Online URL Search</a><a class="headerlink" href="#online-url-search" title="Link to this heading">¶</a></h5>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<ul class="simple">
<li><p><a class="reference internal" href="#module-searx.search.processors.online_url_search" title="searx.search.processors.online_url_search"><code class="xref py py-obj docutils literal notranslate"><span class="pre">processors.online_url_search</span></code></a></p></li>
</ul>
</aside>
<div class="toctree-wrapper compound">
<span id="document-dev/engines/online_url_search/tineye"></span><section id="tineye">
<span id="tineye-engine"></span><h6>Tineye<a class="headerlink" href="#tineye" title="Link to this heading">¶</a></h6>
<p id="module-searx.engines.tineye">This engine implements <em>Tineye - reverse image search</em></p>
<p>Using TinEye, you can search by image or perform what we call a reverse image
search.  You can do that by uploading an image or searching by URL. You can also
simply drag and drop your images to start your search.  TinEye constantly crawls
the web and adds images to its index.  Today, the TinEye index is over 50.2
billion images <a class="reference external" href="https://tineye.com/how">[tineye.com]</a>.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>This SearXNG engine only supports <em>‘searching by URL’</em> and it does not use
the official API <a class="reference external" href="https://api.tineye.com/python/docs/">[api.tineye.com]</a>.</p>
</div>
<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.tineye.engine_type">
<span class="sig-prename descclassname"><span class="pre">searx.engines.tineye.</span></span><span class="sig-name descname"><span class="pre">engine_type</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'online_url_search'</span></em><a class="headerlink" href="#searx.engines.tineye.engine_type" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#module-searx.search.processors.online_url_search" title="searx.search.processors.online_url_search"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.search.processors.online_url_search</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.tineye.FORMAT_NOT_SUPPORTED">
<span class="sig-prename descclassname"><span class="pre">searx.engines.tineye.</span></span><span class="sig-name descname"><span class="pre">FORMAT_NOT_SUPPORTED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Could</span> <span class="pre">not</span> <span class="pre">read</span> <span class="pre">that</span> <span class="pre">image</span> <span class="pre">url.</span> <span class="pre">This</span> <span class="pre">may</span> <span class="pre">be</span> <span class="pre">due</span> <span class="pre">to</span> <span class="pre">an</span> <span class="pre">unsupported</span> <span class="pre">file</span> <span class="pre">format.</span> <span class="pre">TinEye</span> <span class="pre">only</span> <span class="pre">supports</span> <span class="pre">images</span> <span class="pre">that</span> <span class="pre">are</span> <span class="pre">JPEG,</span> <span class="pre">PNG,</span> <span class="pre">GIF,</span> <span class="pre">BMP,</span> <span class="pre">TIFF</span> <span class="pre">or</span> <span class="pre">WebP.'</span></em><a class="headerlink" href="#searx.engines.tineye.FORMAT_NOT_SUPPORTED" title="Link to this definition">¶</a></dt>
<dd><p>TinEye error message</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.tineye.NO_SIGNATURE_ERROR">
<span class="sig-prename descclassname"><span class="pre">searx.engines.tineye.</span></span><span class="sig-name descname"><span class="pre">NO_SIGNATURE_ERROR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'The</span> <span class="pre">image</span> <span class="pre">is</span> <span class="pre">too</span> <span class="pre">simple</span> <span class="pre">to</span> <span class="pre">find</span> <span class="pre">matches.</span> <span class="pre">TinEye</span> <span class="pre">requires</span> <span class="pre">a</span> <span class="pre">basic</span> <span class="pre">level</span> <span class="pre">of</span> <span class="pre">visual</span> <span class="pre">detail</span> <span class="pre">to</span> <span class="pre">successfully</span> <span class="pre">identify</span> <span class="pre">matches.'</span></em><a class="headerlink" href="#searx.engines.tineye.NO_SIGNATURE_ERROR" title="Link to this definition">¶</a></dt>
<dd><p>TinEye error message</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.engines.tineye.DOWNLOAD_ERROR">
<span class="sig-prename descclassname"><span class="pre">searx.engines.tineye.</span></span><span class="sig-name descname"><span class="pre">DOWNLOAD_ERROR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'The</span> <span class="pre">image</span> <span class="pre">could</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">downloaded.'</span></em><a class="headerlink" href="#searx.engines.tineye.DOWNLOAD_ERROR" title="Link to this definition">¶</a></dt>
<dd><p>TinEye error message</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.tineye.request">
<span class="sig-prename descclassname"><span class="pre">searx.engines.tineye.</span></span><span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.tineye.request" title="Link to this definition">¶</a></dt>
<dd><p>Build TinEye HTTP request using <code class="docutils literal notranslate"><span class="pre">search_urls</span></code> of a <a class="reference internal" href="#searx.engines.tineye.engine_type" title="searx.engines.tineye.engine_type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">engine_type</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.tineye.parse_tineye_match">
<span class="sig-prename descclassname"><span class="pre">searx.engines.tineye.</span></span><span class="sig-name descname"><span class="pre">parse_tineye_match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">match_json</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.engines.tineye.parse_tineye_match" title="Link to this definition">¶</a></dt>
<dd><p>Takes parsed JSON from the API server and turns it into a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>
object.</p>
<p>Attributes <a class="reference external" href="https://github.com/TinEye/pytineye/blob/main/pytineye/api.py">(class Match)</a></p>
<ul class="simple">
<li><p><cite>image_url</cite>, link to the result image.</p></li>
<li><p><cite>domain</cite>, domain this result was found on.</p></li>
<li><p><cite>score</cite>, a number (0 to 100) that indicates how closely the images match.</p></li>
<li><p><cite>width</cite>, image width in pixels.</p></li>
<li><p><cite>height</cite>, image height in pixels.</p></li>
<li><p><cite>size</cite>, image area in pixels.</p></li>
<li><p><cite>format</cite>, image format.</p></li>
<li><p><cite>filesize</cite>, image size in bytes.</p></li>
<li><p><cite>overlay</cite>, overlay URL.</p></li>
<li><p><cite>tags</cite>, whether this match belongs to a collection or stock domain.</p></li>
<li><p><cite>backlinks</cite>, a list of Backlink objects pointing to the original websites
and image URLs. List items are instances of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, (<a class="reference external" href="https://github.com/TinEye/pytineye/blob/main/pytineye/api.py">Backlink</a>):</p>
<ul>
<li><p><cite>url</cite>, the image URL to the image.</p></li>
<li><p><cite>backlink</cite>, the original website URL.</p></li>
<li><p><cite>crawl_date</cite>, the date the image was crawled.</p></li>
</ul>
</li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.engines.tineye.response">
<span class="sig-prename descclassname"><span class="pre">searx.engines.tineye.</span></span><span class="sig-name descname"><span class="pre">response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resp</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#searx.result_types.EngineResults" title="searx.result_types.EngineResults"><span class="pre">EngineResults</span></a></span></span><a class="headerlink" href="#searx.engines.tineye.response" title="Link to this definition">¶</a></dt>
<dd><p>Parse HTTP response from TinEye.</p>
</dd></dl>

</section>
</div>
</section>
<section id="online-currency">
<span id="id5"></span><h5><a class="toc-backref" href="#id12" role="doc-backlink">Online Currency</a><a class="headerlink" href="#online-currency" title="Link to this heading">¶</a></h5>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<ul class="simple">
<li><p><a class="reference internal" href="#module-searx.search.processors.online_currency" title="searx.search.processors.online_currency"><code class="xref py py-obj docutils literal notranslate"><span class="pre">processors.online_currency</span></code></a></p></li>
</ul>
</aside>
<p><em>no engine of this type is documented yet / coming soon</em></p>
</section>
<section id="online-dictionary">
<span id="id6"></span><h5><a class="toc-backref" href="#id13" role="doc-backlink">Online Dictionary</a><a class="headerlink" href="#online-dictionary" title="Link to this heading">¶</a></h5>
<aside class="sidebar">
<p class="sidebar-title">info</p>
<ul class="simple">
<li><p><a class="reference internal" href="#module-searx.search.processors.online_dictionary" title="searx.search.processors.online_dictionary"><code class="xref py py-obj docutils literal notranslate"><span class="pre">processors.online_dictionary</span></code></a></p></li>
</ul>
</aside>
<p><em>no engine of this type is documented yet / coming soon</em></p>
</section>
</section>
</section>
<span id="document-dev/result_types/index"></span><section id="result-types">
<span id="id1"></span><h3>Result Types<a class="headerlink" href="#result-types" title="Link to this heading">¶</a></h3>
<p>To understand the typification of the results, let’s take a brief look at the
structure of Infinity Search ..  At its core, Infinity Search is nothing more than an aggregator
that aggregates the results from various sources, renders them via templates and
displays them to the user.</p>
<p>The <strong>sources</strong> can be:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#engine-implementations"><span class="std std-ref">engines</span></a></p></li>
<li><p><a class="reference internal" href="#dev-plugin"><span class="std std-ref">plugins</span></a></p></li>
<li><p><a class="reference internal" href="#dev-answerers"><span class="std std-ref">answerers</span></a></p></li>
</ol>
<p>The sources provide the results, which are displayed in different <strong>areas</strong>
depending on the type of result. The areas are:</p>
<dl class="simple" id="area-main-results">
<dt><a class="reference internal" href="#main-search-results"><span class="std std-ref">area main results</span></a></dt><dd><p>It is the main area in which – as is typical for search engines – the
results that a search engine has found for the search term are displayed.</p>
</dd>
</dl>
<dl class="simple" id="area-answer-results">
<dt><a class="reference internal" href="#result-types-answer"><span class="std std-ref">area answers</span></a></dt><dd><p>This area displays short answers that could be found for the search term.</p>
</dd>
</dl>
<dl class="simple" id="area-info-box">
<dt><a class="reference internal" href="#result-types-infobox"><span class="std std-ref">area info box</span></a></dt><dd><p>An area in which additional information can be displayed, e.g. excerpts from
wikipedia or other sources such as maps.</p>
</dd>
</dl>
<dl class="simple" id="area-suggestions-results">
<dt><a class="reference internal" href="#result-types-suggestion"><span class="std std-ref">area suggestions</span></a></dt><dd><p>Suggestions for alternative search terms can be found in this area.  These can
be clicked on and a search is carried out with these search terms.</p>
</dd>
</dl>
<dl class="simple" id="area-corrections-results">
<dt><a class="reference internal" href="#result-types-corrections"><span class="std std-ref">area corrections</span></a></dt><dd><p>Results in this area are like the suggestion of alternative search terms,
which usually result from spelling corrections</p>
</dd>
</dl>
<p>At this point it is important to note that all <strong>sources</strong> can contribute
results to all of the areas mentioned above.</p>
<p>In most cases, however, the <a class="reference internal" href="#engine-implementations"><span class="std std-ref">engines</span></a> will fill
the <em>main results</em> and the <a class="reference internal" href="#dev-answerers"><span class="std std-ref">answerers</span></a> will generally
provide the contributions for the <em>answer</em> area.  Not necessary to mention here
but for a better understanding: the plugins can also filter out or change
results from the main results area (e.g. the URL of the link).</p>
<p>The result items are organized in the <code class="xref py py-obj docutils literal notranslate"><span class="pre">results.ResultContainer</span></code> and
after all sources have delivered their results, this container is passed to the
templating to build a HTML output.  The output is usually HTML, but it is also
possible to output the result lists as JSON or RSS feed. Thats quite all we need
to know before we dive into typification of result items.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Typification of result items: we are at the very first beginng!</p>
</div>
<p>The first thing we have to realize is that there is no typification of the
result items so far, we have to build it up first .. and that is quite a big
task, which we will only be able to accomplish gradually.</p>
<p>The foundation for the typeless results was laid back in 2013 in the very first
commit <a class="reference external" href="https://github.com/searxng/searxng/commit/ae9fb1d7d">&#64;ae9fb1d</a>, and the principle has not changed since then.  At
the time, the approach was perfectly adequate, but we have since evolved and the
demands on Infinity Search increase with every feature request.</p>
<p><strong>Motivation:</strong> in the meantime, it has become very difficult to develop new
features that require structural changes and it is especially hard for newcomers
to find their way in this typeless world.  As long as the results are only
simple key/value dictionaries, it is not even possible for the IDEs to support
the application developer in his work.</p>
<p><strong>Planning:</strong> The procedure for subsequent typing will have to be based on the
circumstances ..</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>As long as there is no type defined for a kind of result the HTML template
specify what the properties of a type are.</p>
<p>In this sense, you will either find a type definition here in the
documentation or, if this does not yet exist, a description of the HTML
template.</p>
</div>
<div class="toctree-wrapper compound">
<span id="document-dev/result_types/base_result"></span><section id="module-searx.result_types._base">
<span id="result"></span><h4>Result<a class="headerlink" href="#module-searx.result_types._base" title="Link to this heading">¶</a></h4>
<p>Basic types for the typification of results.</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.result_types._base.Result" title="searx.result_types._base.Result"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Result</span></code></a> base class</p></li>
<li><p><a class="reference internal" href="#searx.result_types._base.LegacyResult" title="searx.result_types._base.LegacyResult"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LegacyResult</span></code></a> for internal use only</p></li>
</ul>
<hr class="docutils" />
<dl class="py class">
<dt class="sig sig-object py" id="searx.result_types._base.Result">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.result_types._base.</span></span><span class="sig-name descname"><span class="pre">Result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'default.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parsed_url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.ParseResult" title="(in Python v3.13)"><span class="pre">ParseResult</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.result_types._base.Result" title="Link to this definition">¶</a></dt>
<dd><p>Base class of all result types <a class="reference internal" href="#result-types"><span class="std std-ref">Result Types</span></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types._base.Result.url">
<span class="sig-name descname"><span class="pre">url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#searx.result_types._base.Result.url" title="Link to this definition">¶</a></dt>
<dd><p>A link related to this <em>result</em></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types._base.Result.template">
<span class="sig-name descname"><span class="pre">template</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.result_types._base.Result.template" title="Link to this definition">¶</a></dt>
<dd><p>Name of the template used to render the result.</p>
<p>By default <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/templates/simple/result_templates/default.html">result_templates/default.html</a> is used.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types._base.Result.engine">
<span class="sig-name descname"><span class="pre">engine</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#searx.result_types._base.Result.engine" title="Link to this definition">¶</a></dt>
<dd><p>Name of the engine <em>this</em> result comes from.  In case of <em>plugins</em> a
prefix <code class="docutils literal notranslate"><span class="pre">plugin:</span></code> is set, in case of <em>answerer</em> prefix <code class="docutils literal notranslate"><span class="pre">answerer:</span></code> is
set.</p>
<p>The field is optional and is initialized from the context if necessary.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types._base.Result.parsed_url">
<span class="sig-name descname"><span class="pre">parsed_url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.ParseResult" title="(in Python v3.13)"><span class="pre">ParseResult</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#searx.result_types._base.Result.parsed_url" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.ParseResult" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">urllib.parse.ParseResult</span></code></a> of <a class="reference internal" href="#searx.result_types._base.Result.url" title="searx.result_types._base.Result.url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Result.url</span></code></a>.</p>
<p>The field is optional and is initialized from the context if necessary.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.result_types._base.Result.normalize_result_fields">
<span class="sig-name descname"><span class="pre">normalize_result_fields</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#searx.result_types._base.Result.normalize_result_fields" title="Link to this definition">¶</a></dt>
<dd><p>Normalize fields <code class="docutils literal notranslate"><span class="pre">url</span></code> and <code class="docutils literal notranslate"><span class="pre">parse_sql</span></code>.</p>
<ul class="simple">
<li><p>If field <code class="docutils literal notranslate"><span class="pre">url</span></code> is set and field <code class="docutils literal notranslate"><span class="pre">parse_url</span></code> is unset, init
<code class="docutils literal notranslate"><span class="pre">parse_url</span></code> from field <code class="docutils literal notranslate"><span class="pre">url</span></code>.  The <code class="docutils literal notranslate"><span class="pre">url</span></code> field is initialized
with the resulting value in <code class="docutils literal notranslate"><span class="pre">parse_url</span></code>, if <code class="docutils literal notranslate"><span class="pre">url</span></code> and
<code class="docutils literal notranslate"><span class="pre">parse_url</span></code> are not equal.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.result_types._base.Result.filter_urls">
<span class="sig-name descname"><span class="pre">filter_urls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filter_func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable" title="(in Python v3.13)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#searx.result_types._base.Result" title="searx.result_types._base.Result"><span class="pre">Result</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#searx.result_types._base.LegacyResult" title="searx.result_types._base.LegacyResult"><span class="pre">LegacyResult</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.result_types._base.Result.filter_urls" title="Link to this definition">¶</a></dt>
<dd><p>A filter function is passed in the <code class="docutils literal notranslate"><span class="pre">filter_func</span></code> argument to
filter and/or modify the URLs.</p>
<p>The filter function receives the <a class="reference internal" href="#searx.result_types._base.Result" title="searx.result_types._base.Result"><code class="xref py py-obj docutils literal notranslate"><span class="pre">result</span> <span class="pre">object</span></code></a> as
the first argument and the field name (<code class="docutils literal notranslate"><span class="pre">str</span></code>) in the second argument.
In the third argument the URL string value is passed to the filter function.</p>
<p>The filter function is applied to all fields that contain a URL,
in addition to the familiar <code class="docutils literal notranslate"><span class="pre">url</span></code> field, these include fields such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s2">&quot;url&quot;</span><span class="p">,</span> <span class="s2">&quot;iframe_src&quot;</span><span class="p">,</span> <span class="s2">&quot;audio_src&quot;</span><span class="p">,</span> <span class="s2">&quot;img_src&quot;</span><span class="p">,</span> <span class="s2">&quot;thumbnail_src&quot;</span><span class="p">,</span> <span class="s2">&quot;thumbnail&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>and the <code class="docutils literal notranslate"><span class="pre">urls</span></code> list of items of the infobox.</p>
<p>For each field, the filter function is called and returns a bool or a
string value:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>: leave URL in field unchanged</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>: remove URL field from result (or remove entire result)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str</span></code>: modified URL to be used instead</p></li>
</ul>
<p>See <a class="reference internal" href="#filter-urls-example"><span class="std std-ref">Filter URLs example</span></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.result_types._base.Result.defaults_from">
<span class="sig-name descname"><span class="pre">defaults_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.result_types._base.Result" title="searx.result_types._base.Result"><span class="pre">Result</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.result_types._base.Result.defaults_from" title="Link to this definition">¶</a></dt>
<dd><p>Fields not set in <em>self</em> will be updated from the field values of the
<em>other</em>.</p>
</dd></dl>

</dd></dl>

<dl class="py class" id="legacyresult">
<dt class="sig sig-object py" id="searx.result_types._base.LegacyResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.result_types._base.</span></span><span class="sig-name descname"><span class="pre">LegacyResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.result_types._base.LegacyResult" title="Link to this definition">¶</a></dt>
<dd><p>A wrapper around a legacy result item.  The SearXNG core uses this class
for untyped dictionaries / to be downward compatible.</p>
<p>This class is needed until we have implemented an <a class="reference internal" href="#searx.result_types._base.Result" title="searx.result_types._base.Result"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Result</span></code></a> class for
each result type and the old usages in the codebase have been fully
migrated.</p>
<p>There is only one place where this class is used, in the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.results.ResultContainer</span></code>.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Do not use this class in your own implementations!</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="searx.result_types._base.LegacyResult.filter_urls">
<span class="sig-name descname"><span class="pre">filter_urls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filter_func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable" title="(in Python v3.13)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#searx.result_types._base.Result" title="searx.result_types._base.Result"><span class="pre">Result</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#searx.result_types._base.LegacyResult" title="searx.result_types._base.LegacyResult"><span class="pre">LegacyResult</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.result_types._base.LegacyResult.filter_urls" title="Link to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#searx.result_types._base.Result.filter_urls" title="searx.result_types._base.Result.filter_urls"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Result.filter_urls</span></code></a></p>
</dd></dl>

</dd></dl>

</section>
<span id="document-dev/result_types/main_result"></span><section id="main-search-results">
<span id="id1"></span><h4>Main Search Results<a class="headerlink" href="#main-search-results" title="Link to this heading">¶</a></h4>
<p>In the <a class="reference internal" href="#area-main-results"><span class="std std-ref">area main results</span></a> the results that a search engine has found for
the search term are displayed.</p>
<p>There is still no typing for all items in the <a class="reference internal" href="#main-result-list"><span class="std std-ref">Main Result List</span></a>.  The
following types have been implemented so far ..</p>
<div class="toctree-wrapper compound">
<span id="document-dev/result_types/main/mainresult"></span><dl class="py class" id="result-types-mainresult">
<dt class="sig sig-object py" id="searx.result_types._base.MainResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.result_types._base.</span></span><span class="sig-name descname"><span class="pre">MainResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img_src:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thumbnail:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">publishedDate:</span> <span class="pre">~datetime.datetime</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pubdate:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length:</span> <span class="pre">~time.struct_time</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">views:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">author:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority:</span> <span class="pre">~typing.Literal[''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">'high'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">'low']</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engines:</span> <span class="pre">set[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">open_group:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">close_group:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">positions:</span> <span class="pre">list[int]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">score:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">category:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'default.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parsed_url:</span> <span class="pre">~urllib.parse.ParseResult</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.result_types._base.MainResult" title="Link to this definition">¶</a></dt>
<dd><p>Base class of all result types displayed in <a class="reference internal" href="#area-main-results"><span class="std std-ref">area main results</span></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types._base.MainResult.title">
<span class="sig-name descname"><span class="pre">title</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.result_types._base.MainResult.title" title="Link to this definition">¶</a></dt>
<dd><p>Link title of the result item.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types._base.MainResult.content">
<span class="sig-name descname"><span class="pre">content</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.result_types._base.MainResult.content" title="Link to this definition">¶</a></dt>
<dd><p>Extract or description of the result item</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types._base.MainResult.img_src">
<span class="sig-name descname"><span class="pre">img_src</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.result_types._base.MainResult.img_src" title="Link to this definition">¶</a></dt>
<dd><p>URL of a image that is displayed in the result item.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types._base.MainResult.thumbnail">
<span class="sig-name descname"><span class="pre">thumbnail</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.result_types._base.MainResult.thumbnail" title="Link to this definition">¶</a></dt>
<dd><p>URL of a thumbnail that is displayed in the result item.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types._base.MainResult.publishedDate">
<span class="sig-name descname"><span class="pre">publishedDate</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><span class="pre">datetime</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#searx.result_types._base.MainResult.publishedDate" title="Link to this definition">¶</a></dt>
<dd><p>The date on which the object was published.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types._base.MainResult.pubdate">
<span class="sig-name descname"><span class="pre">pubdate</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.result_types._base.MainResult.pubdate" title="Link to this definition">¶</a></dt>
<dd><p>String representation of <a class="reference internal" href="#searx.result_types._base.MainResult.publishedDate" title="searx.result_types._base.MainResult.publishedDate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MainResult.publishedDate</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types._base.MainResult.length">
<span class="sig-name descname"><span class="pre">length</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/time.html#time.struct_time" title="(in Python v3.13)"><span class="pre">struct_time</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#searx.result_types._base.MainResult.length" title="Link to this definition">¶</a></dt>
<dd><p>Playing duration in seconds.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types._base.MainResult.views">
<span class="sig-name descname"><span class="pre">views</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.result_types._base.MainResult.views" title="Link to this definition">¶</a></dt>
<dd><p>View count in humanized number format.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types._base.MainResult.author">
<span class="sig-name descname"><span class="pre">author</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.result_types._base.MainResult.author" title="Link to this definition">¶</a></dt>
<dd><p>Author of the title.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types._base.MainResult.metadata">
<span class="sig-name descname"><span class="pre">metadata</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.result_types._base.MainResult.metadata" title="Link to this definition">¶</a></dt>
<dd><p>Miscellaneous metadata.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types._base.MainResult.priority">
<span class="sig-name descname"><span class="pre">priority</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">''</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'high'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'low'</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.result_types._base.MainResult.priority" title="Link to this definition">¶</a></dt>
<dd><p>The priority can be set via <a class="reference internal" href="#hostnames-plugin"><span class="std std-ref">Hostnames</span></a>, for example.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types._base.MainResult.engines">
<span class="sig-name descname"><span class="pre">engines</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.13)"><span class="pre">set</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.result_types._base.MainResult.engines" title="Link to this definition">¶</a></dt>
<dd><p>In a merged results list, the names of the engines that found this result
are listed in this field.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.result_types._base.MainResult.normalize_result_fields">
<span class="sig-name descname"><span class="pre">normalize_result_fields</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#searx.result_types._base.MainResult.normalize_result_fields" title="Link to this definition">¶</a></dt>
<dd><p>Normalize fields <code class="docutils literal notranslate"><span class="pre">url</span></code> and <code class="docutils literal notranslate"><span class="pre">parse_sql</span></code>.</p>
<ul class="simple">
<li><p>If field <code class="docutils literal notranslate"><span class="pre">url</span></code> is set and field <code class="docutils literal notranslate"><span class="pre">parse_url</span></code> is unset, init
<code class="docutils literal notranslate"><span class="pre">parse_url</span></code> from field <code class="docutils literal notranslate"><span class="pre">url</span></code>.  The <code class="docutils literal notranslate"><span class="pre">url</span></code> field is initialized
with the resulting value in <code class="docutils literal notranslate"><span class="pre">parse_url</span></code>, if <code class="docutils literal notranslate"><span class="pre">url</span></code> and
<code class="docutils literal notranslate"><span class="pre">parse_url</span></code> are not equal.</p></li>
</ul>
</dd></dl>

</dd></dl>

<span id="document-dev/result_types/main/keyvalue"></span><section id="module-searx.result_types.keyvalue">
<span id="key-value-results"></span><span id="result-types-keyvalue"></span><h5>Key-Value Results<a class="headerlink" href="#module-searx.result_types.keyvalue" title="Link to this heading">¶</a></h5>
<p>Typification of the <em>keyvalue</em> results.  Results of this type are rendered in
the <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/templates/simple/result_templates/keyvalue.html">keyvalue.html</a>
template.</p>
<hr class="docutils" />
<dl class="py class">
<dt class="sig sig-object py" id="searx.result_types.keyvalue.KeyValue">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.result_types.keyvalue.</span></span><span class="sig-name descname"><span class="pre">KeyValue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">title:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">content:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">img_src:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">thumbnail:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">publishedDate:</span> <span class="pre">~datetime.datetime</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">pubdate:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">length:</span> <span class="pre">~time.struct_time</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">views:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">author:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">metadata:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">priority:</span> <span class="pre">~typing.Literal['',</span> <span class="pre">'high',</span> <span class="pre">'low']</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">engines:</span> <span class="pre">set[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">open_group:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False,</span> <span class="pre">close_group:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False,</span> <span class="pre">positions:</span> <span class="pre">list[int]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">score:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0,</span> <span class="pre">category:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">*,</span> <span class="pre">url:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">template:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'keyvalue.html',</span> <span class="pre">engine:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">parsed_url:</span> <span class="pre">~urllib.parse.ParseResult</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">kvmap:</span> <span class="pre">dict[str,</span> <span class="pre">~typing.Any]</span> <span class="pre">|</span> <span class="pre">~collections.OrderedDict[str,</span> <span class="pre">~typing.Any],</span> <span class="pre">caption:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">key_title:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">value_title:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.result_types.keyvalue.KeyValue" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#searx.result_types._base.MainResult" title="searx.result_types._base.MainResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">MainResult</span></code></a></p>
<p>Simple table view which maps <em>key</em> names (first col) to <em>values</em>
(second col).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.keyvalue.KeyValue.kvmap">
<span class="sig-name descname"><span class="pre">kvmap</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">OrderedDict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.result_types.keyvalue.KeyValue.kvmap" title="Link to this definition">¶</a></dt>
<dd><p>Dictionary with keys and values. To sort keys, use <code class="xref py py-obj docutils literal notranslate"><span class="pre">OrderedDict</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.keyvalue.KeyValue.caption">
<span class="sig-name descname"><span class="pre">caption</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.result_types.keyvalue.KeyValue.caption" title="Link to this definition">¶</a></dt>
<dd><p>Optional caption for this result.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.keyvalue.KeyValue.key_title">
<span class="sig-name descname"><span class="pre">key_title</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.result_types.keyvalue.KeyValue.key_title" title="Link to this definition">¶</a></dt>
<dd><p>Optional title for the <em>key column</em>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.keyvalue.KeyValue.value_title">
<span class="sig-name descname"><span class="pre">value_title</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.result_types.keyvalue.KeyValue.value_title" title="Link to this definition">¶</a></dt>
<dd><p>Optional title for the <em>value column</em>.</p>
</dd></dl>

</dd></dl>

</section>
</div>
<p>The <a class="reference internal" href="#legacyresult"><span class="std std-ref">LegacyResult</span></a> is used internally for the results that
have not yet been typed.  The templates can be used as orientation until the
final typing is complete.</p>
<ul class="simple">
<li><p><a class="reference internal" href="#template-default"><span class="std std-ref">default.html</span></a> / <code class="xref py py-obj docutils literal notranslate"><span class="pre">Result</span></code></p></li>
<li><p><a class="reference internal" href="#template-images"><span class="std std-ref">images.html</span></a></p></li>
<li><p><a class="reference internal" href="#template-videos"><span class="std std-ref">videos.html</span></a></p></li>
<li><p><a class="reference internal" href="#template-torrent"><span class="std std-ref">torrent.html</span></a></p></li>
<li><p><a class="reference internal" href="#template-map"><span class="std std-ref">map.html</span></a></p></li>
<li><p><a class="reference internal" href="#template-paper"><span class="std std-ref">paper.html</span></a></p></li>
<li><p><a class="reference internal" href="#template-packages"><span class="std std-ref">packages</span></a></p></li>
<li><p><a class="reference internal" href="#template-code"><span class="std std-ref">code.html</span></a></p></li>
<li><p><a class="reference internal" href="#template-files"><span class="std std-ref">files.html</span></a></p></li>
<li><p><a class="reference internal" href="#template-products"><span class="std std-ref">products.html</span></a></p></li>
</ul>
</section>
<span id="document-dev/result_types/answer"></span><section id="answer-results">
<span id="result-types-answer"></span><h4>Answer Results<a class="headerlink" href="#answer-results" title="Link to this heading">¶</a></h4>
<p>The <a class="reference internal" href="#area-answer-results"><span class="std std-ref">area answers</span></a> is an area in which additional information can
be displayed.</p>
<p id="module-searx.result_types.answer">Typification of the <em>answer</em> results.  Results of this type are rendered in
the <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/templates/simple/elements/answers.html">answers.html</a>
template.</p>
<hr class="docutils" />
<dl class="py class">
<dt class="sig sig-object py" id="searx.result_types.answer.BaseAnswer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.result_types.answer.</span></span><span class="sig-name descname"><span class="pre">BaseAnswer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'default.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parsed_url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.ParseResult" title="(in Python v3.13)"><span class="pre">ParseResult</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.result_types.answer.BaseAnswer" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#searx.result_types._base.Result" title="searx.result_types._base.Result"><code class="xref py py-class docutils literal notranslate"><span class="pre">Result</span></code></a></p>
<p>Base class of all answer types.  It is not intended to build instances of
this class (aka <em>abstract</em>).</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.result_types.answer.Answer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.result_types.answer.</span></span><span class="sig-name descname"><span class="pre">Answer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'answer/legacy.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parsed_url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.ParseResult" title="(in Python v3.13)"><span class="pre">ParseResult</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">answer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.result_types.answer.Answer" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#searx.result_types.answer.BaseAnswer" title="searx.result_types.answer.BaseAnswer"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseAnswer</span></code></a></p>
<p>Simple answer type where the <em>answer</em> is a simple string with an optional
<code class="xref py py-obj docutils literal notranslate"><span class="pre">url</span> <span class="pre">field</span></code> field to link a resource (article, map, ..)
related to the answer.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.answer.Answer.answer">
<span class="sig-name descname"><span class="pre">answer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.result_types.answer.Answer.answer" title="Link to this definition">¶</a></dt>
<dd><p>Text of the answer.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.result_types.answer.Translations">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.result_types.answer.</span></span><span class="sig-name descname"><span class="pre">Translations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'answer/translations.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parsed_url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.ParseResult" title="(in Python v3.13)"><span class="pre">ParseResult</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">translations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#searx.result_types.answer.Translations.Item" title="searx.result_types.answer.Translations.Item"><span class="pre">Item</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.result_types.answer.Translations" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#searx.result_types.answer.BaseAnswer" title="searx.result_types.answer.BaseAnswer"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseAnswer</span></code></a></p>
<p>Answer type with a list of translations.</p>
<p>The items in the list of <a class="reference internal" href="#searx.result_types.answer.Translations.translations" title="searx.result_types.answer.Translations.translations"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Translations.translations</span></code></a> are of type
<a class="reference internal" href="#searx.result_types.answer.Translations.Item" title="searx.result_types.answer.Translations.Item"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Translations.Item</span></code></a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">response</span><span class="p">(</span><span class="n">resp</span><span class="p">):</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="o">...</span>
    <span class="n">foo_1</span> <span class="o">=</span> <span class="n">Translations</span><span class="o">.</span><span class="n">Item</span><span class="p">(</span>
        <span class="n">text</span><span class="o">=</span><span class="s2">&quot;foobar&quot;</span><span class="p">,</span>
        <span class="n">synonyms</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">],</span>
        <span class="n">examples</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;foo and bar are placeholders&quot;</span><span class="p">],</span>
    <span class="p">)</span>
    <span class="n">foo_url</span><span class="o">=</span><span class="s2">&quot;https://www.deepl.com/de/translator#en/de/foo&quot;</span>
    <span class="o">...</span>
    <span class="n">Translations</span><span class="p">(</span><span class="n">results</span><span class="o">=</span><span class="n">results</span><span class="p">,</span> <span class="n">translations</span><span class="o">=</span><span class="p">[</span><span class="n">foo</span><span class="p">],</span> <span class="n">url</span><span class="o">=</span><span class="n">foo_url</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.answer.Translations.translations">
<span class="sig-name descname"><span class="pre">translations</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#searx.result_types.answer.Translations.Item" title="searx.result_types.answer.Translations.Item"><span class="pre">Translations.Item</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.result_types.answer.Translations.translations" title="Link to this definition">¶</a></dt>
<dd><p>List of translations.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.result_types.answer.Translations.Item">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transliteration:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">examples:</span> <span class="pre">list[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">definitions:</span> <span class="pre">list[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">synonyms:</span> <span class="pre">list[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.result_types.answer.Translations.Item" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Struct</span></code></p>
<p>A single element of the translations / a translation.  A translation
consists of at least a mandatory <code class="docutils literal notranslate"><span class="pre">text</span></code> property (the translation) ,
optional properties such as <em>definitions</em>, <em>synonyms</em> and <em>examples</em> are
possible.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.answer.Translations.Item.text">
<span class="sig-name descname"><span class="pre">text</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.result_types.answer.Translations.Item.text" title="Link to this definition">¶</a></dt>
<dd><p>Translated text.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.answer.Translations.Item.transliteration">
<span class="sig-name descname"><span class="pre">transliteration</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.result_types.answer.Translations.Item.transliteration" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://en.wikipedia.org/wiki/Transliteration">Transliteration</a> of the requested translation.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.answer.Translations.Item.examples">
<span class="sig-name descname"><span class="pre">examples</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.result_types.answer.Translations.Item.examples" title="Link to this definition">¶</a></dt>
<dd><p>List of examples for the requested translation.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.answer.Translations.Item.definitions">
<span class="sig-name descname"><span class="pre">definitions</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.result_types.answer.Translations.Item.definitions" title="Link to this definition">¶</a></dt>
<dd><p>List of definitions for the requested translation.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.answer.Translations.Item.synonyms">
<span class="sig-name descname"><span class="pre">synonyms</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.result_types.answer.Translations.Item.synonyms" title="Link to this definition">¶</a></dt>
<dd><p>List of synonyms for the requested translation.</p>
</dd></dl>

</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.result_types.answer.WeatherAnswer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.result_types.answer.</span></span><span class="sig-name descname"><span class="pre">WeatherAnswer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'answer/weather.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parsed_url:</span> <span class="pre">~urllib.parse.ParseResult</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current:</span> <span class="pre">~searx.result_types.answer.WeatherAnswer.Item</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">forecasts:</span> <span class="pre">list[~searx.result_types.answer.WeatherAnswer.Item]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">service:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.result_types.answer.WeatherAnswer" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#searx.result_types.answer.BaseAnswer" title="searx.result_types.answer.BaseAnswer"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseAnswer</span></code></a></p>
<p>Answer type for weather data.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.answer.WeatherAnswer.current">
<span class="sig-name descname"><span class="pre">current</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#searx.result_types.answer.WeatherAnswer.Item" title="searx.result_types.answer.WeatherAnswer.Item"><span class="pre">WeatherAnswer.Item</span></a></em><a class="headerlink" href="#searx.result_types.answer.WeatherAnswer.current" title="Link to this definition">¶</a></dt>
<dd><p>Current weather at <code class="docutils literal notranslate"><span class="pre">location</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.answer.WeatherAnswer.forecasts">
<span class="sig-name descname"><span class="pre">forecasts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#searx.result_types.answer.WeatherAnswer.Item" title="searx.result_types.answer.WeatherAnswer.Item"><span class="pre">WeatherAnswer.Item</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.result_types.answer.WeatherAnswer.forecasts" title="Link to this definition">¶</a></dt>
<dd><p>Weather forecasts for <code class="docutils literal notranslate"><span class="pre">location</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.answer.WeatherAnswer.service">
<span class="sig-name descname"><span class="pre">service</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.result_types.answer.WeatherAnswer.service" title="Link to this definition">¶</a></dt>
<dd><p>Weather service from which this information was provided.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.result_types.answer.WeatherAnswer.Item">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.weather.GeoLocation" title="searx.weather.GeoLocation"><span class="pre">GeoLocation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temperature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.weather.Temperature" title="searx.weather.Temperature"><span class="pre">Temperature</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'clear</span> <span class="pre">sky'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'partly</span> <span class="pre">cloudy'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cloudy'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'fair'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'fog'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">rain</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">rain</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">rain</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">rain'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rain</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rain</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rain</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rain'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">rain</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">rain</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">rain</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">rain'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">sleet</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">sleet</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">sleet</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">sleet'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'sleet</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'sleet</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'sleet</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'sleet'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">sleet</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">sleet</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">sleet</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">sleet'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">snow</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">snow</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">snow</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">snow'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'snow</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'snow</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'snow</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'snow'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">snow</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">snow</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">snow</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">snow'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datetime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.weather.DateTime" title="searx.weather.DateTime"><span class="pre">DateTime</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">summary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feels_like</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.weather.Temperature" title="searx.weather.Temperature"><span class="pre">Temperature</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pressure</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.weather.Pressure" title="searx.weather.Pressure"><span class="pre">Pressure</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">humidity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.weather.RelativeHumidity" title="searx.weather.RelativeHumidity"><span class="pre">RelativeHumidity</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wind_from</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.weather.Compass" title="searx.weather.Compass"><span class="pre">Compass</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">wind_speed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.weather.WindSpeed" title="searx.weather.WindSpeed"><span class="pre">WindSpeed</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cloud_cover</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.result_types.answer.WeatherAnswer.Item" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Struct</span></code></p>
<p>Weather parameters valid for a specific point in time.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.answer.WeatherAnswer.Item.location">
<span class="sig-name descname"><span class="pre">location</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#searx.weather.GeoLocation" title="searx.weather.GeoLocation"><span class="pre">GeoLocation</span></a></em><a class="headerlink" href="#searx.result_types.answer.WeatherAnswer.Item.location" title="Link to this definition">¶</a></dt>
<dd><p>The geo-location the weather data is from (e.g. <cite>Berlin, Germany</cite>).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.answer.WeatherAnswer.Item.temperature">
<span class="sig-name descname"><span class="pre">temperature</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#searx.weather.Temperature" title="searx.weather.Temperature"><span class="pre">Temperature</span></a></em><a class="headerlink" href="#searx.result_types.answer.WeatherAnswer.Item.temperature" title="Link to this definition">¶</a></dt>
<dd><p>Air temperature at 2m above the ground.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.answer.WeatherAnswer.Item.condition">
<span class="sig-name descname"><span class="pre">condition</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'clear</span> <span class="pre">sky'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'partly</span> <span class="pre">cloudy'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cloudy'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'fair'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'fog'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">rain</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">rain</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">rain</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">rain'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rain</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rain</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rain</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rain'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">rain</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">rain</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">rain</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">rain'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">sleet</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">sleet</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">sleet</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">sleet'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'sleet</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'sleet</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'sleet</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'sleet'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">sleet</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">sleet</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">sleet</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">sleet'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">snow</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">snow</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">snow</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">snow'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'snow</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'snow</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'snow</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'snow'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">snow</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">snow</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">snow</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">snow'</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.result_types.answer.WeatherAnswer.Item.condition" title="Link to this definition">¶</a></dt>
<dd><p>Standardized designations that summarize the weather situation
(e.g. <code class="docutils literal notranslate"><span class="pre">light</span> <span class="pre">sleet</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder</span></code>).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.answer.WeatherAnswer.Item.datetime">
<span class="sig-name descname"><span class="pre">datetime</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#searx.weather.DateTime" title="searx.weather.DateTime"><span class="pre">DateTime</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#searx.result_types.answer.WeatherAnswer.Item.datetime" title="Link to this definition">¶</a></dt>
<dd><p>Time of the forecast - not needed for the current weather.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.answer.WeatherAnswer.Item.summary">
<span class="sig-name descname"><span class="pre">summary</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#searx.result_types.answer.WeatherAnswer.Item.summary" title="Link to this definition">¶</a></dt>
<dd><p>One-liner about the weather forecast / current weather conditions.
If unset, a summary is build up from temperature and current weather
conditions.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.answer.WeatherAnswer.Item.feels_like">
<span class="sig-name descname"><span class="pre">feels_like</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#searx.weather.Temperature" title="searx.weather.Temperature"><span class="pre">Temperature</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#searx.result_types.answer.WeatherAnswer.Item.feels_like" title="Link to this definition">¶</a></dt>
<dd><p>Apparent temperature, the temperature equivalent perceived by
humans, caused by the combined effects of air temperature, relative
humidity and wind speed.  The measure is most commonly applied to the
perceived outdoor temperature.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.answer.WeatherAnswer.Item.pressure">
<span class="sig-name descname"><span class="pre">pressure</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#searx.weather.Pressure" title="searx.weather.Pressure"><span class="pre">Pressure</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#searx.result_types.answer.WeatherAnswer.Item.pressure" title="Link to this definition">¶</a></dt>
<dd><p>Air pressure at sea level (e.g. 1030 hPa)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.answer.WeatherAnswer.Item.humidity">
<span class="sig-name descname"><span class="pre">humidity</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#searx.weather.RelativeHumidity" title="searx.weather.RelativeHumidity"><span class="pre">RelativeHumidity</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#searx.result_types.answer.WeatherAnswer.Item.humidity" title="Link to this definition">¶</a></dt>
<dd><p>Amount of relative humidity in the air at 2m above the ground. The
unit is <code class="docutils literal notranslate"><span class="pre">%</span></code>, e.g. 60%)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.answer.WeatherAnswer.Item.wind_from">
<span class="sig-name descname"><span class="pre">wind_from</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#searx.weather.Compass" title="searx.weather.Compass"><span class="pre">Compass</span></a></em><a class="headerlink" href="#searx.result_types.answer.WeatherAnswer.Item.wind_from" title="Link to this definition">¶</a></dt>
<dd><p>The directon which moves towards / direction the wind is coming from.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.answer.WeatherAnswer.Item.wind_speed">
<span class="sig-name descname"><span class="pre">wind_speed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#searx.weather.WindSpeed" title="searx.weather.WindSpeed"><span class="pre">WindSpeed</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#searx.result_types.answer.WeatherAnswer.Item.wind_speed" title="Link to this definition">¶</a></dt>
<dd><p>Speed of wind / wind speed at 10m above the ground (10 min average).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.result_types.answer.WeatherAnswer.Item.cloud_cover">
<span class="sig-name descname"><span class="pre">cloud_cover</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#searx.result_types.answer.WeatherAnswer.Item.cloud_cover" title="Link to this definition">¶</a></dt>
<dd><p>Amount of sky covered by clouds / total cloud cover for all heights
(cloudiness, unit: %)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="searx.result_types.answer.WeatherAnswer.Item.url">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#searx.result_types.answer.WeatherAnswer.Item.url" title="Link to this definition">¶</a></dt>
<dd><p>Determines a <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/URI/Reference/Schemes/data">data URL</a> with a symbol for the weather
conditions.  If no symbol can be assigned, <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned.</p>
</dd></dl>

</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.result_types.answer.AnswerSet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.result_types.answer.</span></span><span class="sig-name descname"><span class="pre">AnswerSet</span></span><a class="headerlink" href="#searx.result_types.answer.AnswerSet" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Aggregator for <a class="reference internal" href="#searx.result_types.answer.BaseAnswer" title="searx.result_types.answer.BaseAnswer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseAnswer</span></code></a> items in a result container.</p>
</dd></dl>

</section>
<span id="document-dev/result_types/correction"></span><section id="correction-results">
<span id="result-types-corrections"></span><h4>Correction Results<a class="headerlink" href="#correction-results" title="Link to this heading">¶</a></h4>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>There is still no typing for these result items. The templates can be used as
orientation until the final typing is complete.</p>
</div>
<p>The <a class="reference internal" href="#area-corrections-results"><span class="std std-ref">area corrections</span></a> shows the user alternative search terms.</p>
<p>A result of this type is a very simple dictionary with only one key/value pair</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;correction&quot;</span> <span class="p">:</span> <span class="s2">&quot;lorem ipsum ..&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>From this simple dict another dict is build up:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># use RawTextQuery to get the corrections URLs with the same bang</span>
<span class="p">{</span><span class="s2">&quot;url&quot;</span> <span class="p">:</span> <span class="s2">&quot;!bang lorem ipsum ..&quot;</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;lorem ipsum ..&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<p>and used in the template <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/templates/simple/elements/corrections.html">corrections.html</a>:</p>
<dl>
<dt>title<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Corrected search term.</p>
</dd>
<dt>url<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Not really an URL, its the value to insert in a HTML form for an Infinity Search query.</p>
</dd>
</dl>
</section>
<span id="document-dev/result_types/suggestion"></span><section id="suggestion-results">
<span id="result-types-suggestion"></span><h4>Suggestion Results<a class="headerlink" href="#suggestion-results" title="Link to this heading">¶</a></h4>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>There is still no typing for these result items. The templates can be used as
orientation until the final typing is complete.</p>
</div>
<p>The <a class="reference internal" href="#area-suggestions-results"><span class="std std-ref">area suggestions</span></a> shows the user alternative search terms.</p>
<p>A result of this type is a very simple dictionary with only one key/value pair</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;suggestion&quot;</span> <span class="p">:</span> <span class="s2">&quot;lorem ipsum ..&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>From this simple dict another dict is build up:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;url&quot;</span> <span class="p">:</span> <span class="s2">&quot;!bang lorem ipsum ..&quot;</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;lorem ipsum&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<p>and used in the template <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/templates/simple/elements/suggestions.html">suggestions.html</a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># use RawTextQuery to get the suggestion URLs with the same bang</span>
<span class="p">{</span><span class="s2">&quot;url&quot;</span> <span class="p">:</span> <span class="s2">&quot;!bang lorem ipsum ..&quot;</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;lorem ipsum&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<dl>
<dt>title<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Suggested search term</p>
</dd>
<dt>url<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Not really an URL, its the value to insert in a HTML form for an Infinity Search query.</p>
</dd>
</dl>
</section>
<span id="document-dev/result_types/infobox"></span><section id="infobox-results">
<span id="result-types-infobox"></span><h4>Infobox Results<a class="headerlink" href="#infobox-results" title="Link to this heading">¶</a></h4>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>There is still no typing for these result items. The templates can be used as
orientation until the final typing is complete.</p>
</div>
<p>The <a class="reference internal" href="#area-info-box"><span class="std std-ref">area info box</span></a> is an area where addtional infos shown to the user.</p>
<p>Fields used in the <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/templates/simple/elements/infobox.html">infobox.html</a>:</p>
<dl class="simple">
<dt>img_src: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></dt><dd><p>URL of a image or thumbnail that is displayed in the infobox.</p>
</dd>
<dt>infobox: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></dt><dd><p>Title of the info box.</p>
</dd>
<dt>content: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></dt><dd><p>Text of the info box.</p>
</dd>
</dl>
<p>The infobox has additional subsections for <em>attributes</em>, <em>urls</em> and
<em>relatedTopics</em>:</p>
<dl>
<dt>attributes: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>]</dt><dd><p>A list of attributes.  An <em>attribute</em> is a dictionary with keys:</p>
<ul>
<li><p>label <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>: (mandatory)</p></li>
<li><p>value <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>: (mandatory)</p></li>
<li><p>image <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>] (optional)</p>
<p>A list of images.  An <em>image</em> is a dictionary with keys:</p>
<ul class="simple">
<li><p>src <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>: URL of an image/thumbnail (mandatory)</p></li>
<li><p>alt <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>: alternative text for the image (mandatory)</p></li>
</ul>
</li>
</ul>
</dd>
<dt>urls: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>]</dt><dd><p>A list of links.  An <em>link</em> is a dictionary with keys:</p>
<ul class="simple">
<li><p>url <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>: URL of the link (mandatory)</p></li>
<li><p>title <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>: Title of the link (mandatory)</p></li>
</ul>
</dd>
<dt>relatedTopics: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>]</dt><dd><p>A list of topics.  An <em>topic</em> is a dictionary with keys:</p>
<ul>
<li><p>name: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>: (mandatory)</p></li>
<li><p>suggestions: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>] (optional)</p>
<p>A list of suggestions.  A <em>suggestion</em> is simple dictionary with just one
key/value pair:</p>
<ul class="simple">
<li><p>suggestion: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>: suggested search term (mandatory)</p></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</div>
</section>
<span id="document-dev/templates"></span><section id="simple-theme-templates">
<span id="id1"></span><h3>Simple Theme Templates<a class="headerlink" href="#simple-theme-templates" title="Link to this heading">¶</a></h3>
<p>The simple template is complex, it consists of many different elements and also
uses macros and include statements.  The following is a rough overview that we
would like to give the developer at hand, details must still be taken from the
<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/templates/simple/">sources</a>.</p>
<p>A <a class="reference internal" href="#result-types"><span class="std std-ref">result item</span></a> can be of different media types.  The media
type of a result is defined by the <code class="xref py py-obj docutils literal notranslate"><span class="pre">result_type.Result.template</span></code>.  To
set another media-type as <a class="reference internal" href="#template-default"><span class="std std-ref">default.html</span></a>, the field <code class="docutils literal notranslate"><span class="pre">template</span></code>
in the result item must be set to the desired type.</p>
<nav class="contents local" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#result-template-macros" id="id4">Result template macros</a></p>
<ul>
<li><p><a class="reference internal" href="#result-header" id="id5"><code class="docutils literal notranslate"><span class="pre">result_header</span></code></a></p></li>
<li><p><a class="reference internal" href="#result-sub-header" id="id6"><code class="docutils literal notranslate"><span class="pre">result_sub_header</span></code></a></p></li>
<li><p><a class="reference internal" href="#engine-data-form" id="id7"><code class="docutils literal notranslate"><span class="pre">engine_data_form</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#main-result-list" id="id8">Main Result List</a></p>
<ul>
<li><p><a class="reference internal" href="#default-html" id="id9"><code class="docutils literal notranslate"><span class="pre">default.html</span></code></a></p></li>
<li><p><a class="reference internal" href="#images-html" id="id10"><code class="docutils literal notranslate"><span class="pre">images.html</span></code></a></p></li>
<li><p><a class="reference internal" href="#videos-html" id="id11"><code class="docutils literal notranslate"><span class="pre">videos.html</span></code></a></p></li>
<li><p><a class="reference internal" href="#torrent-html" id="id12"><code class="docutils literal notranslate"><span class="pre">torrent.html</span></code></a></p></li>
<li><p><a class="reference internal" href="#map-html" id="id13"><code class="docutils literal notranslate"><span class="pre">map.html</span></code></a></p></li>
<li><p><a class="reference internal" href="#paper-html" id="id14"><code class="docutils literal notranslate"><span class="pre">paper.html</span></code></a></p></li>
<li><p><a class="reference internal" href="#packages" id="id15"><code class="docutils literal notranslate"><span class="pre">packages</span></code></a></p></li>
<li><p><a class="reference internal" href="#code-html" id="id16"><code class="docutils literal notranslate"><span class="pre">code.html</span></code></a></p></li>
<li><p><a class="reference internal" href="#files-html" id="id17"><code class="docutils literal notranslate"><span class="pre">files.html</span></code></a></p></li>
<li><p><a class="reference internal" href="#products-html" id="id18"><code class="docutils literal notranslate"><span class="pre">products.html</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#answer-results" id="id19">Answer results</a></p></li>
<li><p><a class="reference internal" href="#suggestion-results" id="id20">Suggestion results</a></p></li>
<li><p><a class="reference internal" href="#correction-results" id="id21">Correction results</a></p></li>
<li><p><a class="reference internal" href="#infobox-results" id="id22">Infobox results</a></p></li>
</ul>
</nav>
<section id="result-template-macros">
<span id="id2"></span><h4><a class="toc-backref" href="#id4" role="doc-backlink">Result template macros</a><a class="headerlink" href="#result-template-macros" title="Link to this heading">¶</a></h4>
<section id="result-header">
<span id="macro-result-header"></span><h5><a class="toc-backref" href="#id5" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">result_header</span></code></a><a class="headerlink" href="#result-header" title="Link to this heading">¶</a></h5>
<p>Execpt <code class="docutils literal notranslate"><span class="pre">image.html</span></code> and some others this macro is used in nearly all result
types in the <a class="reference internal" href="#main-result-list"><span class="std std-ref">Main Result List</span></a>.</p>
<p>Fields used in the template <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/templates/simple/macros.html">macro result_header</a>:</p>
<dl>
<dt>url<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Link URL of the result item.</p>
</dd>
<dt>title<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Link title of the result item.</p>
</dd>
<dt>img_src, thumbnail<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>URL of a image or thumbnail that is displayed in the result item.</p>
</dd>
</dl>
</section>
<section id="result-sub-header">
<span id="macro-result-sub-header"></span><h5><a class="toc-backref" href="#id6" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">result_sub_header</span></code></a><a class="headerlink" href="#result-sub-header" title="Link to this heading">¶</a></h5>
<p>Execpt <code class="docutils literal notranslate"><span class="pre">image.html</span></code> and some others this macro is used in nearly all result
types in the <a class="reference internal" href="#main-result-list"><span class="std std-ref">Main Result List</span></a>.</p>
<p>Fields used in the template <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/templates/simple/macros.html">macro result_sub_header</a>:</p>
<dl>
<dt>publishedDate<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a></span></dt><dd><p>The date on which the object was published.</p>
</dd>
<dt>length: <a class="reference external" href="https://docs.python.org/3/library/time.html#time.struct_time" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time.struct_time</span></code></a></dt><dd><p>Playing duration in seconds.</p>
</dd>
<dt>views: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></dt><dd><p>View count in humanized number format.</p>
</dd>
<dt>author<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Author of the title.</p>
</dd>
<dt>metadata<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Miscellaneous metadata.</p>
</dd>
</dl>
</section>
<section id="engine-data-form">
<span id="engine-data"></span><h5><a class="toc-backref" href="#id7" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">engine_data_form</span></code></a><a class="headerlink" href="#engine-data-form" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">engine_data_form</span></code> macro is used in <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/templates/simple/results.html">results,html</a> in a HTML <code class="docutils literal notranslate"><span class="pre">&lt;form/&gt;</span></code> element.  The
intention of this macro is to pass data of a engine from one <a class="reference internal" href="#searx.engines.demo_online.response" title="searx.engines.demo_online.response"><code class="xref py py-obj docutils literal notranslate"><span class="pre">response</span></code></a> to the <a class="reference internal" href="#searx.search.SearchQuery" title="searx.search.SearchQuery"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.search.SearchQuery</span></code></a>
of the next <a class="reference internal" href="#searx.engines.demo_online.request" title="searx.engines.demo_online.request"><code class="xref py py-obj docutils literal notranslate"><span class="pre">request</span></code></a>.</p>
<p>To pass data, engine’s response handler can append result items of typ
<code class="docutils literal notranslate"><span class="pre">engine_data</span></code>.  This is by example used to pass a token from the response to
the next request:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">response</span><span class="p">(</span><span class="n">resp</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
       <span class="s1">&#39;engine_data&#39;</span><span class="p">:</span> <span class="n">token</span><span class="p">,</span>
       <span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;next_page_token&#39;</span><span class="p">,</span>
    <span class="p">})</span>
    <span class="o">...</span>
    <span class="k">return</span> <span class="n">results</span>

<span class="k">def</span><span class="w"> </span><span class="nf">request</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">params</span><span class="p">):</span>
    <span class="n">page_token</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="s1">&#39;engine_data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;next_page_token&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="main-result-list">
<span id="id3"></span><h4><a class="toc-backref" href="#id8" role="doc-backlink">Main Result List</a><a class="headerlink" href="#main-result-list" title="Link to this heading">¶</a></h4>
<p>The <strong>media types</strong> of the <strong>main result type</strong> are the template files in
the <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/templates/simple/result_templates">result_templates</a>.</p>
<section id="default-html">
<span id="template-default"></span><h5><a class="toc-backref" href="#id9" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">default.html</span></code></a><a class="headerlink" href="#default-html" title="Link to this heading">¶</a></h5>
<p>Displays result fields from:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#macro-result-header"><span class="std std-ref">result_header</span></a> and</p></li>
<li><p><a class="reference internal" href="#macro-result-sub-header"><span class="std std-ref">result_sub_header</span></a></p></li>
</ul>
<p>Additional fields used in the <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/templates/simple/result_templates/default.html">default.html</a>:</p>
<dl>
<dt>content<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>General text of the result item.</p>
</dd>
<dt>iframe_src<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>URL of an embedded <code class="docutils literal notranslate"><span class="pre">&lt;iframe&gt;</span></code> / the frame is collapsible.</p>
</dd>
<dt>audio_src<span class="classifier">uri,</span></dt><dd><p>URL of an embedded <code class="docutils literal notranslate"><span class="pre">&lt;audio</span> <span class="pre">controls&gt;</span></code>.</p>
</dd>
</dl>
</section>
<section id="images-html">
<span id="template-images"></span><h5><a class="toc-backref" href="#id10" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">images.html</span></code></a><a class="headerlink" href="#images-html" title="Link to this heading">¶</a></h5>
<p>The images are displayed as small thumbnails in the main results list.</p>
<dl>
<dt>title<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Title of the image.</p>
</dd>
<dt>thumbnail_src<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>URL of a preview of the image.</p>
</dd>
<dt>resolution <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></dt><dd><p>The resolution of the image (e.g. <code class="docutils literal notranslate"><span class="pre">1920</span> <span class="pre">x</span> <span class="pre">1080</span></code> pixel)</p>
</dd>
</dl>
<section id="image-labels">
<h6>Image labels<a class="headerlink" href="#image-labels" title="Link to this heading">¶</a></h6>
<p>Clicking on the preview opens a gallery view in which all further metadata for
the image is displayed.  Addition fields used in the <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/templates/simple/result_templates/images.html">images.html</a>:</p>
<dl>
<dt>img_src<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>URL of the full size image.</p>
</dd>
<dt>content:  <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></dt><dd><p>Description of the image.</p>
</dd>
<dt>author:  <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></dt><dd><p>Name of the author of the image.</p>
</dd>
<dt>img_format<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>The format of the image (e.g. <code class="docutils literal notranslate"><span class="pre">png</span></code>).</p>
</dd>
<dt>source<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Source of the image.</p>
</dd>
<dt>filesize: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></dt><dd><p>Size of bytes in <code class="xref py py-obj docutils literal notranslate"><span class="pre">human</span> <span class="pre">readable</span></code> notation
(e.g. <code class="docutils literal notranslate"><span class="pre">MB</span></code> for 1024 * 1024 Bytes filesize).</p>
</dd>
<dt>url<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>URL of the page from where the images comes from (source).</p>
</dd>
</dl>
</section>
</section>
<section id="videos-html">
<span id="template-videos"></span><h5><a class="toc-backref" href="#id11" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">videos.html</span></code></a><a class="headerlink" href="#videos-html" title="Link to this heading">¶</a></h5>
<p>Displays result fields from:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#macro-result-header"><span class="std std-ref">result_header</span></a> and</p></li>
<li><p><a class="reference internal" href="#macro-result-sub-header"><span class="std std-ref">result_sub_header</span></a></p></li>
</ul>
<p>Additional fields used in the <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/templates/simple/result_templates/videos.html">videos.html</a>:</p>
<dl>
<dt>iframe_src<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>URL of an embedded <code class="docutils literal notranslate"><span class="pre">&lt;iframe&gt;</span></code> / the frame is collapsible.</p>
<p>The videos are displayed as small thumbnails in the main results list, there
is an additional button to collaps/open the embeded video.</p>
</dd>
<dt>content<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Description of the code fragment.</p>
</dd>
</dl>
</section>
<section id="torrent-html">
<span id="template-torrent"></span><h5><a class="toc-backref" href="#id12" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">torrent.html</span></code></a><a class="headerlink" href="#torrent-html" title="Link to this heading">¶</a></h5>
<p>Displays result fields from:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#macro-result-header"><span class="std std-ref">result_header</span></a> and</p></li>
<li><p><a class="reference internal" href="#macro-result-sub-header"><span class="std std-ref">result_sub_header</span></a></p></li>
</ul>
<p>Additional fields used in the <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/templates/simple/result_templates/torrent.html">torrent.html</a>:</p>
<dl>
<dt>magnetlink:</dt><dd><p>URL of the <a class="reference external" href="https://en.wikipedia.org/wiki/Magnet_URI_scheme">magnet link</a>.</p>
</dd>
<dt>torrentfile</dt><dd><p>URL of the <a class="reference external" href="https://en.wikipedia.org/wiki/Torrent_file">torrent file</a>.</p>
</dd>
<dt>seed<span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of seeders.</p>
</dd>
<dt>leech<span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of leecher</p>
</dd>
<dt>filesize<span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Size in Bytes (rendered to human readable unit of measurement).</p>
</dd>
<dt>files<span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of files.</p>
</dd>
</dl>
</section>
<section id="map-html">
<span id="template-map"></span><h5><a class="toc-backref" href="#id13" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">map.html</span></code></a><a class="headerlink" href="#map-html" title="Link to this heading">¶</a></h5>
<p>Displays result fields from:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#macro-result-header"><span class="std std-ref">result_header</span></a> and</p></li>
<li><p><a class="reference internal" href="#macro-result-sub-header"><span class="std std-ref">result_sub_header</span></a></p></li>
</ul>
<p>Additional fields used in the <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/templates/simple/result_templates/map.html">map.html</a>:</p>
<dl>
<dt>content<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Description of the item.</p>
</dd>
<dt>address_label<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Label of the address / default <code class="docutils literal notranslate"><span class="pre">_('address')</span></code>.</p>
</dd>
<dt>geojson<span class="classifier"><a class="reference external" href="https://en.wikipedia.org/wiki/GeoJSON">GeoJSON</a></span></dt><dd><p>Geometries mapped to <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/dataset">HTMLElement.dataset</a> (<code class="docutils literal notranslate"><span class="pre">data-map-geojson</span></code>) and used by
<a class="reference external" href="https://github.com/Leaflet/Leaflet">Leaflet</a>.</p>
</dd>
<dt>boundingbox<span class="classifier"><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">min-lon,</span> <span class="pre">min-lat,</span> <span class="pre">max-lon,</span> <span class="pre">max-lat]</span></code></span></dt><dd><p>A <a class="reference external" href="https://wiki.openstreetmap.org/wiki/Bounding_Box">bbox</a> area defined by min longitude , min latitude , max longitude and max
latitude.  The bounding box is mapped to <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/dataset">HTMLElement.dataset</a>
(<code class="docutils literal notranslate"><span class="pre">data-map-boundingbox</span></code>) and is used by <a class="reference external" href="https://github.com/Leaflet/Leaflet">Leaflet</a>.</p>
</dd>
<dt>longitude, latitude<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Geographical coordinates, mapped to <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/dataset">HTMLElement.dataset</a> (<code class="docutils literal notranslate"><span class="pre">data-map-lon</span></code>,
<code class="docutils literal notranslate"><span class="pre">data-map-lat</span></code>) and is used by <a class="reference external" href="https://github.com/Leaflet/Leaflet">Leaflet</a>.</p>
</dd>
<dt>address<span class="classifier"><code class="docutils literal notranslate"><span class="pre">{...}</span></code></span></dt><dd><p>A dicticonary with the address data:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">address</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;name&#39;</span>          <span class="p">:</span> <span class="nb">str</span><span class="p">,</span>  <span class="c1"># name of object</span>
    <span class="s1">&#39;road&#39;</span>          <span class="p">:</span> <span class="nb">str</span><span class="p">,</span>  <span class="c1"># street name of object</span>
    <span class="s1">&#39;house_number&#39;</span>  <span class="p">:</span> <span class="nb">str</span><span class="p">,</span>  <span class="c1"># house number of object</span>
    <span class="s1">&#39;postcode&#39;</span>      <span class="p">:</span> <span class="nb">str</span><span class="p">,</span>  <span class="c1"># postcode of object</span>
    <span class="s1">&#39;country&#39;</span>       <span class="p">:</span> <span class="nb">str</span><span class="p">,</span>  <span class="c1"># country of object</span>
    <span class="s1">&#39;country_code&#39;</span>  <span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s1">&#39;locality&#39;</span>      <span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<dl>
<dt>country_code<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p><a class="reference external" href="https://wiki.openstreetmap.org/wiki/Country_code">Country code</a> of the object.</p>
</dd>
<dt>locality<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>The name of the city, town, township, village, borough, etc. in which this
object is located.</p>
</dd>
</dl>
</dd>
<dt>links<span class="classifier"><code class="docutils literal notranslate"><span class="pre">[link1,</span> <span class="pre">link2,</span> <span class="pre">...]</span></code></span></dt><dd><p>A list of links with labels:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">links</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
    <span class="s1">&#39;label&#39;</span>       <span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s1">&#39;url&#39;</span>         <span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s1">&#39;url_label&#39;</span>   <span class="p">:</span> <span class="nb">str</span><span class="p">,</span>  <span class="c1"># set by some engines but unused (oscar)</span>
<span class="p">})</span>
</pre></div>
</div>
</dd>
<dt>data<span class="classifier"><code class="docutils literal notranslate"><span class="pre">[data1,</span> <span class="pre">data2,</span> <span class="pre">...]</span></code></span></dt><dd><p>A list of additional data, shown in two columns and containing a label and
value.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
   <span class="s1">&#39;label&#39;</span>   <span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
   <span class="s1">&#39;value&#39;</span>   <span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
   <span class="s1">&#39;key&#39;</span>     <span class="p">:</span> <span class="nb">str</span><span class="p">,</span>  <span class="c1"># set by some engines but unused</span>
<span class="p">})</span>
</pre></div>
</div>
</dd>
<dt>type<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>  # set by some engines but unused (oscar)</span></dt><dd><p>Tag label from <a class="reference internal" href="#update-osm-keys-tags-py"><span class="std std-ref">OSM_KEYS_TAGS[‘tags’]</span></a>.</p>
</dd>
<dt>type_icon<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>  # set by some engines but unused (oscar)</span></dt><dd><p>Type’s icon.</p>
</dd>
<dt>osm<span class="classifier"><code class="docutils literal notranslate"><span class="pre">{...}</span></code></span></dt><dd><p>OSM-type and OSM-ID, can be used to <a class="reference external" href="https://nominatim.org/release-docs/latest/api/Lookup/">Lookup</a> OSM data (<a class="reference external" href="https://nominatim.org/release-docs/latest/">Nominatim</a>). There is
also a discussion about “<a class="reference external" href="https://nominatim.org/release-docs/latest/api/Output/#place_id-is-not-a-persistent-id">place_id is not a persistent id</a>” and the
<a class="reference external" href="https://wiki.openstreetmap.org/wiki/Permanent_ID">perma_id</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">osm</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s1">&#39;id&#39;</span><span class="p">:</span>   <span class="nb">str</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<dl>
<dt>type<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Type of osm-object (if OSM-Result).</p>
</dd>
<dt>id :</dt><dd><p>ID of osm-object (if OSM-Result).</p>
</dd>
</dl>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>The <code class="docutils literal notranslate"><span class="pre">osm</span></code> property is set by engine <code class="docutils literal notranslate"><span class="pre">openstreetmap.py</span></code>, but it is not
used in the <code class="docutils literal notranslate"><span class="pre">map.html</span></code> template yet.</p>
</div>
</dd>
</dl>
</section>
<section id="paper-html">
<span id="template-paper"></span><h5><a class="toc-backref" href="#id14" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">paper.html</span></code></a><a class="headerlink" href="#paper-html" title="Link to this heading">¶</a></h5>
<p>Displays result fields from:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#macro-result-header"><span class="std std-ref">result_header</span></a></p></li>
</ul>
<p>Additional fields used in the <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/templates/simple/result_templates/paper.html">paper.html</a>:</p>
<dl>
<dt>content<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>An abstract or excerpt from the document.</p>
</dd>
<dt>comments<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Free text display in italic below the content.</p>
</dd>
<dt>tags<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]</span></dt><dd><p>Free tag list.</p>
</dd>
<dt>type<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Short description of medium type, e.g. <em>book</em>, <em>pdf</em> or <em>html</em> …</p>
</dd>
<dt>authors<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]</span></dt><dd><p>List of authors of the work (authors with a “s” suffix, the “author” is in the
<a class="reference internal" href="#macro-result-sub-header"><span class="std std-ref">result_sub_header</span></a>).</p>
</dd>
<dt>editor<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Editor of the book/paper.</p>
</dd>
<dt>publisher<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Name of the publisher.</p>
</dd>
<dt>journal<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Name of the journal or magazine the article was published in.</p>
</dd>
<dt>volume<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Volume number.</p>
</dd>
<dt>pages<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Page range where the article is.</p>
</dd>
<dt>number<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Number of the report or the issue number for a journal article.</p>
</dd>
<dt>doi<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>DOI number (like <code class="docutils literal notranslate"><span class="pre">10.1038/d41586-018-07848-2</span></code>).</p>
</dd>
<dt>issn<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]</span></dt><dd><p>ISSN number like <code class="docutils literal notranslate"><span class="pre">1476-4687</span></code></p>
</dd>
<dt>isbn<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]</span></dt><dd><p>ISBN number like <code class="docutils literal notranslate"><span class="pre">9780201896831</span></code></p>
</dd>
<dt>pdf_url<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>URL to the full article, the PDF version</p>
</dd>
<dt>html_url<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>URL to full article, HTML version</p>
</dd>
</dl>
</section>
<section id="packages">
<span id="template-packages"></span><h5><a class="toc-backref" href="#id15" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">packages</span></code></a><a class="headerlink" href="#packages" title="Link to this heading">¶</a></h5>
<p>Displays result fields from:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#macro-result-header"><span class="std std-ref">result_header</span></a></p></li>
</ul>
<p>Additional fields used in the <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/templates/simple/result_templates/packages.html">packages.html</a>:</p>
<dl>
<dt>package_name<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>The name of the package.</p>
</dd>
<dt>version<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>The current version of the package.</p>
</dd>
<dt>maintainer<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>The maintainer or author of the project.</p>
</dd>
<dt>publishedDate<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a></span></dt><dd><p>Date of latest update or release.</p>
</dd>
<dt>tags<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]</span></dt><dd><p>Free tag list.</p>
</dd>
<dt>popularity<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>The popularity of the package, e.g. rating or download count.</p>
</dd>
<dt>license_name<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>The name of the license.</p>
</dd>
<dt>license_url<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>The web location of a license copy.</p>
</dd>
<dt>homepage<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>The url of the project’s homepage.</p>
</dd>
<dt>source_code_url: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></dt><dd><p>The location of the project’s source code.</p>
</dd>
<dt>links<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a></span></dt><dd><p>Additional links in the form of <code class="docutils literal notranslate"><span class="pre">{'link_name':</span> <span class="pre">'http://example.com'}</span></code></p>
</dd>
</dl>
</section>
<section id="code-html">
<span id="template-code"></span><h5><a class="toc-backref" href="#id16" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">code.html</span></code></a><a class="headerlink" href="#code-html" title="Link to this heading">¶</a></h5>
<p>Displays result fields from:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#macro-result-header"><span class="std std-ref">result_header</span></a> and</p></li>
<li><p><a class="reference internal" href="#macro-result-sub-header"><span class="std std-ref">result_sub_header</span></a></p></li>
</ul>
<p>Additional fields used in the <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/templates/simple/result_templates/code.html">code.html</a>:</p>
<dl>
<dt>content<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Description of the code fragment.</p>
</dd>
<dt>codelines<span class="classifier"><code class="docutils literal notranslate"><span class="pre">[line1,</span> <span class="pre">line2,</span> <span class="pre">...]</span></code></span></dt><dd><p>Lines of the code fragment.</p>
</dd>
<dt>code_language<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Name of the code language, the value is passed to
<code class="xref py py-obj docutils literal notranslate"><span class="pre">pygments.lexers.get_lexer_by_name</span></code>.</p>
</dd>
<dt>repository<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>URL of the repository of the code fragment.</p>
</dd>
</dl>
</section>
<section id="files-html">
<span id="template-files"></span><h5><a class="toc-backref" href="#id17" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">files.html</span></code></a><a class="headerlink" href="#files-html" title="Link to this heading">¶</a></h5>
<p>Displays result fields from:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#macro-result-header"><span class="std std-ref">result_header</span></a> and</p></li>
<li><p><a class="reference internal" href="#macro-result-sub-header"><span class="std std-ref">result_sub_header</span></a></p></li>
</ul>
<p>Additional fields used in the <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/templates/simple/result_templates/files.html">code.html</a>:</p>
<dl>
<dt>filename, size, time: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></dt><dd><p>Filename, Filesize and Date of the file.</p>
</dd>
<dt>mtype<span class="classifier"><code class="docutils literal notranslate"><span class="pre">audio</span></code> | <code class="docutils literal notranslate"><span class="pre">video</span></code> | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Mimetype type of the file.</p>
</dd>
<dt>subtype<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Mimetype / subtype of the file.</p>
</dd>
<dt>abstract<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Abstract of the file.</p>
</dd>
<dt>author<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Name of the author of the file</p>
</dd>
<dt>embedded<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>URL of an embedded media type (<code class="docutils literal notranslate"><span class="pre">audio</span></code> or <code class="docutils literal notranslate"><span class="pre">video</span></code>) / is collapsible.</p>
</dd>
</dl>
</section>
<section id="products-html">
<span id="template-products"></span><h5><a class="toc-backref" href="#id18" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">products.html</span></code></a><a class="headerlink" href="#products-html" title="Link to this heading">¶</a></h5>
<p>Displays result fields from:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#macro-result-header"><span class="std std-ref">result_header</span></a> and</p></li>
<li><p><a class="reference internal" href="#macro-result-sub-header"><span class="std std-ref">result_sub_header</span></a></p></li>
</ul>
<p>Additional fields used in the <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/templates/simple/result_templates/products.html">products.html</a>:</p>
<dl>
<dt>content<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Description of the product.</p>
</dd>
<dt>price<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>The price must include the currency.</p>
</dd>
<dt>shipping<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Shipping details.</p>
</dd>
<dt>source_country<span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Place from which the shipment is made.</p>
</dd>
</dl>
</section>
</section>
<section id="answer-results">
<span id="template-answer-results"></span><h4><a class="toc-backref" href="#id19" role="doc-backlink">Answer results</a><a class="headerlink" href="#answer-results" title="Link to this heading">¶</a></h4>
<p>See <a class="reference internal" href="#result-types-answer"><span class="std std-ref">Answer Results</span></a></p>
</section>
<section id="suggestion-results">
<h4><a class="toc-backref" href="#id20" role="doc-backlink">Suggestion results</a><a class="headerlink" href="#suggestion-results" title="Link to this heading">¶</a></h4>
<p>See <a class="reference internal" href="#result-types-suggestion"><span class="std std-ref">Suggestion Results</span></a></p>
</section>
<section id="correction-results">
<h4><a class="toc-backref" href="#id21" role="doc-backlink">Correction results</a><a class="headerlink" href="#correction-results" title="Link to this heading">¶</a></h4>
<p>See <a class="reference internal" href="#result-types-corrections"><span class="std std-ref">Correction Results</span></a></p>
</section>
<section id="infobox-results">
<h4><a class="toc-backref" href="#id22" role="doc-backlink">Infobox results</a><a class="headerlink" href="#infobox-results" title="Link to this heading">¶</a></h4>
<p>See <a class="reference internal" href="#result-types-infobox"><span class="std std-ref">Infobox Results</span></a></p>
</section>
</section>
<span id="document-dev/search_api"></span><section id="search-api">
<span id="id1"></span><h3>Search API<a class="headerlink" href="#search-api" title="Link to this heading">¶</a></h3>
<p>The search supports both <code class="docutils literal notranslate"><span class="pre">GET</span></code> and <code class="docutils literal notranslate"><span class="pre">POST</span></code>.</p>
<p>Furthermore, two endpoints <code class="docutils literal notranslate"><span class="pre">/</span></code> and <code class="docutils literal notranslate"><span class="pre">/search</span></code> are available for querying.</p>
<p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/search</span></code></p>
<section id="parameters">
<h4>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">¶</a></h4>
<aside class="sidebar">
<p class="sidebar-title">Further reading ..</p>
<ul class="simple">
<li><p><a class="reference internal" href="#engines-dev"><span class="std std-ref">Engine Overview</span></a></p></li>
<li><p><a class="reference internal" href="#settings-yml"><span class="std std-ref">settings.yml</span></a></p></li>
<li><p><a class="reference internal" href="#configured-engines"><span class="std std-ref">Configured Engines</span></a></p></li>
</ul>
</aside>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">q</span></code><span class="classifier">required</span></dt><dd><p>The search query.  This string is passed to external search services.  Thus,
Infinity Search supports syntax of each search service.  For example, <code class="docutils literal notranslate"><span class="pre">site:github.com</span>
<span class="pre">Infinity</span> <span class="pre">Search</span></code> is a valid query for Google.  However, if simply the query above is
passed to any search engine which does not filter its results based on this
syntax, you might not get the results you wanted.</p>
<p>See more at <span class="xref std std-ref">search-syntax</span></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">categories</span></code><span class="classifier">optional</span></dt><dd><p>Comma separated list, specifies the active search categories (see
<a class="reference internal" href="#configured-engines"><span class="std std-ref">Configured Engines</span></a>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">engines</span></code><span class="classifier">optional</span></dt><dd><p>Comma separated list, specifies the active search engines (see
<a class="reference internal" href="#configured-engines"><span class="std std-ref">Configured Engines</span></a>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">language</span></code><span class="classifier">default from <a class="reference internal" href="#settings-search"><span class="std std-ref">search:</span></a></span></dt><dd><p>Code of the language.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pageno</span></code><span class="classifier">default <code class="docutils literal notranslate"><span class="pre">1</span></code></span></dt><dd><p>Search page number.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">time_range</span></code><span class="classifier">optional</span></dt><dd><p>[ <code class="docutils literal notranslate"><span class="pre">day</span></code>, <code class="docutils literal notranslate"><span class="pre">month</span></code>, <code class="docutils literal notranslate"><span class="pre">year</span></code> ]</p>
<p>Time range of search for engines which support it.  See if an engine supports
time range search in the preferences page of an instance.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">format</span></code><span class="classifier">optional</span></dt><dd><p>[ <code class="docutils literal notranslate"><span class="pre">json</span></code>, <code class="docutils literal notranslate"><span class="pre">csv</span></code>, <code class="docutils literal notranslate"><span class="pre">rss</span></code> ]</p>
<p>Output format of results.  Format needs to be activated in <a class="reference internal" href="#settings-search"><span class="std std-ref">search:</span></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">results_on_new_tab</span></code><span class="classifier">default <code class="docutils literal notranslate"><span class="pre">0</span></code></span></dt><dd><p>[ <code class="docutils literal notranslate"><span class="pre">0</span></code>, <code class="docutils literal notranslate"><span class="pre">1</span></code> ]</p>
<p>Open search results on new tab.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">image_proxy</span></code><span class="classifier">default from <a class="reference internal" href="#settings-server"><span class="std std-ref">server:</span></a></span></dt><dd><p>[  <code class="docutils literal notranslate"><span class="pre">True</span></code>, <code class="docutils literal notranslate"><span class="pre">False</span></code> ]</p>
<p>Proxy image results through Infinity Search.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">autocomplete</span></code><span class="classifier">default from <a class="reference internal" href="#settings-search"><span class="std std-ref">search:</span></a></span></dt><dd><p>[ <code class="docutils literal notranslate"><span class="pre">google</span></code>, <code class="docutils literal notranslate"><span class="pre">dbpedia</span></code>, <code class="docutils literal notranslate"><span class="pre">duckduckgo</span></code>, <code class="docutils literal notranslate"><span class="pre">mwmbl</span></code>, <code class="docutils literal notranslate"><span class="pre">startpage</span></code>,
<code class="docutils literal notranslate"><span class="pre">wikipedia</span></code>, <code class="docutils literal notranslate"><span class="pre">stract</span></code>, <code class="docutils literal notranslate"><span class="pre">swisscows</span></code>, <code class="docutils literal notranslate"><span class="pre">qwant</span></code> ]</p>
<p>Service which completes words as you type.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">safesearch</span></code><span class="classifier">default from <a class="reference internal" href="#settings-search"><span class="std std-ref">search:</span></a></span></dt><dd><p>[ <code class="docutils literal notranslate"><span class="pre">0</span></code>, <code class="docutils literal notranslate"><span class="pre">1</span></code>, <code class="docutils literal notranslate"><span class="pre">2</span></code> ]</p>
<p>Filter search results of engines which support safe search.  See if an engine
supports safe search in the preferences page of an instance.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">theme</span></code><span class="classifier">default <code class="docutils literal notranslate"><span class="pre">simple</span></code></span></dt><dd><p>[ <code class="docutils literal notranslate"><span class="pre">simple</span></code> ]</p>
<p>Theme of instance.</p>
<p>Please note, available themes depend on an instance.  It is possible that an
instance administrator deleted, created or renamed themes on their instance.
See the available options in the preferences page of the instance.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">enabled_plugins</span></code><span class="classifier">optional</span></dt><dd><p>List of enabled plugins.</p>
<dl class="field-list">
<dt class="field-odd">default<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">Hash_plugin</span></code>, <code class="docutils literal notranslate"><span class="pre">Self_Information</span></code>,
<code class="docutils literal notranslate"><span class="pre">Tracker_URL_remover</span></code>, <code class="docutils literal notranslate"><span class="pre">Ahmia_blacklist</span></code></p>
</dd>
<dt class="field-even">values<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">Hash_plugin</span></code>, <code class="docutils literal notranslate"><span class="pre">Self_Information</span></code>,
<code class="docutils literal notranslate"><span class="pre">Tracker_URL_remover</span></code>, <code class="docutils literal notranslate"><span class="pre">Ahmia_blacklist</span></code>,</p>
<p><code class="docutils literal notranslate"><span class="pre">Hostnames_plugin</span></code>, <code class="docutils literal notranslate"><span class="pre">Open_Access_DOI_rewrite</span></code>,
<code class="docutils literal notranslate"><span class="pre">Vim-like_hotkeys</span></code>, <code class="docutils literal notranslate"><span class="pre">Tor_check_plugin</span></code></p>
</dd>
</dl>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">disabled_plugins</span></code>: optional</dt><dd><p>List of disabled plugins.</p>
<dl class="field-list simple">
<dt class="field-odd">default<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">Hostnames_plugin</span></code>, <code class="docutils literal notranslate"><span class="pre">Open_Access_DOI_rewrite</span></code>,
<code class="docutils literal notranslate"><span class="pre">Vim-like_hotkeys</span></code>, <code class="docutils literal notranslate"><span class="pre">Tor_check_plugin</span></code></p>
</dd>
<dt class="field-even">values<span class="colon">:</span></dt>
<dd class="field-even"><p>see values from <code class="docutils literal notranslate"><span class="pre">enabled_plugins</span></code></p>
</dd>
</dl>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">enabled_engines</span></code><span class="classifier">optional</span><span class="classifier"><em>all</em> <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines">engines</a></span></dt><dd><p>List of enabled engines.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">disabled_engines</span></code><span class="classifier">optional</span><span class="classifier"><em>all</em> <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines">engines</a></span></dt><dd><p>List of disabled engines.</p>
</dd>
</dl>
</section>
</section>
<span id="document-dev/plugins/index"></span><section id="plugins">
<h3>Plugins<a class="headerlink" href="#plugins" title="Link to this heading">¶</a></h3>
<div class="toctree-wrapper compound">
<span id="document-dev/plugins/development"></span><section id="module-searx.plugins">
<span id="plugin-development"></span><span id="dev-plugin"></span><h4>Plugin Development<a class="headerlink" href="#module-searx.plugins" title="Link to this heading">¶</a></h4>
<aside class="sidebar">
<p class="sidebar-title">Further reading ..</p>
<ul class="simple">
<li><p><a class="reference internal" href="#plugins-admin"><span class="std std-ref">List of plugins</span></a></p></li>
<li><p><a class="reference internal" href="#settings-plugins"><span class="std std-ref">SearXNG settings</span></a></p></li>
</ul>
</aside>
<p>Plugins can extend or replace functionality of various components of SearXNG.</p>
<p>Entry points (hooks) define when a plugin runs.  Right now only three hooks are
implemented.  So feel free to implement a hook if it fits the behaviour of your
plugin / a plugin doesn’t need to implement all the hooks.</p>
<ul class="simple">
<li><p>pre search: <a class="reference internal" href="#searx.plugins.Plugin.pre_search" title="searx.plugins.Plugin.pre_search"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Plugin.pre_search</span></code></a></p></li>
<li><p>post search: <a class="reference internal" href="#searx.plugins.Plugin.post_search" title="searx.plugins.Plugin.post_search"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Plugin.post_search</span></code></a></p></li>
<li><p>on each result item: <a class="reference internal" href="#searx.plugins.Plugin.on_result" title="searx.plugins.Plugin.on_result"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Plugin.on_result</span></code></a></p></li>
</ul>
<p>Below you will find some examples, for more coding examples have a look at the
built-in plugins <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/plugins/">git://searx/plugins/</a> or <a class="reference external" href="https://github.com/return42/tgwf-searx-plugins/">Only show green hosted results</a>.</p>
<section id="add-answer-example">
<h5>Add Answer example<a class="headerlink" href="#add-answer-example" title="Link to this heading">¶</a></h5>
<p>Here is an example of a very simple plugin that adds a “Hello World” into the
answer area:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">flask_babel</span><span class="w"> </span><span class="kn">import</span> <span class="n">gettext</span> <span class="k">as</span> <span class="n">_</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">searx.plugins</span><span class="w"> </span><span class="kn">import</span> <span class="n">Plugin</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">searx.result_types</span><span class="w"> </span><span class="kn">import</span> <span class="n">Answer</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyPlugin</span><span class="p">(</span><span class="n">Plugin</span><span class="p">):</span>

    <span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;hello world&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plg_cfg</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">plg_cfg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="n">PluginInfo</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">),</span> <span class="n">description</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;demo plugin&quot;</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">post_search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">search</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span> <span class="n">Answer</span><span class="p">(</span><span class="n">answer</span><span class="o">=</span><span class="s2">&quot;Hello World&quot;</span><span class="p">)</span> <span class="p">]</span>
</pre></div>
</div>
</section>
<section id="filter-urls-example">
<span id="id1"></span><h5>Filter URLs example<a class="headerlink" href="#filter-urls-example" title="Link to this heading">¶</a></h5>
<aside class="sidebar">
<p class="sidebar-title">Further reading ..</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.result_types._base.Result.filter_urls" title="searx.result_types._base.Result.filter_urls"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Result.filter_urls(..)</span></code></a></p></li>
</ul>
</aside>
<p>The <a class="reference internal" href="#searx.result_types._base.Result.filter_urls" title="searx.result_types._base.Result.filter_urls"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Result.filter_urls(..)</span></code></a>
can be used to filter and/or modify URL fields.  In the following example, the
filter function <code class="docutils literal notranslate"><span class="pre">my_url_filter</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">my_url_filter</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">url_src</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span> <span class="o">|</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">if</span> <span class="s2">&quot;google&quot;</span> <span class="ow">in</span> <span class="n">url_src</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>              <span class="c1"># remove URL field from result</span>
    <span class="k">if</span> <span class="s2">&quot;facebook&quot;</span> <span class="ow">in</span> <span class="n">url_src</span><span class="p">:</span>
        <span class="n">new_url</span> <span class="o">=</span> <span class="n">url_src</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;facebook&quot;</span><span class="p">,</span> <span class="s2">&quot;fb-dummy&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">new_url</span>            <span class="c1"># return modified URL</span>
    <span class="k">return</span> <span class="kc">True</span>                   <span class="c1"># leave URL in field unchanged</span>
</pre></div>
</div>
<p>is applied to all URL fields in the <a class="reference internal" href="#searx.plugins.Plugin.on_result" title="searx.plugins.Plugin.on_result"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Plugin.on_result</span></code></a> hook:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyUrlFilter</span><span class="p">(</span><span class="n">Plugin</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">on_result</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">search</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">result</span><span class="o">.</span><span class="n">filter_urls</span><span class="p">(</span><span class="n">my_url_filter</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="implementation">
<h5>Implementation<a class="headerlink" href="#implementation" title="Link to this heading">¶</a></h5>
<dl class="py class">
<dt class="sig sig-object py" id="searx.plugins.Plugin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.plugins.</span></span><span class="sig-name descname"><span class="pre">Plugin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plg_cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.plugins.PluginCfg" title="searx.plugins._core.PluginCfg"><span class="pre">PluginCfg</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.plugins.Plugin" title="Link to this definition">¶</a></dt>
<dd><p>Abstract base class of all Plugins.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.plugins.Plugin.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#searx.plugins.Plugin.id" title="Link to this definition">¶</a></dt>
<dd><p>The ID (suffix) in the HTML form.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.plugins.Plugin.active">
<span class="sig-name descname"><span class="pre">active</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.ClassVar" title="(in Python v3.13)"><span class="pre">ClassVar</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.plugins.Plugin.active" title="Link to this definition">¶</a></dt>
<dd><p>Plugin is enabled/disabled by default (<a class="reference internal" href="#searx.plugins.PluginCfg.active" title="searx.plugins.PluginCfg.active"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PluginCfg.active</span></code></a>).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.plugins.Plugin.keywords">
<span class="sig-name descname"><span class="pre">keywords</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#searx.plugins.Plugin.keywords" title="Link to this definition">¶</a></dt>
<dd><p>Keywords in the search query that activate the plugin.  The <em>keyword</em> is
the first word in a search query.  If a plugin should be executed regardless
of the search query, the list of keywords should be empty (which is also the
default in the base class for Plugins).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.plugins.Plugin.info">
<span class="sig-name descname"><span class="pre">info</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#searx.plugins.PluginInfo" title="searx.plugins._core.PluginInfo"><span class="pre">PluginInfo</span></a></em><a class="headerlink" href="#searx.plugins.Plugin.info" title="Link to this definition">¶</a></dt>
<dd><p>Information about the <em>plugin</em>, see <a class="reference internal" href="#searx.plugins.PluginInfo" title="searx.plugins.PluginInfo"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PluginInfo</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.plugins.Plugin.log">
<span class="sig-name descname"><span class="pre">log</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.Logger" title="(in Python v3.13)"><span class="pre">Logger</span></a></em><a class="headerlink" href="#searx.plugins.Plugin.log" title="Link to this definition">¶</a></dt>
<dd><p>A logger object, is automatically initialized when calling the
constructor (if not already set in the subclass).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.plugins.Plugin.init">
<span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://flask.palletsprojects.com/en/stable/api/#flask.Flask" title="(in Flask v3.1.x)"><span class="pre">flask.Flask</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#searx.plugins.Plugin.init" title="Link to this definition">¶</a></dt>
<dd><p>Initialization of the plugin, the return value decides whether this
plugin is active or not.  Initialization only takes place once, at the
time the WEB application is set up.  The base method always returns
<code class="docutils literal notranslate"><span class="pre">True</span></code>, the method can be overwritten in the inheritances,</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code> plugin is active</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code> plugin is inactive</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.plugins.Plugin.pre_search">
<span class="sig-name descname"><span class="pre">pre_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.extended_types.SXNG_Request" title="searx.extended_types.SXNG_Request"><span class="pre">SXNG_Request</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.search.SearchWithPlugins" title="searx.search.SearchWithPlugins"><span class="pre">SearchWithPlugins</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#searx.plugins.Plugin.pre_search" title="Link to this definition">¶</a></dt>
<dd><p>Runs BEFORE the search request and returns a boolean:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code> to continue the search</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code> to stop the search</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.plugins.Plugin.on_result">
<span class="sig-name descname"><span class="pre">on_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.extended_types.SXNG_Request" title="searx.extended_types.SXNG_Request"><span class="pre">SXNG_Request</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.search.SearchWithPlugins" title="searx.search.SearchWithPlugins"><span class="pre">SearchWithPlugins</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.result_types._base.Result" title="searx.result_types._base.Result"><span class="pre">Result</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#searx.plugins.Plugin.on_result" title="Link to this definition">¶</a></dt>
<dd><p>Runs for each result of each engine and returns a boolean:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code> to keep the result</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code> to remove the result from the result list</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">result</span></code> can be modified to the needs.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>If <a class="reference internal" href="#searx.result_types._base.Result.url" title="searx.result_types._base.Result.url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Result.url</span></code></a> is modified,
<a class="reference internal" href="#searx.result_types._base.Result.parsed_url" title="searx.result_types._base.Result.parsed_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Result.parsed_url</span></code></a> must
be changed accordingly:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;parsed_url&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;url&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.plugins.Plugin.post_search">
<span class="sig-name descname"><span class="pre">post_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.extended_types.SXNG_Request" title="searx.extended_types.SXNG_Request"><span class="pre">SXNG_Request</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.search.SearchWithPlugins" title="searx.search.SearchWithPlugins"><span class="pre">SearchWithPlugins</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.13)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#searx.result_types._base.Result" title="searx.result_types._base.Result"><span class="pre">Result</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#searx.plugins.Plugin.post_search" title="Link to this definition">¶</a></dt>
<dd><p>Runs AFTER the search request.  Can return a list of
<a class="reference internal" href="#searx.result_types._base.Result" title="searx.result_types._base.Result"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Result</span></code></a> objects to be added to the
final result list.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.plugins.PluginInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.plugins.</span></span><span class="sig-name descname"><span class="pre">PluginInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preference_section:</span> <span class="pre">~typing.Literal['general'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">'ui'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">'privacy'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">'query']</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">'general'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">examples:</span> <span class="pre">list[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keywords:</span> <span class="pre">list[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.plugins.PluginInfo" title="Link to this definition">¶</a></dt>
<dd><p>Object that holds information about a <em>plugin</em>, these infos are shown to
the user in the Preferences menu.</p>
<p>To be able to translate the information into other languages, the text must
be written in English and translated with <a class="reference external" href="https://python-babel.github.io/flask-babel/index.html#flask_babel.gettext" title="(in Flask-Babel)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flask_babel.gettext</span></code></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.plugins.PluginInfo.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.plugins.PluginInfo.id" title="Link to this definition">¶</a></dt>
<dd><p>The ID-selector in HTML/CSS <cite>#&lt;id&gt;</cite>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.plugins.PluginInfo.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.plugins.PluginInfo.name" title="Link to this definition">¶</a></dt>
<dd><p>Name of the <em>plugin</em>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.plugins.PluginInfo.description">
<span class="sig-name descname"><span class="pre">description</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.plugins.PluginInfo.description" title="Link to this definition">¶</a></dt>
<dd><p>Short description of the <em>answerer</em>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.plugins.PluginInfo.preference_section">
<span class="sig-name descname"><span class="pre">preference_section</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'general'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ui'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'privacy'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'query'</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'general'</span></em><a class="headerlink" href="#searx.plugins.PluginInfo.preference_section" title="Link to this definition">¶</a></dt>
<dd><p>Section (tab/group) in the preferences where this plugin is shown to the
user.</p>
<p>The value <code class="docutils literal notranslate"><span class="pre">query</span></code> is reserved for plugins that are activated via a
<em>keyword</em> as part of a search query, see:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.plugins.PluginInfo.examples" title="searx.plugins.PluginInfo.examples"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PluginInfo.examples</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.plugins.Plugin.keywords" title="searx.plugins.Plugin.keywords"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Plugin.keywords</span></code></a></p></li>
</ul>
<p>Those plugins are shown in the preferences in tab <em>Special Queries</em>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.plugins.PluginInfo.examples">
<span class="sig-name descname"><span class="pre">examples</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.plugins.PluginInfo.examples" title="Link to this definition">¶</a></dt>
<dd><p>List of short examples of the usage / of query terms.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.plugins.PluginInfo.keywords">
<span class="sig-name descname"><span class="pre">keywords</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.plugins.PluginInfo.keywords" title="Link to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#searx.plugins.Plugin.keywords" title="searx.plugins.Plugin.keywords"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Plugin.keywords</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.plugins.PluginStorage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.plugins.</span></span><span class="sig-name descname"><span class="pre">PluginStorage</span></span><a class="headerlink" href="#searx.plugins.PluginStorage" title="Link to this definition">¶</a></dt>
<dd><p>A storage for managing the <em>plugins</em> of SearXNG.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.plugins.PluginStorage.plugin_list">
<span class="sig-name descname"><span class="pre">plugin_list</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.13)"><span class="pre">set</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#searx.plugins.Plugin" title="searx.plugins._core.Plugin"><span class="pre">Plugin</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.plugins.PluginStorage.plugin_list" title="Link to this definition">¶</a></dt>
<dd><p>The list of <code class="xref py py-obj docutils literal notranslate"><span class="pre">Plugins</span></code> in this storage.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.plugins.PluginStorage.load_settings">
<span class="sig-name descname"><span class="pre">load_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.plugins.PluginStorage.load_settings" title="Link to this definition">¶</a></dt>
<dd><p>Load plugins configured in SearXNG’s settings <a class="reference internal" href="#settings-plugins"><span class="std std-ref">plugins:</span></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.plugins.PluginStorage.register">
<span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plugin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.plugins.Plugin" title="searx.plugins._core.Plugin"><span class="pre">Plugin</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.plugins.PluginStorage.register" title="Link to this definition">¶</a></dt>
<dd><p>Register a <a class="reference internal" href="#searx.plugins.Plugin" title="searx.plugins.Plugin"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Plugin</span></code></a>.  In case of name collision (if two
plugins have same ID) a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">KeyError</span></code></a> exception is raised.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.plugins.PluginStorage.init">
<span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://flask.palletsprojects.com/en/stable/api/#flask.Flask" title="(in Flask v3.1.x)"><span class="pre">flask.Flask</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#searx.plugins.PluginStorage.init" title="Link to this definition">¶</a></dt>
<dd><p>Calls the method <a class="reference internal" href="#searx.plugins.Plugin.init" title="searx.plugins.Plugin.init"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Plugin.init</span></code></a> of each plugin in this
storage.  Depending on its return value, the plugin is removed from
<em>this</em> storage or not.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.plugins.PluginStorage.post_search">
<span class="sig-name descname"><span class="pre">post_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.extended_types.SXNG_Request" title="searx.extended_types.SXNG_Request"><span class="pre">SXNG_Request</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.search.SearchWithPlugins" title="searx.search.SearchWithPlugins"><span class="pre">SearchWithPlugins</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#searx.plugins.PluginStorage.post_search" title="Link to this definition">¶</a></dt>
<dd><p>Extend <code class="xref py py-obj docutils literal notranslate"><span class="pre">search.result_container</span>
<span class="pre">&lt;searx.results.ResultContainer</span></code>&gt; with result items from plugins listed
in <code class="xref py py-obj docutils literal notranslate"><span class="pre">search.user_plugins</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.plugins.PluginCfg">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.plugins.</span></span><span class="sig-name descname"><span class="pre">PluginCfg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">active</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.plugins.PluginCfg" title="Link to this definition">¶</a></dt>
<dd><p>Settings of a plugin.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">mypackage.mymodule.MyPlugin</span><span class="p">:</span>
<span class="w">  </span><span class="nt">active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.plugins.PluginCfg.active">
<span class="sig-name descname"><span class="pre">active</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#searx.plugins.PluginCfg.active" title="Link to this definition">¶</a></dt>
<dd><p>Plugin is active by default and the user can <em>opt-out</em> in the preferences.</p>
</dd></dl>

</dd></dl>

</section>
</section>
<span id="document-dev/plugins/builtins"></span><section id="built-in-plugins">
<span id="builtin-plugins"></span><h4>Built-in Plugins<a class="headerlink" href="#built-in-plugins" title="Link to this heading">¶</a></h4>
<div class="toctree-wrapper compound">
<span id="document-dev/plugins/calculator"></span><section id="module-searx.plugins.calculator">
<span id="calculator"></span><span id="plugins-calculator"></span><h5>Calculator<a class="headerlink" href="#module-searx.plugins.calculator" title="Link to this heading">¶</a></h5>
<p>Calculate mathematical expressions using <a class="reference external" href="https://docs.python.org/3/library/ast.html#ast.parse" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ast.parse</span></code></a> (mode=”eval”).</p>
<dl class="py class">
<dt class="sig sig-object py" id="searx.plugins.calculator.SXNGPlugin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.plugins.calculator.</span></span><span class="sig-name descname"><span class="pre">SXNGPlugin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plg_cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.plugins.PluginCfg" title="searx.plugins.PluginCfg"><span class="pre">PluginCfg</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.plugins.calculator.SXNGPlugin" title="Link to this definition">¶</a></dt>
<dd><p>Plugin converts strings to different hash digests.  The results are
displayed in area for the “answers”.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.plugins.calculator.SXNGPlugin.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'calculator'</span></em><a class="headerlink" href="#searx.plugins.calculator.SXNGPlugin.id" title="Link to this definition">¶</a></dt>
<dd><p>The ID (suffix) in the HTML form.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.plugins.calculator.SXNGPlugin.post_search">
<span class="sig-name descname"><span class="pre">post_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.extended_types.SXNG_Request" title="searx.extended_types.SXNG_Request"><span class="pre">SXNG_Request</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.search.SearchWithPlugins" title="searx.search.SearchWithPlugins"><span class="pre">SearchWithPlugins</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#searx.result_types.EngineResults" title="searx.result_types.EngineResults"><span class="pre">EngineResults</span></a></span></span><a class="headerlink" href="#searx.plugins.calculator.SXNGPlugin.post_search" title="Link to this definition">¶</a></dt>
<dd><p>Runs AFTER the search request.  Can return a list of
<a class="reference internal" href="#searx.result_types._base.Result" title="searx.result_types._base.Result"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Result</span></code></a> objects to be added to the
final result list.</p>
</dd></dl>

</dd></dl>

</section>
<span id="document-dev/plugins/hash_plugin"></span><section id="hash-values">
<span id="hash-plugin-plugin"></span><h5>Hash Values<a class="headerlink" href="#hash-values" title="Link to this heading">¶</a></h5>
<dl class="py class">
<dt class="sig sig-object py" id="searx.plugins.hash_plugin.SXNGPlugin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.plugins.hash_plugin.</span></span><span class="sig-name descname"><span class="pre">SXNGPlugin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plg_cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.plugins.PluginCfg" title="searx.plugins.PluginCfg"><span class="pre">PluginCfg</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.plugins.hash_plugin.SXNGPlugin" title="Link to this definition">¶</a></dt>
<dd><p>Plugin converts strings to different hash digests.  The results are
displayed in area for the “answers”.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.plugins.hash_plugin.SXNGPlugin.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'hash_plugin'</span></em><a class="headerlink" href="#searx.plugins.hash_plugin.SXNGPlugin.id" title="Link to this definition">¶</a></dt>
<dd><p>The ID (suffix) in the HTML form.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.plugins.hash_plugin.SXNGPlugin.keywords">
<span class="sig-name descname"><span class="pre">keywords</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['md5',</span> <span class="pre">'sha1',</span> <span class="pre">'sha224',</span> <span class="pre">'sha256',</span> <span class="pre">'sha384',</span> <span class="pre">'sha512']</span></em><a class="headerlink" href="#searx.plugins.hash_plugin.SXNGPlugin.keywords" title="Link to this definition">¶</a></dt>
<dd><p>Keywords in the search query that activate the plugin.  The <em>keyword</em> is
the first word in a search query.  If a plugin should be executed regardless
of the search query, the list of keywords should be empty (which is also the
default in the base class for Plugins).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.plugins.hash_plugin.SXNGPlugin.post_search">
<span class="sig-name descname"><span class="pre">post_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.extended_types.SXNG_Request" title="searx.extended_types.SXNG_Request"><span class="pre">SXNG_Request</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.search.SearchWithPlugins" title="searx.search.SearchWithPlugins"><span class="pre">SearchWithPlugins</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#searx.result_types.EngineResults" title="searx.result_types.EngineResults"><span class="pre">EngineResults</span></a></span></span><a class="headerlink" href="#searx.plugins.hash_plugin.SXNGPlugin.post_search" title="Link to this definition">¶</a></dt>
<dd><p>Returns a result list only for the first page.</p>
</dd></dl>

</dd></dl>

</section>
<span id="document-dev/plugins/hostnames"></span><section id="module-searx.plugins.hostnames">
<span id="hostnames"></span><span id="hostnames-plugin"></span><h5>Hostnames<a class="headerlink" href="#module-searx.plugins.hostnames" title="Link to this heading">¶</a></h5>
<p>During the initialization phase, the plugin checks whether a <code class="docutils literal notranslate"><span class="pre">hostnames:</span></code>
configuration exists. If this is not the case, the plugin is not included
in the PluginStorage (it is not available for selection).</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">hostnames.replace</span></code>: A <strong>mapping</strong> of regular expressions to hostnames to be
replaced by other hostnames.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hostnames</span><span class="p">:</span>
<span class="w">  </span><span class="nt">replace</span><span class="p">:</span>
<span class="w">    </span><span class="s">&#39;(.*\.)?youtube\.com$&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&#39;invidious.example.com&#39;</span>
<span class="w">    </span><span class="s">&#39;(.*\.)?youtu\.be$&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&#39;invidious.example.com&#39;</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">hostnames.remove</span></code>: A <strong>list</strong> of regular expressions of the hostnames whose
results should be taken from the results list.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hostnames</span><span class="p">:</span>
<span class="w">  </span><span class="nt">remove</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;(.*\.)?facebook.com$&#39;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">hostnames.high_priority</span></code>: A <strong>list</strong> of regular expressions for hostnames
whose result should be given higher priority. The results from these hosts are
arranged higher in the results list.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hostnames</span><span class="p">:</span>
<span class="w">  </span><span class="nt">high_priority</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;(.*\.)?wikipedia.org$&#39;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">hostnames.lower_priority</span></code>: A <strong>list</strong> of regular expressions for hostnames
whose result should be given lower priority. The results from these hosts are
arranged lower in the results list.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hostnames</span><span class="p">:</span>
<span class="w">  </span><span class="nt">low_priority</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;(.*\.)?google(\..*)?$&#39;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
</li>
</ul>
<p>If the URL matches the pattern of <code class="docutils literal notranslate"><span class="pre">high_priority</span></code> AND <code class="docutils literal notranslate"><span class="pre">low_priority</span></code>, the
higher priority wins over the lower priority.</p>
<p>Alternatively, you can also specify a file name for the <strong>mappings</strong> or
<strong>lists</strong> to load these from an external file:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hostnames</span><span class="p">:</span>
<span class="w">  </span><span class="nt">replace</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;rewrite-hosts.yml&#39;</span>
<span class="w">  </span><span class="nt">remove</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;(.*\.)?facebook.com$&#39;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">  </span><span class="nt">low_priority</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;(.*\.)?google(\..*)?$&#39;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">  </span><span class="nt">high_priority</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;(.*\.)?wikipedia.org$&#39;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">rewrite-hosts.yml</span></code> from the example above must be in the folder in which
the <code class="docutils literal notranslate"><span class="pre">settings.yml</span></code> file is already located (<code class="docutils literal notranslate"><span class="pre">/etc/searxng</span></code>). The file then
only contains the lists or the mapping tables without further information on the
namespaces.  In the example above, this would be a mapping table that looks
something like this:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="s">&#39;(.*\.)?youtube\.com$&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&#39;invidious.example.com&#39;</span>
<span class="s">&#39;(.*\.)?youtu\.be$&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&#39;invidious.example.com&#39;</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="searx.plugins.hostnames.SXNGPlugin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.plugins.hostnames.</span></span><span class="sig-name descname"><span class="pre">SXNGPlugin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plg_cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.plugins.PluginCfg" title="searx.plugins.PluginCfg"><span class="pre">PluginCfg</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.plugins.hostnames.SXNGPlugin" title="Link to this definition">¶</a></dt>
<dd><p>Rewrite hostnames, remove results or prioritize them.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.plugins.hostnames.SXNGPlugin.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'hostnames'</span></em><a class="headerlink" href="#searx.plugins.hostnames.SXNGPlugin.id" title="Link to this definition">¶</a></dt>
<dd><p>The ID (suffix) in the HTML form.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.plugins.hostnames.SXNGPlugin.on_result">
<span class="sig-name descname"><span class="pre">on_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.extended_types.SXNG_Request" title="searx.extended_types.SXNG_Request"><span class="pre">SXNG_Request</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.search.SearchWithPlugins" title="searx.search.SearchWithPlugins"><span class="pre">SearchWithPlugins</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.result_types._base.Result" title="searx.result_types._base.Result"><span class="pre">Result</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#searx.plugins.hostnames.SXNGPlugin.on_result" title="Link to this definition">¶</a></dt>
<dd><p>Runs for each result of each engine and returns a boolean:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code> to keep the result</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code> to remove the result from the result list</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">result</span></code> can be modified to the needs.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>If <a class="reference internal" href="#searx.result_types._base.Result.url" title="searx.result_types._base.Result.url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Result.url</span></code></a> is modified,
<a class="reference internal" href="#searx.result_types._base.Result.parsed_url" title="searx.result_types._base.Result.parsed_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Result.parsed_url</span></code></a> must
be changed accordingly:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;parsed_url&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;url&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.plugins.hostnames.SXNGPlugin.init">
<span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://flask.palletsprojects.com/en/stable/api/#flask.Flask" title="(in Flask v3.1.x)"><span class="pre">flask.Flask</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#searx.plugins.hostnames.SXNGPlugin.init" title="Link to this definition">¶</a></dt>
<dd><p>Initialization of the plugin, the return value decides whether this
plugin is active or not.  Initialization only takes place once, at the
time the WEB application is set up.  The base method always returns
<code class="docutils literal notranslate"><span class="pre">True</span></code>, the method can be overwritten in the inheritances,</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code> plugin is active</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code> plugin is inactive</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.plugins.hostnames.filter_url_field">
<span class="sig-prename descclassname"><span class="pre">searx.plugins.hostnames.</span></span><span class="sig-name descname"><span class="pre">filter_url_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.result_types._base.Result" title="searx.result_types._base.Result"><span class="pre">Result</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#searx.result_types._base.LegacyResult" title="searx.result_types._base.LegacyResult"><span class="pre">LegacyResult</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">url_src</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#searx.plugins.hostnames.filter_url_field" title="Link to this definition">¶</a></dt>
<dd><p>Returns bool <code class="docutils literal notranslate"><span class="pre">True</span></code> to use URL unchanged (<code class="docutils literal notranslate"><span class="pre">False</span></code> to ignore URL).
If URL should be modified, the returned string is the new URL to use.</p>
</dd></dl>

</section>
<span id="document-dev/plugins/self_info"></span><section id="self-info">
<span id="self-info-plugin"></span><h5>Self-Info<a class="headerlink" href="#self-info" title="Link to this heading">¶</a></h5>
<dl class="py class">
<dt class="sig sig-object py" id="searx.plugins.self_info.SXNGPlugin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.plugins.self_info.</span></span><span class="sig-name descname"><span class="pre">SXNGPlugin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plg_cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.plugins.PluginCfg" title="searx.plugins.PluginCfg"><span class="pre">PluginCfg</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.plugins.self_info.SXNGPlugin" title="Link to this definition">¶</a></dt>
<dd><p>Simple plugin that displays information about user’s request, including
the IP or HTTP User-Agent.  The information is displayed in area for the
“answers”.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.plugins.self_info.SXNGPlugin.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'self_info'</span></em><a class="headerlink" href="#searx.plugins.self_info.SXNGPlugin.id" title="Link to this definition">¶</a></dt>
<dd><p>The ID (suffix) in the HTML form.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.plugins.self_info.SXNGPlugin.keywords">
<span class="sig-name descname"><span class="pre">keywords</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['ip',</span> <span class="pre">'user-agent']</span></em><a class="headerlink" href="#searx.plugins.self_info.SXNGPlugin.keywords" title="Link to this definition">¶</a></dt>
<dd><p>Keywords in the search query that activate the plugin.  The <em>keyword</em> is
the first word in a search query.  If a plugin should be executed regardless
of the search query, the list of keywords should be empty (which is also the
default in the base class for Plugins).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.plugins.self_info.SXNGPlugin.post_search">
<span class="sig-name descname"><span class="pre">post_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.extended_types.SXNG_Request" title="searx.extended_types.SXNG_Request"><span class="pre">SXNG_Request</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.search.SearchWithPlugins" title="searx.search.SearchWithPlugins"><span class="pre">SearchWithPlugins</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#searx.result_types.EngineResults" title="searx.result_types.EngineResults"><span class="pre">EngineResults</span></a></span></span><a class="headerlink" href="#searx.plugins.self_info.SXNGPlugin.post_search" title="Link to this definition">¶</a></dt>
<dd><p>Returns a result list only for the first page.</p>
</dd></dl>

</dd></dl>

</section>
<span id="document-dev/plugins/tor_check"></span><section id="module-searx.plugins.tor_check">
<span id="tor-check"></span><span id="tor-check-plugin"></span><h5>Tor check<a class="headerlink" href="#module-searx.plugins.tor_check" title="Link to this heading">¶</a></h5>
<p>A plugin to check if the ip address of the request is a Tor exit-node if the
user searches for <code class="docutils literal notranslate"><span class="pre">tor-check</span></code>.  It fetches the tor exit node list from
<a class="reference internal" href="#searx.plugins.tor_check.url_exit_list" title="searx.plugins.tor_check.url_exit_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">url_exit_list</span></code></a> and parses all the IPs into a list, then checks if the
user’s IP address is in it.</p>
<dl class="py data">
<dt class="sig sig-object py" id="searx.plugins.tor_check.url_exit_list">
<span class="sig-prename descclassname"><span class="pre">searx.plugins.tor_check.</span></span><span class="sig-name descname"><span class="pre">url_exit_list</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://check.torproject.org/exit-addresses'</span></em><a class="headerlink" href="#searx.plugins.tor_check.url_exit_list" title="Link to this definition">¶</a></dt>
<dd><p>URL to load Tor exit list from.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.plugins.tor_check.SXNGPlugin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.plugins.tor_check.</span></span><span class="sig-name descname"><span class="pre">SXNGPlugin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plg_cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.plugins.PluginCfg" title="searx.plugins.PluginCfg"><span class="pre">PluginCfg</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.plugins.tor_check.SXNGPlugin" title="Link to this definition">¶</a></dt>
<dd><p>Rewrite hostnames, remove results or prioritize them.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.plugins.tor_check.SXNGPlugin.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'tor_check'</span></em><a class="headerlink" href="#searx.plugins.tor_check.SXNGPlugin.id" title="Link to this definition">¶</a></dt>
<dd><p>The ID (suffix) in the HTML form.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.plugins.tor_check.SXNGPlugin.keywords">
<span class="sig-name descname"><span class="pre">keywords</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['tor-check',</span> <span class="pre">'tor_check',</span> <span class="pre">'torcheck',</span> <span class="pre">'tor',</span> <span class="pre">'tor</span> <span class="pre">check']</span></em><a class="headerlink" href="#searx.plugins.tor_check.SXNGPlugin.keywords" title="Link to this definition">¶</a></dt>
<dd><p>Keywords in the search query that activate the plugin.  The <em>keyword</em> is
the first word in a search query.  If a plugin should be executed regardless
of the search query, the list of keywords should be empty (which is also the
default in the base class for Plugins).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.plugins.tor_check.SXNGPlugin.post_search">
<span class="sig-name descname"><span class="pre">post_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.extended_types.SXNG_Request" title="searx.extended_types.SXNG_Request"><span class="pre">SXNG_Request</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.search.SearchWithPlugins" title="searx.search.SearchWithPlugins"><span class="pre">SearchWithPlugins</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#searx.result_types.EngineResults" title="searx.result_types.EngineResults"><span class="pre">EngineResults</span></a></span></span><a class="headerlink" href="#searx.plugins.tor_check.SXNGPlugin.post_search" title="Link to this definition">¶</a></dt>
<dd><p>Runs AFTER the search request.  Can return a list of
<a class="reference internal" href="#searx.result_types._base.Result" title="searx.result_types._base.Result"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Result</span></code></a> objects to be added to the
final result list.</p>
</dd></dl>

</dd></dl>

</section>
<span id="document-dev/plugins/unit_converter"></span><section id="module-searx.plugins.unit_converter">
<span id="unit-converter"></span><span id="unit-converter-plugin"></span><h5>Unit Converter<a class="headerlink" href="#module-searx.plugins.unit_converter" title="Link to this heading">¶</a></h5>
<p>A plugin for converting measured values from one unit to another unit (a
unit converter).</p>
<p>The plugin looks up the symbols (given in the query term) in a list of
converters, each converter is one item in the list (compare
<code class="xref py py-obj docutils literal notranslate"><span class="pre">ADDITIONAL_UNITS</span></code>).  If the symbols are ambiguous, the matching units
of measurement are evaluated.  The weighting in the evaluation results from the
sorting of the <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span> <span class="pre">of</span> <span class="pre">unit</span> <span class="pre">converters</span></code>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="searx.plugins.unit_converter.SXNGPlugin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.plugins.unit_converter.</span></span><span class="sig-name descname"><span class="pre">SXNGPlugin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plg_cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.plugins.PluginCfg" title="searx.plugins.PluginCfg"><span class="pre">PluginCfg</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.plugins.unit_converter.SXNGPlugin" title="Link to this definition">¶</a></dt>
<dd><p>Convert between units.  The result is displayed in area for the
“answers”.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.plugins.unit_converter.SXNGPlugin.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'unit_converter'</span></em><a class="headerlink" href="#searx.plugins.unit_converter.SXNGPlugin.id" title="Link to this definition">¶</a></dt>
<dd><p>The ID (suffix) in the HTML form.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.plugins.unit_converter.SXNGPlugin.post_search">
<span class="sig-name descname"><span class="pre">post_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.extended_types.SXNG_Request" title="searx.extended_types.SXNG_Request"><span class="pre">SXNG_Request</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.search.SearchWithPlugins" title="searx.search.SearchWithPlugins"><span class="pre">SearchWithPlugins</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#searx.result_types.EngineResults" title="searx.result_types.EngineResults"><span class="pre">EngineResults</span></a></span></span><a class="headerlink" href="#searx.plugins.unit_converter.SXNGPlugin.post_search" title="Link to this definition">¶</a></dt>
<dd><p>Runs AFTER the search request.  Can return a list of
<a class="reference internal" href="#searx.result_types._base.Result" title="searx.result_types._base.Result"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Result</span></code></a> objects to be added to the
final result list.</p>
</dd></dl>

</dd></dl>

</section>
</div>
</section>
</div>
</section>
<span id="document-dev/answerers/index"></span><section id="answerers">
<h3>Answerers<a class="headerlink" href="#answerers" title="Link to this heading">¶</a></h3>
<div class="toctree-wrapper compound">
<span id="document-dev/answerers/development"></span><section id="module-searx.answerers">
<span id="answerer-development"></span><span id="dev-answerers"></span><h4>Answerer Development<a class="headerlink" href="#module-searx.answerers" title="Link to this heading">¶</a></h4>
<p>The <em>answerers</em> give instant answers related to the search query, they
usually provide answers of type <code class="xref py py-obj docutils literal notranslate"><span class="pre">Answer</span></code>.</p>
<p>Here is an example of a very simple answerer that adds a “Hello” into the answer
area:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">flask_babel</span><span class="w"> </span><span class="kn">import</span> <span class="n">gettext</span> <span class="k">as</span> <span class="n">_</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">searx.answerers</span><span class="w"> </span><span class="kn">import</span> <span class="n">Answerer</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">searx.result_types</span><span class="w"> </span><span class="kn">import</span> <span class="n">Answer</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyAnswerer</span><span class="p">(</span><span class="n">Answerer</span><span class="p">):</span>

    <span class="n">keywords</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="s2">&quot;hello world&quot;</span> <span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">AnswererInfo</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">),</span> <span class="n">description</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;lorem ..&quot;</span><span class="p">),</span> <span class="n">keywords</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">keywords</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">answer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">search</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span> <span class="n">Answer</span><span class="p">(</span><span class="n">answer</span><span class="o">=</span><span class="s2">&quot;Hello&quot;</span><span class="p">)</span> <span class="p">]</span>
</pre></div>
</div>
<hr class="docutils" />
<dl class="py class">
<dt class="sig sig-object py" id="searx.answerers.Answerer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.answerers.</span></span><span class="sig-name descname"><span class="pre">Answerer</span></span><a class="headerlink" href="#searx.answerers.Answerer" title="Link to this definition">¶</a></dt>
<dd><p>Abstract base class of answerers.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.answerers.Answerer.keywords">
<span class="sig-name descname"><span class="pre">keywords</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.answerers.Answerer.keywords" title="Link to this definition">¶</a></dt>
<dd><p>Keywords to which the answerer has <em>answers</em>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.answerers.Answerer.answer">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">answer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#searx.result_types.answer.BaseAnswer" title="searx.result_types.answer.BaseAnswer"><span class="pre">BaseAnswer</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#searx.answerers.Answerer.answer" title="Link to this definition">¶</a></dt>
<dd><p>Function that returns a list of answers to the question/query.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.answerers.Answerer.info">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#searx.answerers.AnswererInfo" title="searx.answerers._core.AnswererInfo"><span class="pre">AnswererInfo</span></a></span></span><a class="headerlink" href="#searx.answerers.Answerer.info" title="Link to this definition">¶</a></dt>
<dd><p>Information about the <em>answerer</em>, see <a class="reference internal" href="#searx.answerers.AnswererInfo" title="searx.answerers.AnswererInfo"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AnswererInfo</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.answerers.AnswererInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.answerers.</span></span><span class="sig-name descname"><span class="pre">AnswererInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">examples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keywords</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.answerers.AnswererInfo" title="Link to this definition">¶</a></dt>
<dd><p>Object that holds information about an answerer, these infos are shown
to the user in the Preferences menu.</p>
<p>To be able to translate the information into other languages, the text must
be written in English and translated with <a class="reference external" href="https://python-babel.github.io/flask-babel/index.html#flask_babel.gettext" title="(in Flask-Babel)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flask_babel.gettext</span></code></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.answerers.AnswererInfo.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.answerers.AnswererInfo.name" title="Link to this definition">¶</a></dt>
<dd><p>Name of the <em>answerer</em>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.answerers.AnswererInfo.description">
<span class="sig-name descname"><span class="pre">description</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.answerers.AnswererInfo.description" title="Link to this definition">¶</a></dt>
<dd><p>Short description of the <em>answerer</em>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.answerers.AnswererInfo.examples">
<span class="sig-name descname"><span class="pre">examples</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.answerers.AnswererInfo.examples" title="Link to this definition">¶</a></dt>
<dd><p>List of short examples of the usage / of query terms.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.answerers.AnswererInfo.keywords">
<span class="sig-name descname"><span class="pre">keywords</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.answerers.AnswererInfo.keywords" title="Link to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#searx.answerers.Answerer.keywords" title="searx.answerers.Answerer.keywords"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Answerer.keywords</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.answerers.AnswerStorage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.answerers.</span></span><span class="sig-name descname"><span class="pre">AnswerStorage</span></span><a class="headerlink" href="#searx.answerers.AnswerStorage" title="Link to this definition">¶</a></dt>
<dd><p>A storage for managing the <em>answerers</em> of SearXNG.  With the
<a class="reference internal" href="#searx.answerers.AnswerStorage.ask" title="searx.answerers.AnswerStorage.ask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AnswerStorage.ask</span></code></a>” method, a caller can ask questions to all
<em>answerers</em> and receives a list of the results.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.answerers.AnswerStorage.answerer_list">
<span class="sig-name descname"><span class="pre">answerer_list</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.13)"><span class="pre">set</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#searx.answerers.Answerer" title="searx.answerers._core.Answerer"><span class="pre">Answerer</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.answerers.AnswerStorage.answerer_list" title="Link to this definition">¶</a></dt>
<dd><p>The list of <a class="reference internal" href="#searx.answerers.Answerer" title="searx.answerers.Answerer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Answerer</span></code></a> in this storage.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.answerers.AnswerStorage.load_builtins">
<span class="sig-name descname"><span class="pre">load_builtins</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#searx.answerers.AnswerStorage.load_builtins" title="Link to this definition">¶</a></dt>
<dd><p>Loads <code class="docutils literal notranslate"><span class="pre">answerer.py</span></code> modules from the python packages in
<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/answerers">git://searx/answerers</a>.  The python modules are wrapped by
<code class="xref py py-obj docutils literal notranslate"><span class="pre">ModuleAnswerer</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.answerers.AnswerStorage.register_by_fqn">
<span class="sig-name descname"><span class="pre">register_by_fqn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fqn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.answerers.AnswerStorage.register_by_fqn" title="Link to this definition">¶</a></dt>
<dd><p>Register a <a class="reference internal" href="#searx.answerers.Answerer" title="searx.answerers.Answerer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Answerer</span></code></a> via its fully qualified class namen(FQN).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.answerers.AnswerStorage.register">
<span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">answerer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.answerers.Answerer" title="searx.answerers._core.Answerer"><span class="pre">Answerer</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.answerers.AnswerStorage.register" title="Link to this definition">¶</a></dt>
<dd><p>Register a <a class="reference internal" href="#searx.answerers.Answerer" title="searx.answerers.Answerer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Answerer</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.answerers.AnswerStorage.ask">
<span class="sig-name descname"><span class="pre">ask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#searx.result_types.answer.BaseAnswer" title="searx.result_types.answer.BaseAnswer"><span class="pre">BaseAnswer</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#searx.answerers.AnswerStorage.ask" title="Link to this definition">¶</a></dt>
<dd><p>An answerer is identified via keywords, if there is a keyword at the
first position in the <code class="docutils literal notranslate"><span class="pre">query</span></code> for which there is one or more
answerers, then these are called, whereby the entire <code class="docutils literal notranslate"><span class="pre">query</span></code> is passed
as argument to the answerer function.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.answerers._core.ModuleAnswerer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.answerers._core.</span></span><span class="sig-name descname"><span class="pre">ModuleAnswerer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mod</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.answerers._core.ModuleAnswerer" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#searx.answerers.Answerer" title="searx.answerers._core.Answerer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Answerer</span></code></a></p>
<p>A wrapper class for legacy <em>answerers</em> where the names (keywords, answer,
info) are implemented on the module level (not in a class).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For internal use only!</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="searx.answerers._core.ModuleAnswerer.answer">
<span class="sig-name descname"><span class="pre">answer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#searx.result_types.answer.BaseAnswer" title="searx.result_types.answer.BaseAnswer"><span class="pre">BaseAnswer</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#searx.answerers._core.ModuleAnswerer.answer" title="Link to this definition">¶</a></dt>
<dd><p>Function that returns a list of answers to the question/query.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.answerers._core.ModuleAnswerer.info">
<span class="sig-name descname"><span class="pre">info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#searx.answerers.AnswererInfo" title="searx.answerers._core.AnswererInfo"><span class="pre">AnswererInfo</span></a></span></span><a class="headerlink" href="#searx.answerers._core.ModuleAnswerer.info" title="Link to this definition">¶</a></dt>
<dd><p>Information about the <em>answerer</em>, see <a class="reference internal" href="#searx.answerers.AnswererInfo" title="searx.answerers._core.AnswererInfo"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AnswererInfo</span></code></a>.</p>
</dd></dl>

</dd></dl>

</section>
<span id="document-dev/answerers/builtins"></span><section id="built-in-answerers">
<span id="builtin-answerers"></span><h4>Built-in Answerers<a class="headerlink" href="#built-in-answerers" title="Link to this heading">¶</a></h4>
<div class="toctree-wrapper compound">
<span id="document-dev/answerers/random"></span><section id="random">
<span id="answerer-random"></span><h5>Random<a class="headerlink" href="#random" title="Link to this heading">¶</a></h5>
<dl class="py class">
<dt class="sig sig-object py" id="searx.answerers.random.SXNGAnswerer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.answerers.random.</span></span><span class="sig-name descname"><span class="pre">SXNGAnswerer</span></span><a class="headerlink" href="#searx.answerers.random.SXNGAnswerer" title="Link to this definition">¶</a></dt>
<dd><p>Random value generator</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.answerers.random.SXNGAnswerer.keywords">
<span class="sig-name descname"><span class="pre">keywords</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['random']</span></em><a class="headerlink" href="#searx.answerers.random.SXNGAnswerer.keywords" title="Link to this definition">¶</a></dt>
<dd><p>Keywords to which the answerer has <em>answers</em>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.answerers.random.SXNGAnswerer.info">
<span class="sig-name descname"><span class="pre">info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#searx.answerers.random.SXNGAnswerer.info" title="Link to this definition">¶</a></dt>
<dd><p>Information about the <em>answerer</em>, see <code class="xref py py-obj docutils literal notranslate"><span class="pre">AnswererInfo</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.answerers.random.SXNGAnswerer.answer">
<span class="sig-name descname"><span class="pre">answer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#searx.result_types.answer.BaseAnswer" title="searx.result_types.answer.BaseAnswer"><span class="pre">BaseAnswer</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#searx.answerers.random.SXNGAnswerer.answer" title="Link to this definition">¶</a></dt>
<dd><p>Function that returns a list of answers to the question/query.</p>
</dd></dl>

</dd></dl>

</section>
<span id="document-dev/answerers/statistics"></span><section id="statistics">
<span id="answerer-statistics"></span><h5>Statistics<a class="headerlink" href="#statistics" title="Link to this heading">¶</a></h5>
<dl class="py class">
<dt class="sig sig-object py" id="searx.answerers.statistics.SXNGAnswerer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.answerers.statistics.</span></span><span class="sig-name descname"><span class="pre">SXNGAnswerer</span></span><a class="headerlink" href="#searx.answerers.statistics.SXNGAnswerer" title="Link to this definition">¶</a></dt>
<dd><p>Statistics functions</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.answerers.statistics.SXNGAnswerer.keywords">
<span class="sig-name descname"><span class="pre">keywords</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['min',</span> <span class="pre">'max',</span> <span class="pre">'avg',</span> <span class="pre">'sum',</span> <span class="pre">'prod',</span> <span class="pre">'range']</span></em><a class="headerlink" href="#searx.answerers.statistics.SXNGAnswerer.keywords" title="Link to this definition">¶</a></dt>
<dd><p>Keywords to which the answerer has <em>answers</em>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.answerers.statistics.SXNGAnswerer.info">
<span class="sig-name descname"><span class="pre">info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#searx.answerers.statistics.SXNGAnswerer.info" title="Link to this definition">¶</a></dt>
<dd><p>Information about the <em>answerer</em>, see <code class="xref py py-obj docutils literal notranslate"><span class="pre">AnswererInfo</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.answerers.statistics.SXNGAnswerer.answer">
<span class="sig-name descname"><span class="pre">answer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#searx.result_types.answer.BaseAnswer" title="searx.result_types.answer.BaseAnswer"><span class="pre">BaseAnswer</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#searx.answerers.statistics.SXNGAnswerer.answer" title="Link to this definition">¶</a></dt>
<dd><p>Function that returns a list of answers to the question/query.</p>
</dd></dl>

</dd></dl>

</section>
</div>
</section>
</div>
</section>
<span id="document-dev/translation"></span><section id="translation">
<span id="id1"></span><h3>Translation<a class="headerlink" href="#translation" title="Link to this heading">¶</a></h3>
<aside class="sidebar">
<p class="sidebar-title"><a class="reference external" href="https://translate.codeberg.org/projects/infinity-search/"><img alt="translated" src="https://translate.codeberg.org/widgets/infinity-search/-/infinity-search/svg-badge.svg" /></a></p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx-babel-extract"><span class="std std-ref">Custom message extractor (i18n)</span></a></p></li>
<li><p><a class="reference external" href="https://docs.weblate.org">Weblate</a></p></li>
<li><p>Infinity Search <a class="reference external" href="https://github.com/burhanuddin-1/s/tree/translations">translations branch</a></p></li>
<li><p>Infinity Search <a class="reference external" href="https://translate.codeberg.org/projects/infinity-search/infinity-search/#repository">Weblate repository</a></p></li>
<li><p>Weblate Client: <a class="reference external" href="https://docs.weblate.org/en/latest/wlc.html">wlc</a></p></li>
<li><p>Babel Command-Line: <a class="reference external" href="http://babel.pocoo.org/en/latest/cmdline.html">pybabel</a></p></li>
<li><p><a class="reference external" href="https://docs.weblate.org/en/latest/workflows.html">weblate workflow</a></p></li>
</ul>
</aside>
<p>Translation takes place on <a class="reference external" href="https://translate.codeberg.org/projects/infinity-search/">translate.codeberg.org</a>.</p>
<p>Translations which has been added by translators on the <a class="reference external" href="https://translate.codeberg.org/projects/infinity-search/">translate.codeberg.org</a> UI are
committed to Weblate’s counterpart of the Infinity Search <em>origin</em> repository which is
located at <code class="docutils literal notranslate"><span class="pre">https://translate.codeberg.org/git/infinity-search/infinity-search</span></code>.</p>
<p>There is no need to clone this repository, <a class="reference internal" href="#infinity-search-weblate-workflow"><span class="std std-ref">Infinity Search’s PR workflow to be in sync with Weblate</span></a> take
care of the synchronization with the <em>origin</em>.  To avoid merging commits from
the counterpart directly on the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch of <em>Infinity Search origin</em>, a <em>pull
request</em> (PR) is created by this workflow.</p>
<p>Weblate monitors the <a class="reference external" href="https://github.com/burhanuddin-1/s/tree/translations">translations branch</a>, not the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch.  This
branch is an <a class="reference external" href="https://git-scm.com/docs/git-checkout#Documentation/git-checkout.txt---orphanltnewbranchgt">orphan branch</a>, decoupled from the master branch (we already know
orphan branches from the <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code>).  The <a class="reference external" href="https://github.com/burhanuddin-1/s/tree/translations">translations branch</a> contains
only the</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">translation/messages.pot</span></code> and the</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">translation/*/messages.po</span></code> files, nothing else.</p></li>
</ul>
<figure class="align-default" id="id3">
<span id="infinity-search-weblate-workflow"></span><img alt="_images/translation.svg" src="_images/translation.svg" />
<figcaption>
<p><span class="caption-number">Fig. 3 </span><span class="caption-text">Infinity Search’s PR workflow to be in sync with Weblate</span><a class="headerlink" href="#id3" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<dl class="simple">
<dt>Sync from <em>origin</em> to <em>weblate</em>: using <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">weblate.push.translations</span></code></dt><dd><p>For each commit on the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch of Infinity Search <em>origin</em> the GitHub job
<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/.github/workflows/integration.yml">babel / Update translations branch</a> checks for updated translations.</p>
</dd>
<dt>Sync from <em>weblate</em> to <em>origin</em>: using <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">weblate.translations.commit</span></code></dt><dd><p>Every Friday, the GitHub workflow <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/.github/workflows/translations-update.yml">babel / create PR for additions from
weblate</a> creates a PR with the
updated translation files:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">translation/messages.pot</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">translation/*/messages.po</span></code> and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">translation/*/messages.mo</span></code></p></li>
</ul>
</dd>
</dl>
<section id="id2">
<h4>wlc<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h4>
<p>All weblate integration is done by GitHub workflows, but if you want to use <a class="reference external" href="https://docs.weblate.org/en/latest/wlc.html">wlc</a>,
copy this content into <a class="reference external" href="https://docs.weblate.org/en/latest/wlc.html#wlc-config">wlc configuration</a> in your HOME <code class="docutils literal notranslate"><span class="pre">~/.config/weblate</span></code></p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[keys]</span>
<span class="na">https</span><span class="o">:</span><span class="s">//translate.codeberg.org/api/ = APIKEY</span>
</pre></div>
</div>
<p>Replace <code class="docutils literal notranslate"><span class="pre">APIKEY</span></code> by your <a class="reference external" href="https://translate.codeberg.org/accounts/profile/#api">API key</a>.</p>
</section>
</section>
<span id="document-dev/makefile"></span><section id="makefile-manage">
<span id="makefile"></span><h3>Makefile &amp; <code class="docutils literal notranslate"><span class="pre">./manage</span></code><a class="headerlink" href="#makefile-manage" title="Link to this heading">¶</a></h3>
<p>All relevant build and development tasks are implemented in the
<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/manage">./manage</a> script and for CI or IDE integration a small
<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/Makefile">git://Makefile</a> wrapper is available.  If you are not familiar with
Makefiles, we recommend to read <a class="reference external" href="https://www.gnu.org/software/make/manual/make.html#Introduction">gnu-make</a> introduction.</p>
<aside class="sidebar">
<p class="sidebar-title">build environment</p>
<p>Before looking deeper at the targets, first read about <a class="reference internal" href="#make-install"><span class="std std-ref">Python environment (make install)</span></a>.</p>
<p>To install developer requirements follow <a class="reference internal" href="#buildhosts"><span class="std std-ref">Buildhosts</span></a>.</p>
</aside>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#python-environment-make-install" id="id13">Python environment (<code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">install</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#node-js-environment-make-node-env" id="id14">Node.js environment (<code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">node.env</span></code>)</a></p>
<ul>
<li><p><a class="reference internal" href="#nvm-make-nvm-install-nvm-status" id="id15">NVM <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">nvm.install</span> <span class="pre">nvm.status</span></code></a></p></li>
<li><p><a class="reference internal" href="#make-nvm-nodejs" id="id16"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">nvm.nodejs</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#make-run" id="id17"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">run</span></code></a></p></li>
<li><p><a class="reference internal" href="#make-format" id="id18"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">format</span></code></a></p></li>
<li><p><a class="reference internal" href="#make-clean" id="id19"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">clean</span></code></a></p></li>
<li><p><a class="reference internal" href="#make-docs" id="id20"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">docs</span></code></a></p>
<ul>
<li><p><a class="reference internal" href="#make-docs-clean-docs-live" id="id21"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">docs.clean</span> <span class="pre">docs.live</span></code></a></p></li>
<li><p><a class="reference internal" href="#make-docs-gh-pages" id="id22"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">docs.gh-pages</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#make-test" id="id23"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">test</span></code></a></p>
<ul>
<li><p><a class="reference internal" href="#make-test-shell" id="id24"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">test.shell</span></code></a></p></li>
<li><p><a class="reference internal" href="#make-test-pylint" id="id25"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">test.pylint</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#make-search-checker-engine-name" id="id26"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">search.checker.{engine</span> <span class="pre">name}</span></code></a></p></li>
<li><p><a class="reference internal" href="#make-themes" id="id27"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">themes.*</span></code></a></p></li>
<li><p><a class="reference internal" href="#make-static-build" id="id28"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">static.build.*</span></code></a></p></li>
<li><p><a class="reference internal" href="#manage-go-help" id="id29"><code class="docutils literal notranslate"><span class="pre">./manage</span> <span class="pre">go.help</span></code></a></p></li>
</ul>
</nav>
<p>The usage is simple, just type <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">{target-name}</span></code> to <em>build</em> a target.
Calling the <code class="docutils literal notranslate"><span class="pre">help</span></code> target gives a first overview (<code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">help</span></code>):</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-YGBtYWtlYGA=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-YGBtYWtlYGA=" name="YGBtYWtlYGA=" role="tab" tabindex="0"><code class="docutils literal notranslate"><span class="pre">make</span></code></button><button aria-controls="panel-0-YGAuL21hbmFnZWBg" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-YGAuL21hbmFnZWBg" name="YGAuL21hbmFnZWBg" role="tab" tabindex="-1"><code class="docutils literal notranslate"><span class="pre">./manage</span></code></button></div><div aria-labelledby="tab-0-YGBtYWtlYGA=" class="sphinx-tabs-panel group-tab" id="panel-0-YGBtYWtlYGA=" name="YGBtYWtlYGA=" role="tabpanel" tabindex="0"><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>nvm.: use nvm (without dot) to execute nvm commands directly
  install   : install NVM locally at /mnt/d/code/s/.nvm
  clean     : remove NVM installation
  status    : prompt some status information about nvm &amp; node
  nodejs    : install Node.js latest LTS
  cmd ...   : run command ... in NVM environment
  bash      : start bash interpreter with NVM environment sourced
webapp.:
  run       : run developer instance
docs.:
  html      : build HTML documentation
  live      : autobuild HTML documentation while editing
  gh-pages  : deploy on gh-pages branch
  prebuild  : build reST include files (./build/docs/includes)
  clean     : clean documentation build
gecko.driver:
  download &amp; install geckodriver if not already installed (required for
  robot_tests)
valkey:
  install   : create user () and install systemd service ()
py.:
  build     : Build python packages at ./dist
  clean     : delete virtualenv and intermediate py files
pyenv.:
  install   : developer install of SearXNG into virtualenv
  uninstall : uninstall developer installation
  cmd ...   : run command ... in virtualenv
  OK        : test if virtualenv is OK
format.:
  python    : format Python code source using black
  shell     : format Shell scripts using shfmt
go:           GOROOT=/mnt/d/code/s/.govm/go1.24.5
  install   : compiles and installs packages
node.:
  env       : download &amp; install SearXNG&#39;s npm dependencies locally
  env.dev   : download &amp; install developer and CI tools
  clean     : drop locally npm installations
weblate.:
  push.translations: push translation changes from SearXNG to Weblate&#39;s counterpart
  to.translations: Update &#39;translations&#39; branch with last additions from Weblate.
container.:
  build     : build container image
data.:
  all       : update searx/sxng_locales.py and searx/data/*
  traits    : update searx/data/engine_traits.json &amp; searx/sxng_locales.py
  useragents: update searx/data/useragents.json with the most recent versions of Firefox
  locales   : update searx/data/locales.json from babel
  currencies: update searx/data/currencies.json from wikidata
test.:
  yamllint  : lint YAML files (YAMLLINT_FILES)
  pylint    : lint ./searx, ./searxng_extra and ./tests
  pyright   : check Python types
  black     : check Python code format
  shfmt     : check Shell script code format
  unit      : run unit tests
  coverage  : run unit tests with coverage
  robot     : run robot test
  rst       : test .rst files incl. README.rst
  clean     : clean intermediate test stuff
themes.:
  all       : test &amp; build all themes
  simple    : test &amp; build simple theme
  lint      : lint JS &amp; CSS (LESS) files
  fix       : fix JS &amp; CSS (LESS) files
  test      : test all themes
static.build.:  [build] /static
  commit    : build &amp; commit /static folder
  drop      : drop last commit if it was previously done by static.build.commit
  restore   : git restore of the /static folder (after themes.all)
vite.:  .. to be done ..
  simple.:
    build: build static files of the simple theme
    fix:   run prettiers on simple theme
    lint:  run linters on simple theme
    dev:   start development server
dev.:
  env: enter developer environment (or exec a command in)
environment ...
  SEARXNG_VALKEY_URL : 
----
run            - run developer instance
install        - developer install of SearxNG into virtualenv
uninstall      - uninstall developer installation
clean          - clean up working tree
search.checker - check search engines
test           - run shell &amp; CI tests
test.shell     - test shell scripts
ci.test        - run CI tests
</pre></div>
</div>
</div><div aria-labelledby="tab-0-YGAuL21hbmFnZWBg" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-YGAuL21hbmFnZWBg" name="YGAuL21hbmFnZWBg" role="tabpanel" tabindex="0"><p>The Makefile targets are implemented for comfort, if you can do without
tab-completion and need to have a more granular control, use
<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/manage">git://manage</a> without the Makefile wrappers.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./manage<span class="w"> </span><span class="nb">help</span>
</pre></div>
</div>
</div></div>
<section id="python-environment-make-install">
<span id="make-install"></span><h4><a class="toc-backref" href="#id13" role="doc-backlink">Python environment (<code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">install</span></code>)</a><a class="headerlink" href="#python-environment-make-install" title="Link to this heading">¶</a></h4>
<aside class="sidebar">
<p class="sidebar-title">activate environment</p>
<p><code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">./local/py3/bin/activate</span></code></p>
</aside>
<p>We do no longer need to build up the virtualenv manually.  Jump into your git
working tree and release a <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">install</span></code> to get a virtualenv with a
<em>developer install</em> of SearXNG (<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/setup.py">git://setup.py</a>).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd ~/searxng-clone
$ make install
PYENV     [virtualenv] installing ./requirements*.txt into local/py3
...
PYENV     [install] pip install --use-pep517 --no-build-isolation -e &#39;searx[test]&#39;
...
Successfully installed searxng-2023.7.19+a446dea1b
</pre></div>
</div>
<p>If you release <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">install</span></code> multiple times the installation will only
rebuild if the sha256 sum of the <em>requirement files</em> fails.  With other words:
the check fails if you edit the requirements listed in
<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/requirements-dev.txt">git://requirements-dev.txt</a> and <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/requirements.txt">git://requirements.txt</a>).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ make install
PYENV     OK
PYENV     [virtualenv] requirements.sha256 failed
          [virtualenv] - 6cea6eb6def9e14a18bf32f8a3e...  ./requirements-dev.txt
          [virtualenv] - 471efef6c73558e391c3adb35f4...  ./requirements.txt
...
PYENV     [virtualenv] installing ./requirements*.txt into local/py3
...
PYENV     [install] pip install --use-pep517 --no-build-isolation -e &#39;searx[test]&#39;
...
Successfully installed searxng-2023.7.19+a446dea1b
</pre></div>
</div>
<aside class="sidebar">
<p class="sidebar-title">drop environment</p>
<p>To get rid of the existing environment before re-build use <a class="reference internal" href="#make-clean"><span class="std std-ref">clean target</span></a> first.</p>
</aside>
<p>If you think, something goes wrong with your ./local environment or you change
the <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/setup.py">git://setup.py</a> file, you have to call <a class="reference internal" href="#make-clean"><span class="std std-ref">make clean</span></a>.</p>
</section>
<section id="node-js-environment-make-node-env">
<span id="make-node-env"></span><h4><a class="toc-backref" href="#id14" role="doc-backlink">Node.js environment (<code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">node.env</span></code>)</a><a class="headerlink" href="#node-js-environment-make-node-env" title="Link to this heading">¶</a></h4>
<p><a class="reference external" href="https://nodejs.org/">Node.js</a> version None or higher is required to build the themes.
If the requirement is not met, the build chain uses <a class="reference external" href="https://github.com/nvm-sh">nvm</a> (Node Version
Manager) to install latest LTS of <a class="reference external" href="https://nodejs.org/">Node.js</a> locally: there is no need to
install <a class="reference external" href="https://github.com/nvm-sh">nvm</a> or <a class="reference external" href="https://www.npmjs.com/">npm</a> on your system.</p>
<p>To install <a class="reference external" href="https://github.com/nvm-sh">NVM</a> and <a class="reference external" href="https://nodejs.org/">Node.js</a> in once you can use <a class="reference internal" href="#make-nvm-nodejs"><span class="std std-ref">make nvm.nodejs</span></a>.</p>
<section id="nvm-make-nvm-install-nvm-status">
<span id="make-nvm"></span><h5><a class="toc-backref" href="#id15" role="doc-backlink">NVM <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">nvm.install</span> <span class="pre">nvm.status</span></code></a><a class="headerlink" href="#nvm-make-nvm-install-nvm-status" title="Link to this heading">¶</a></h5>
<p>Use <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">nvm.status</span></code> to get the current status of your <a class="reference external" href="https://nodejs.org/">Node.js</a> and <a class="reference external" href="https://github.com/nvm-sh">nvm</a>
setup.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-bnZtLmluc3RhbGw=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-bnZtLmluc3RhbGw=" name="bnZtLmluc3RhbGw=" role="tab" tabindex="0">nvm.install</button><button aria-controls="panel-1-bnZtLnN0YXR1cyAodWJ1MjAwNCk=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-bnZtLnN0YXR1cyAodWJ1MjAwNCk=" name="bnZtLnN0YXR1cyAodWJ1MjAwNCk=" role="tab" tabindex="-1">nvm.status (ubu2004)</button></div><div aria-labelledby="tab-1-bnZtLmluc3RhbGw=" class="sphinx-tabs-panel group-tab" id="panel-1-bnZtLmluc3RhbGw=" name="bnZtLmluc3RhbGw=" role="tabpanel" tabindex="0"><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nv">LANG</span><span class="o">=</span>C<span class="w"> </span>make<span class="w"> </span>nvm.install
INFO:<span class="w">  </span>install<span class="w"> </span><span class="o">(</span>update<span class="o">)</span><span class="w"> </span>NVM<span class="w"> </span>at<span class="w"> </span>./searxng/.nvm
INFO:<span class="w">  </span>clone:<span class="w"> </span>https://github.com/nvm-sh/nvm.git
<span class="w">  </span><span class="o">||</span><span class="w"> </span>Cloning<span class="w"> </span>into<span class="w"> </span><span class="s1">&#39;./searxng/.nvm&#39;</span>...
INFO:<span class="w">  </span>checkout<span class="w"> </span>v0.39.4
<span class="w">  </span><span class="o">||</span><span class="w"> </span>HEAD<span class="w"> </span>is<span class="w"> </span>now<span class="w"> </span>at<span class="w"> </span>8fbf8ab<span class="w"> </span>v0.39.4
</pre></div>
</div>
</div><div aria-labelledby="tab-1-bnZtLnN0YXR1cyAodWJ1MjAwNCk=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-bnZtLnN0YXR1cyAodWJ1MjAwNCk=" name="bnZtLnN0YXR1cyAodWJ1MjAwNCk=" role="tabpanel" tabindex="0"><p>Here is the output you will typically get on a Ubuntu 20.04 system which
serves only a <a class="reference external" href="https://nodejs.org/en/about/releases/">no longer active</a>
Release <a class="reference external" href="https://packages.ubuntu.com/focal/nodejs">Node.js v10.19.0</a>.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>make<span class="w"> </span>nvm.status
INFO:<span class="w">  </span>Node.js<span class="w"> </span>is<span class="w"> </span>installed<span class="w"> </span>at<span class="w"> </span>/usr/bin/node
INFO:<span class="w">  </span>Node.js<span class="w"> </span>is<span class="w"> </span>version<span class="w"> </span>v10.19.0
WARN:<span class="w">  </span>minimal<span class="w"> </span>Node.js<span class="w"> </span>version<span class="w"> </span>is<span class="w"> </span><span class="m">16</span>.13.0
INFO:<span class="w">  </span>npm<span class="w"> </span>is<span class="w"> </span>installed<span class="w"> </span>at<span class="w"> </span>/usr/bin/npm
INFO:<span class="w">  </span>npm<span class="w"> </span>is<span class="w"> </span>version<span class="w"> </span><span class="m">6</span>.14.4
WARN:<span class="w">  </span>NVM<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>installed
</pre></div>
</div>
</div></div>
</section>
<section id="make-nvm-nodejs">
<span id="id1"></span><h5><a class="toc-backref" href="#id16" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">nvm.nodejs</span></code></a><a class="headerlink" href="#make-nvm-nodejs" title="Link to this heading">¶</a></h5>
<p>Install latest <a class="reference external" href="https://nodejs.org/">Node.js</a> LTS locally (uses <a class="reference external" href="https://github.com/nvm-sh">nvm</a>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ make nvm.nodejs
INFO:  install (update) NVM at /share/searxng/.nvm
INFO:  clone: https://github.com/nvm-sh/nvm.git
...
Downloading and installing node v16.13.0...
...
INFO:  Node.js is installed at searxng/.nvm/versions/node/v16.13.0/bin/node
INFO:  Node.js is version v16.13.0
INFO:  npm is installed at searxng/.nvm/versions/node/v16.13.0/bin/npm
INFO:  npm is version 8.1.0
INFO:  NVM is installed at searxng/.nvm
</pre></div>
</div>
</section>
</section>
<section id="make-run">
<span id="id2"></span><h4><a class="toc-backref" href="#id17" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">run</span></code></a><a class="headerlink" href="#make-run" title="Link to this heading">¶</a></h4>
<p>To get up a running a developer instance simply call <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">run</span></code>.  This enables
<em>debug</em> option in <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/settings.yml">git://searx/settings.yml</a>, starts a <code class="docutils literal notranslate"><span class="pre">./searx/webapp.py</span></code>
instance and opens the URL in your favorite WEB browser (<a class="extlink-man reference external" href="https://manpages.debian.org/jump?q=xdg-open">xdg-open</a>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ make run
</pre></div>
</div>
<p>Changes to theme’s HTML templates (jinja2) are instant.  Changes to the CSS &amp; JS
sources of the theme need to be rebuild.  You can do that by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ make themes.all
</pre></div>
</div>
</section>
<section id="make-format">
<span id="id3"></span><h4><a class="toc-backref" href="#id18" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">format</span></code></a><a class="headerlink" href="#make-format" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Format Python source code using <a class="reference external" href="https://black.readthedocs.io/en/stable/the_black_code_style/current_style.html">Black code style</a>.  See <code class="docutils literal notranslate"><span class="pre">$BLACK_OPTIONS</span></code>
and <code class="docutils literal notranslate"><span class="pre">$BLACK_TARGETS</span></code> in <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/Makefile">git://Makefile</a>.</p></li>
<li><p>Format Shell scripts using <a class="reference external" href="https://github.com/mvdan/sh?tab=readme-ov-file#shfmt">shfmt</a>. The formatter <code class="docutils literal notranslate"><span class="pre">shfmt</span></code> reads the rules
from the <a class="reference external" href="https://github.com/patrickvane/shfmt?tab=readme-ov-file#description">EditorConfig</a> files.</p></li>
</ul>
</section>
<section id="make-clean">
<span id="id4"></span><h4><a class="toc-backref" href="#id19" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">clean</span></code></a><a class="headerlink" href="#make-clean" title="Link to this heading">¶</a></h4>
<p>Drops all intermediate files, all builds, but keep sources untouched.  Before
calling <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">clean</span></code> stop all processes using the <a class="reference internal" href="#make-install"><span class="std std-ref">Python environment (make install)</span></a> or
<a class="reference internal" href="#make-node-env"><span class="std std-ref">Node.js environment (make node.env)</span></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ make clean
CLEAN     pyenv
PYENV     [virtualenv] drop local/py3
CLEAN     docs -- build/docs dist/docs
CLEAN     themes -- locally installed npm dependencies
...
CLEAN     test stuff
CLEAN     common files
</pre></div>
</div>
</section>
<section id="make-docs">
<span id="id5"></span><h4><a class="toc-backref" href="#id20" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">docs</span></code></a><a class="headerlink" href="#make-docs" title="Link to this heading">¶</a></h4>
<p>Target <code class="docutils literal notranslate"><span class="pre">docs</span></code> builds the documentation:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>make<span class="w"> </span>docs
HTML<span class="w"> </span>./docs<span class="w"> </span>--&gt;<span class="w"> </span>file://
DOCS<span class="w">      </span>build<span class="w"> </span>build/docs/includes
...
The<span class="w"> </span>HTML<span class="w"> </span>pages<span class="w"> </span>are<span class="w"> </span><span class="k">in</span><span class="w"> </span>dist/docs.
</pre></div>
</div>
<section id="make-docs-clean-docs-live">
<span id="make-docs-clean"></span><h5><a class="toc-backref" href="#id21" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">docs.clean</span> <span class="pre">docs.live</span></code></a><a class="headerlink" href="#make-docs-clean-docs-live" title="Link to this heading">¶</a></h5>
<p>We describe the usage of the <code class="docutils literal notranslate"><span class="pre">doc.*</span></code> targets in the <a class="reference internal" href="#contrib-docs"><span class="std std-ref">How to contribute /
Documentation</span></a> section.  If you want to edit the documentation
read our <a class="reference internal" href="#make-docs-live"><span class="std std-ref">Live build</span></a> section.  If you are working in your own brand,
adjust your <a class="reference internal" href="#settings-brand"><span class="std std-ref">brand:</span></a>.</p>
</section>
<section id="make-docs-gh-pages">
<span id="id6"></span><h5><a class="toc-backref" href="#id22" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">docs.gh-pages</span></code></a><a class="headerlink" href="#make-docs-gh-pages" title="Link to this heading">¶</a></h5>
<p>To deploy on github.io first adjust your <a class="reference internal" href="#settings-brand"><span class="std std-ref">brand:</span></a>.  For any
further read <a class="reference internal" href="#deploy-on-github-io"><span class="std std-ref">deploy on github.io</span></a>.</p>
</section>
</section>
<section id="make-test">
<span id="id7"></span><h4><a class="toc-backref" href="#id23" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">test</span></code></a><a class="headerlink" href="#make-test" title="Link to this heading">¶</a></h4>
<p>Runs a series of tests: <a class="reference internal" href="#make-test-pylint"><span class="std std-ref">make test.pylint</span></a>, <code class="docutils literal notranslate"><span class="pre">test.pep8</span></code>, <code class="docutils literal notranslate"><span class="pre">test.unit</span></code>
and <code class="docutils literal notranslate"><span class="pre">test.robot</span></code>.  You can run tests selective, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ make test.pep8 test.unit test.shell
TEST      test.pep8 OK
...
TEST      test.unit OK
...
TEST      test.shell OK
</pre></div>
</div>
<section id="make-test-shell">
<span id="id8"></span><h5><a class="toc-backref" href="#id24" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">test.shell</span></code></a><a class="headerlink" href="#make-test-shell" title="Link to this heading">¶</a></h5>
<p><a class="reference internal" href="#sh-lint"><span class="std std-ref">Lint shell scripts</span></a> / if you have changed some bash scripting run this test before
commit.</p>
</section>
<section id="make-test-pylint">
<span id="id9"></span><h5><a class="toc-backref" href="#id25" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">test.pylint</span></code></a><a class="headerlink" href="#make-test-pylint" title="Link to this heading">¶</a></h5>
<p><a class="reference external" href="https://www.pylint.org/">Pylint</a> is known as one of the best source-code, bug and quality checker for the
Python programming language.  The pylint profile used in the SearXNG project is
found in project’s root folder <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/.pylintrc">git://.pylintrc</a>.</p>
</section>
</section>
<section id="make-search-checker-engine-name">
<span id="make-search-checker"></span><h4><a class="toc-backref" href="#id26" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">search.checker.{engine</span> <span class="pre">name}</span></code></a><a class="headerlink" href="#make-search-checker-engine-name" title="Link to this heading">¶</a></h4>
<p>To check all engines:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">search</span><span class="o">.</span><span class="n">checker</span>
</pre></div>
</div>
<p>To check a engine with whitespace in the name like <em>google news</em> replace space
by underline:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">search</span><span class="o">.</span><span class="n">checker</span><span class="o">.</span><span class="n">google_news</span>
</pre></div>
</div>
<p>To see HTTP requests and more use SEARXNG_DEBUG:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">SEARXNG_DEBUG</span><span class="o">=</span><span class="mi">1</span> <span class="n">search</span><span class="o">.</span><span class="n">checker</span><span class="o">.</span><span class="n">google_news</span>
</pre></div>
</div>
<p>To filter out HTTP redirects (<a class="reference external" href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes#3xx_redirection">3xx</a>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">SEARXNG_DEBUG</span><span class="o">=</span><span class="mi">1</span> <span class="n">search</span><span class="o">.</span><span class="n">checker</span><span class="o">.</span><span class="n">google_news</span> <span class="o">|</span> <span class="n">grep</span> <span class="o">-</span><span class="n">A1</span> <span class="s2">&quot;HTTP/1.1</span><span class="se">\&quot;</span><span class="s2"> 3[0-9][0-9]&quot;</span>
<span class="o">...</span>
<span class="n">Engine</span> <span class="n">google</span> <span class="n">news</span>                   <span class="n">Checking</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">news</span><span class="o">.</span><span class="n">google</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="mi">443</span> <span class="s2">&quot;GET /search?q=life&amp;hl=en&amp;lr=lang_en&amp;ie=utf8&amp;oe=utf8&amp;ceid=US%3Aen&amp;gl=US HTTP/1.1&quot;</span> <span class="mi">302</span> <span class="mi">0</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">news</span><span class="o">.</span><span class="n">google</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="mi">443</span> <span class="s2">&quot;GET /search?q=life&amp;hl=en-US&amp;lr=lang_en&amp;ie=utf8&amp;oe=utf8&amp;ceid=US:en&amp;gl=US HTTP/1.1&quot;</span> <span class="mi">200</span> <span class="kc">None</span>
<span class="o">--</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">news</span><span class="o">.</span><span class="n">google</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="mi">443</span> <span class="s2">&quot;GET /search?q=computer&amp;hl=en&amp;lr=lang_en&amp;ie=utf8&amp;oe=utf8&amp;ceid=US%3Aen&amp;gl=US HTTP/1.1&quot;</span> <span class="mi">302</span> <span class="mi">0</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">news</span><span class="o">.</span><span class="n">google</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="mi">443</span> <span class="s2">&quot;GET /search?q=computer&amp;hl=en-US&amp;lr=lang_en&amp;ie=utf8&amp;oe=utf8&amp;ceid=US:en&amp;gl=US HTTP/1.1&quot;</span> <span class="mi">200</span> <span class="kc">None</span>
<span class="o">--</span>
</pre></div>
</div>
</section>
<section id="make-themes">
<span id="id10"></span><h4><a class="toc-backref" href="#id27" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">themes.*</span></code></a><a class="headerlink" href="#make-themes" title="Link to this heading">¶</a></h4>
<aside class="sidebar">
<p class="sidebar-title">further read</p>
<ul class="simple">
<li><p><a class="reference internal" href="#devquickstart"><span class="std std-ref">Development Quickstart</span></a></p></li>
</ul>
</aside>
<p>The <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/Makefile">git://Makefile</a> targets <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">theme.*</span></code> cover common tasks to build the
theme(s).  The <code class="docutils literal notranslate"><span class="pre">./manage</span> <span class="pre">themes.*</span></code> command line can be used to convenient run
common theme build tasks.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>themes.:
  all       : test &amp; build all themes
  simple    : test &amp; build simple theme
  lint      : lint JS &amp; CSS (LESS) files
  fix       : fix JS &amp; CSS (LESS) files
  test      : test all themes
</pre></div>
</div>
<p>To get live builds while modifying CSS &amp; JS use (<a class="reference internal" href="#make-run"><span class="std std-ref">make run</span></a>):</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nv">LIVE_THEME</span><span class="o">=</span>simple<span class="w"> </span>make<span class="w"> </span>run
</pre></div>
</div>
</section>
<section id="make-static-build">
<span id="id11"></span><h4><a class="toc-backref" href="#id28" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">static.build.*</span></code></a><a class="headerlink" href="#make-static-build" title="Link to this heading">¶</a></h4>
<aside class="sidebar">
<p class="sidebar-title">further read</p>
<ul class="simple">
<li><p><a class="reference internal" href="#devquickstart"><span class="std std-ref">Development Quickstart</span></a></p></li>
</ul>
</aside>
<p>The <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/Makefile">git://Makefile</a> targets <code class="docutils literal notranslate"><span class="pre">static.build.*</span></code> cover common tasks to build (a
commit of) the static files.  The <code class="docutils literal notranslate"><span class="pre">./manage</span> <span class="pre">static.build..*</span></code> command line
can be used to convenient run common build tasks of the static files.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>static.build.:  [build] /static
  commit    : build &amp; commit /static folder
  drop      : drop last commit if it was previously done by static.build.commit
  restore   : git restore of the /static folder (after themes.all)
</pre></div>
</div>
</section>
<section id="manage-go-help">
<span id="id12"></span><h4><a class="toc-backref" href="#id29" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">./manage</span> <span class="pre">go.help</span></code></a><a class="headerlink" href="#manage-go-help" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">./manage</span> <span class="pre">go.*</span></code> command line can be used to convenient run common <a class="reference external" href="https://en.wikipedia.org/wiki/Go_(programming_language)">go
(wiki)</a> tasks.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>go:           GOROOT=/mnt/d/code/s/.govm/go1.24.5
  install   : compiles and installs packages
</pre></div>
</div>
</section>
</section>
<span id="document-dev/reST"></span><section id="rest-primer">
<span id="id1"></span><h3>reST primer<a class="headerlink" href="#rest-primer" title="Link to this heading">¶</a></h3>
<aside class="sidebar">
<p class="sidebar-title"><a class="reference external" href="https://en.wikipedia.org/wiki/KISS_principle">KISS</a> and <a class="reference external" href="https://docs.python-guide.org/writing/style/">readability</a></p>
<p>Instead of defining more and more roles, we at SearXNG encourage our
contributors to follow principles like <a class="reference external" href="https://en.wikipedia.org/wiki/KISS_principle">KISS</a> and <a class="reference external" href="https://docs.python-guide.org/writing/style/">readability</a>.</p>
</aside>
<p>We at SearXNG are using reStructuredText (aka <a class="reference external" href="https://docutils.sourceforge.io/rst.html">reST</a>) markup for all kind of
documentation.  With the builders from the <a class="reference external" href="https://www.sphinx-doc.org">Sphinx</a> project a HTML output is
generated and deployed at <a class="reference external" href="https://docs.searxng.org/">docs.searxng.org</a>.  For build prerequisites read
<a class="reference internal" href="#docs-build"><span class="std std-ref">Build docs</span></a>.</p>
<p>The source files of SearXNG’s documentation are located at <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/docs">git://docs</a>.
Sphinx assumes source files to be encoded in UTF-8 by default.  Run <a class="reference internal" href="#make-docs-live"><span class="std std-ref">make
docs.live</span></a> to build HTML while editing.</p>
<aside class="sidebar">
<p class="sidebar-title">Further reading</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/basics.html">Sphinx-Primer</a></p></li>
<li><p><a class="reference external" href="https://www.sphinx-doc.org/en/stable/markup/index.html">Sphinx markup constructs</a></p></li>
<li><p><a class="reference external" href="https://docutils.sourceforge.io/rst.html">reST</a>, <a class="reference external" href="http://docutils.sourceforge.net/docs/index.html">docutils</a>, <a class="reference external" href="http://docutils.sourceforge.net/FAQ.html">docutils FAQ</a></p></li>
<li><p><a class="reference external" href="https://www.sphinx-doc.org">Sphinx</a>, <a class="reference external" href="https://www.sphinx-doc.org/en/stable/faq.html">sphinx-doc FAQ</a></p></li>
<li><p><a class="reference external" href="https://www.sphinx-doc.org/en/stable/config.html">sphinx config</a>, <a class="reference external" href="https://www.sphinx-doc.org/en/master/extdev/tutorial.html?highlight=doctree#build-phases">doctree</a></p></li>
<li><p><a class="reference external" href="https://www.sphinx-doc.org/en/stable/markup/inline.html#cross-referencing-arbitrary-locations">sphinx cross references</a></p></li>
<li><p><a class="reference external" href="https://return42.github.io/linuxdoc">linuxdoc</a></p></li>
<li><p><a class="reference external" href="https://www.sphinx-doc.org/en/stable/ext/intersphinx.html">intersphinx</a></p></li>
<li><p><a class="reference external" href="https://github.com/tardyp/sphinx-jinja">sphinx-jinja</a></p></li>
<li><p><a class="reference external" href="https://www.sphinx-doc.org/en/stable/ext/autodoc.html">Sphinx’s autodoc</a></p></li>
<li><p><a class="reference external" href="https://www.sphinx-doc.org/en/stable/domains.html#the-python-domain">Sphinx’s Python domain</a>, <a class="reference external" href="https://www.sphinx-doc.org/en/stable/domains.html#cross-referencing-c-constructs">Sphinx’s C domain</a></p></li>
<li><p><a class="reference external" href="https://www.w3.org/TR/SVG11/expanded-toc.html">SVG</a>, <a class="reference external" href="https://www.imagemagick.org">ImageMagick</a></p></li>
<li><p><a class="reference external" href="https://graphviz.gitlab.io/_pages/doc/info/lang.html">DOT</a>, <a class="reference external" href="https://graphviz.gitlab.io/_pages/pdf/dotguide.pdf">Graphviz’s dot</a>, <a class="reference external" href="https://graphviz.gitlab.io">Graphviz</a></p></li>
</ul>
</aside>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#soft-skills" id="id15">Soft skills</a></p></li>
<li><p><a class="reference internal" href="#basic-inline-markup" id="id16">Basic inline markup</a></p></li>
<li><p><a class="reference internal" href="#basic-article-structure" id="id17">Basic article structure</a></p>
<ul>
<li><p><a class="reference internal" href="#rest-template" id="id18">reST template</a></p></li>
<li><p><a class="reference internal" href="#headings" id="id19">Headings</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#anchors-links" id="id20">Anchors &amp; Links</a></p>
<ul>
<li><p><a class="reference internal" href="#anchors" id="id21">Anchors</a></p></li>
<li><p><a class="reference internal" href="#link-ordinary-url" id="id22">Link ordinary URL</a></p></li>
<li><p><a class="reference internal" href="#smart-refs" id="id23">Smart refs</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#literal-blocks" id="id24">Literal blocks</a></p>
<ul>
<li><p><a class="reference internal" href="#rest-literal" id="id25"><code class="docutils literal notranslate"><span class="pre">::</span></code></a></p></li>
<li><p><a class="reference internal" href="#code-block" id="id26"><code class="docutils literal notranslate"><span class="pre">code-block</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#unicode-substitution" id="id27">Unicode substitution</a></p></li>
<li><p><a class="reference internal" href="#roles" id="id28">Roles</a></p></li>
<li><p><a class="reference internal" href="#figures-images" id="id29">Figures &amp; Images</a></p>
<ul>
<li><p><a class="reference internal" href="#dot-files-aka-graphviz" id="id30">DOT files (aka Graphviz)</a></p></li>
<li><p><a class="reference internal" href="#kernel-render-dot" id="id31"><code class="docutils literal notranslate"><span class="pre">kernel-render</span></code> DOT</a></p></li>
<li><p><a class="reference internal" href="#kernel-render-svg" id="id32"><code class="docutils literal notranslate"><span class="pre">kernel-render</span></code> SVG</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#list-markups" id="id33">List markups</a></p>
<ul>
<li><p><a class="reference internal" href="#bullet-list" id="id34">Bullet list</a></p></li>
<li><p><a class="reference internal" href="#horizontal-list" id="id35">Horizontal list</a></p></li>
<li><p><a class="reference internal" href="#definition-list" id="id36">Definition list</a></p></li>
<li><p><a class="reference internal" href="#quoted-paragraphs" id="id37">Quoted paragraphs</a></p></li>
<li><p><a class="reference internal" href="#field-lists" id="id38">Field Lists</a></p></li>
<li><p><a class="reference internal" href="#further-list-blocks" id="id39">Further list blocks</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#admonitions" id="id40">Admonitions</a></p>
<ul>
<li><p><a class="reference internal" href="#sidebar" id="id41">Sidebar</a></p></li>
<li><p><a class="reference internal" href="#generic-admonition" id="id42">Generic admonition</a></p></li>
<li><p><a class="reference internal" href="#specific-admonitions" id="id43">Specific admonitions</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tables" id="id44">Tables</a></p>
<ul>
<li><p><a class="reference internal" href="#simple-tables" id="id45">Simple tables</a></p></li>
<li><p><a class="reference internal" href="#grid-tables" id="id46">Grid tables</a></p></li>
<li><p><a class="reference internal" href="#flat-table" id="id47">flat-table</a></p></li>
<li><p><a class="reference internal" href="#csv-table" id="id48">CSV table</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#templating" id="id49">Templating</a></p></li>
<li><p><a class="reference internal" href="#tabbed-views" id="id50">Tabbed views</a></p></li>
<li><p><a class="reference internal" href="#math-equations" id="id51">Math equations</a></p></li>
</ul>
</nav>
<p><a class="reference external" href="https://www.sphinx-doc.org">Sphinx</a> and <a class="reference external" href="https://docutils.sourceforge.io/rst.html">reST</a> have their place in the python ecosystem.  Over that reST is
used in popular projects, e.g the Linux kernel documentation <a class="reference external" href="https://www.kernel.org/doc/html/latest/doc-guide/sphinx.html">[kernel doc]</a>.</p>
<aside class="sidebar">
<p class="sidebar-title">Content matters</p>
<p>The <a class="reference external" href="https://docs.python-guide.org/writing/style/">readability</a> of the reST sources has its value, therefore we recommend to
make sparse usage of reST markup / .. content matters!</p>
</aside>
<p><strong>reST</strong> is a plaintext markup language, its markup is <em>mostly</em> intuitive and
you will not need to learn much to produce well formed articles with.  I use the
word <em>mostly</em>: like everything in live, reST has its advantages and
disadvantages, some markups feel a bit grumpy (especially if you are used to
other plaintext markups).</p>
<section id="soft-skills">
<h4><a class="toc-backref" href="#id15" role="doc-backlink">Soft skills</a><a class="headerlink" href="#soft-skills" title="Link to this heading">¶</a></h4>
<p>Before going any deeper into the markup let’s face on some <strong>soft skills</strong> a
trained author brings with, to reach a well feedback from readers:</p>
<ul class="simple">
<li><p>Documentation is dedicated to an audience and answers questions from the
audience point of view.</p></li>
<li><p>Don’t detail things which are general knowledge from the audience point of
view.</p></li>
<li><p>Limit the subject, use cross links for any further reading.</p></li>
</ul>
<p>To be more concrete what a <em>point of view</em> means.  In the (<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/docs">git://docs</a>)
folder we have three sections (and the <em>blog</em> folder), each dedicate to a
different group of audience.</p>
<dl class="simple">
<dt>User’s POV: <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/docs/user">git://docs/user</a></dt><dd><p>A typical user knows about search engines and might have heard about
meta crawlers and privacy.</p>
</dd>
<dt>Admin’s POV: <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/docs/admin">git://docs/admin</a></dt><dd><p>A typical Admin knows about setting up services on a linux system, but he does
not know all the pros and cons of a SearXNG setup.</p>
</dd>
<dt>Developer’s POV: <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/docs/dev">git://docs/dev</a></dt><dd><p>Depending on the <a class="reference external" href="https://docs.python-guide.org/writing/style/">readability</a> of code, a typical developer is able to read and
understand source code.  Describe what a item aims to do (e.g. a function).
If the chronological order matters, describe it.  Name the <em>out-of-limits
conditions</em> and all the side effects a external developer will not know.</p>
</dd>
</dl>
</section>
<section id="basic-inline-markup">
<span id="rest-inline-markup"></span><h4><a class="toc-backref" href="#id16" role="doc-backlink">Basic inline markup</a><a class="headerlink" href="#basic-inline-markup" title="Link to this heading">¶</a></h4>
<aside class="sidebar">
<p class="sidebar-title">Inline markup</p>
<ul class="simple">
<li><p><a class="reference internal" href="#rest-roles"><span class="std std-ref">Roles</span></a></p></li>
<li><p><a class="reference internal" href="#rest-smart-ref"><span class="std std-ref">Smart refs</span></a></p></li>
</ul>
</aside>
<p>Basic inline markup is done with asterisks and backquotes.  If asterisks or
backquotes appear in running text and could be confused with inline markup
delimiters, they have to be escaped with a backslash (<code class="docutils literal notranslate"><span class="pre">\*pointer</span></code>).</p>
<table class="docutils align-default" id="id4">
<caption><span class="caption-number">Table 9 </span><span class="caption-text">basic inline markup</span><a class="headerlink" href="#id4" title="Link to this table">¶</a></caption>
<colgroup>
<col style="width: 28.6%" />
<col style="width: 21.4%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>description</p></th>
<th class="head"><p>rendered</p></th>
<th class="head"><p>markup</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>one asterisk for emphasis</p></td>
<td><p><em>italics</em></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">*italics*</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>two asterisks for strong emphasis</p></td>
<td><p><strong>boldface</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">**boldface**</span></code></p></td>
</tr>
<tr class="row-even"><td><p>backquotes for code samples and literals</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">foo()</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">``foo()``</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>quote asterisks or backquotes</p></td>
<td><p>*foo is a pointer</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">\*foo</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">pointer</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="basic-article-structure">
<span id="rest-basic-structure"></span><h4><a class="toc-backref" href="#id17" role="doc-backlink">Basic article structure</a><a class="headerlink" href="#basic-article-structure" title="Link to this heading">¶</a></h4>
<p>The basic structure of an article makes use of heading adornments to markup
chapter, sections and subsections.</p>
<section id="rest-template">
<span id="id2"></span><h5><a class="toc-backref" href="#id18" role="doc-backlink">reST template</a><a class="headerlink" href="#rest-template" title="Link to this heading">¶</a></h5>
<p>reST template for an simple article:</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="nt">_doc refname:</span>

<span class="gh">==============</span>
<span class="gh">Document title</span>
<span class="gh">==============</span>

Lorem ipsum dolor sit amet, consectetur adipisici elit ..  Further read
<span class="na">:ref:</span><span class="nv">`chapter refname`</span>.

<span class="p">..</span> <span class="nt">_chapter refname:</span>

<span class="gh">Chapter</span>
<span class="gh">=======</span>

Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut
aliquid ex ea commodi consequat ...

<span class="p">..</span> <span class="nt">_section refname:</span>

<span class="gh">Section</span>
<span class="gh">-------</span>

lorem ..

<span class="p">..</span> <span class="nt">_subsection refname:</span>

<span class="gh">Subsection</span>
<span class="gh">~~~~~~~~~~</span>

lorem ..
</pre></div>
</div>
</section>
<section id="headings">
<h5><a class="toc-backref" href="#id19" role="doc-backlink">Headings</a><a class="headerlink" href="#headings" title="Link to this heading">¶</a></h5>
<ol class="arabic simple">
<li><p>title - with overline for document title:</p></li>
</ol>
<blockquote>
<div><div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="gh">==============</span>
<span class="gh">Document title</span>
<span class="gh">==============</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic">
<li><p>chapter - with anchor named <code class="docutils literal notranslate"><span class="pre">anchor</span> <span class="pre">name</span></code>:</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="nt">_anchor name:</span>

<span class="gh">Chapter</span>
<span class="gh">=======</span>
</pre></div>
</div>
</li>
<li><p>section</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="gh">Section</span>
<span class="gh">-------</span>
</pre></div>
</div>
</li>
<li><p>subsection</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="gh">Subsection</span>
<span class="gh">~~~~~~~~~~</span>
</pre></div>
</div>
</li>
</ol>
</section>
</section>
<section id="anchors-links">
<h4><a class="toc-backref" href="#id20" role="doc-backlink">Anchors &amp; Links</a><a class="headerlink" href="#anchors-links" title="Link to this heading">¶</a></h4>
<section id="anchors">
<span id="rest-anchor"></span><h5><a class="toc-backref" href="#id21" role="doc-backlink">Anchors</a><a class="headerlink" href="#anchors" title="Link to this heading">¶</a></h5>
<p>To refer a point in the documentation a anchor is needed.  The <a class="reference internal" href="#rest-template"><span class="std std-ref">reST
template</span></a> shows an example where a chapter titled <em>“Chapters”</em>
gets an anchor named <code class="docutils literal notranslate"><span class="pre">chapter</span> <span class="pre">title</span></code>.  Another example from <em>this</em> document,
where the anchor named <code class="docutils literal notranslate"><span class="pre">reST</span> <span class="pre">anchor</span></code>:</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="nt">_reST anchor:</span>

<span class="gh">Anchors</span>
<span class="gh">-------</span>

To refer a point in the documentation a anchor is needed ...
</pre></div>
</div>
<p>To refer anchors use the <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/roles.html#role-ref">ref role</a> markup:</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span>Visit chapter <span class="na">:ref:</span><span class="nv">`reST anchor`</span>.  Or set hyperlink text manually :ref:`foo
bar &lt;reST anchor&gt;`.
</pre></div>
</div>
<div class="rst-example admonition">
<p class="admonition-title"><code class="docutils literal notranslate"><span class="pre">:ref:</span></code> role</p>
<p>Visit chapter <a class="reference internal" href="#rest-anchor"><span class="std std-ref">Anchors</span></a>.  Or set hyperlink text manually <a class="reference internal" href="#rest-anchor"><span class="std std-ref">foo
bar</span></a>.</p>
</div>
</section>
<section id="link-ordinary-url">
<span id="rest-ordinary-ref"></span><h5><a class="toc-backref" href="#id22" role="doc-backlink">Link ordinary URL</a><a class="headerlink" href="#link-ordinary-url" title="Link to this heading">¶</a></h5>
<p>If you need to reference external URLs use <em>named</em> hyperlinks to maintain
readability of reST sources.  Here is a example taken from <em>this</em> article:</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="nt">_Sphinx Field Lists:</span>
   https://www.sphinx-doc.org/en/master/usage/restructuredtext/field-lists.html

With the <span class="ge">*named*</span> hyperlink <span class="s">`Sphinx Field Lists`_</span>, the raw text is much more
readable.

And this shows the alternative (less readable) hyperlink markup `Sphinx Field
Lists
<span class="nt">&lt;https://www.sphinx-doc.org/en/master/usage/restructuredtext/field-lists.html&gt;</span>`__.
</pre></div>
</div>
<div class="rst-example admonition">
<p class="admonition-title">Named hyperlink</p>
<p>With the <em>named</em> hyperlink <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/field-lists.html">Sphinx Field Lists</a>, the raw text is much more
readable.</p>
<p>And this shows the alternative (less readable) hyperlink markup <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/field-lists.html">Sphinx Field
Lists</a>.</p>
</div>
</section>
<section id="smart-refs">
<span id="rest-smart-ref"></span><h5><a class="toc-backref" href="#id23" role="doc-backlink">Smart refs</a><a class="headerlink" href="#smart-refs" title="Link to this heading">¶</a></h5>
<p>With the power of <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/extensions/extlinks.html">sphinx.ext.extlinks</a> and <a class="reference external" href="https://www.sphinx-doc.org/en/stable/ext/intersphinx.html">intersphinx</a> referencing external
content becomes smart.</p>
<table class="docutils align-default" id="id5">
<caption><span class="caption-number">Table 10 </span><span class="caption-text">smart refs with <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/extensions/extlinks.html">sphinx.ext.extlinks</a> and <a class="reference external" href="https://www.sphinx-doc.org/en/stable/ext/intersphinx.html">intersphinx</a></span><a class="headerlink" href="#id5" title="Link to this table">¶</a></caption>
<colgroup>
<col style="width: 28.6%" />
<col style="width: 21.4%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>refer …</p></th>
<th class="head"><p>rendered example</p></th>
<th class="head"><p>markup</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/roles.html#role-rfc" title="(in Sphinx v8.3.0)"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">rfc</span></code></a></p></td>
<td><p><span class="target" id="index-0"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc822.html"><strong>RFC 822</strong></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:rfc:`822`</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/roles.html#role-pep" title="(in Sphinx v8.3.0)"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">pep</span></code></a></p></td>
<td><p><span class="target" id="index-1"></span><a class="pep reference external" href="https://peps.python.org/pep-0008/"><strong>PEP 8</strong></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:pep:`8`</span></code></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p><a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/extensions/extlinks.html">sphinx.ext.extlinks</a></p></td>
</tr>
<tr class="row-odd"><td><p>project’s wiki article</p></td>
<td><p><a class="extlink-wiki reference external" href="https://github.com/searxng/searxng/wiki/Offline-engines"> Offline-engines</a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:wiki:`Offline-engines`</span></code></p></td>
</tr>
<tr class="row-even"><td><p>to docs public URL</p></td>
<td><p><a class="extlink-docs reference external" href="https://docs.searxng.org//dev/reST.html">docs: dev/reST.html</a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:docs:`dev/reST.html`</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>files &amp; folders origin</p></td>
<td><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/docs/dev/reST.rst">git://docs/dev/reST.rst</a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:origin:`docs/dev/reST.rst`</span></code></p></td>
</tr>
<tr class="row-even"><td><p>pull request</p></td>
<td><p><a class="extlink-pull reference external" href="https://github.com/searxng/searxng/pull/4">PR 4</a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:pull:`4`</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>patch</p></td>
<td><p><a class="extlink-patch reference external" href="https://github.com/burhanuddin-1/s/commit/af2cae6">#af2cae6</a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:patch:`af2cae6`</span></code></p></td>
</tr>
<tr class="row-even"><td><p>PyPi package</p></td>
<td><p><a class="extlink-pypi reference external" href="https://pypi.org/project/httpx">PyPi: httpx</a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:pypi:`httpx`</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>manual page man</p></td>
<td><p><a class="extlink-man reference external" href="https://manpages.debian.org/jump?q=bash">bash</a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:man:`bash`</span></code></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p><a class="reference external" href="https://www.sphinx-doc.org/en/stable/ext/intersphinx.html">intersphinx</a></p></td>
</tr>
<tr class="row-odd"><td><p>external anchor</p></td>
<td><p><a class="reference external" href="https://docs.python.org/3/reference/expressions.html#and" title="(in Python v3.13)"><span>Boolean operations</span></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:ref:`python:and`</span></code></p></td>
</tr>
<tr class="row-even"><td><p>external doc anchor</p></td>
<td><p><a class="reference external" href="https://jinja.palletsprojects.com/en/stable/templates/" title="(in Jinja v3.1.x)"><span>Template Designer Documentation</span></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:doc:`jinja:templates`</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>python code object</p></td>
<td><p><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:py:obj:`datetime.datetime`</span></code></p></td>
</tr>
<tr class="row-even"><td><p>flask code object</p></td>
<td><p><a class="reference external" href="https://flask.palletsprojects.com/en/stable/api/#flask.Flask" title="(in Flask v3.1.x)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flask.Flask</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:py:obj:`flask.Flask`</span></code></p></td>
</tr>
</tbody>
</table>
<p>Intersphinx is configured in <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/docs/conf.py">git://docs/conf.py</a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">intersphinx_mapping</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;python&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;https://docs.python.org/3/&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
    <span class="s2">&quot;flask&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;https://flask.palletsprojects.com/&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
    <span class="s2">&quot;jinja&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;https://jinja.palletsprojects.com/&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
    <span class="s2">&quot;linuxdoc&quot;</span> <span class="p">:</span> <span class="p">(</span><span class="s2">&quot;https://return42.github.io/linuxdoc/&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
    <span class="s2">&quot;sphinx&quot;</span> <span class="p">:</span> <span class="p">(</span><span class="s2">&quot;https://www.sphinx-doc.org/en/master/&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
<span class="p">}</span>
</pre></div>
</div>
<p>To list all anchors of the inventory (e.g. <code class="docutils literal notranslate"><span class="pre">python</span></code>) use:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>sphinx.ext.intersphinx<span class="w"> </span>https://docs.python.org/3/objects.inv
...
$<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>sphinx.ext.intersphinx<span class="w"> </span>https://docs.searxng.org/objects.inv
...
</pre></div>
</div>
</section>
</section>
<section id="literal-blocks">
<h4><a class="toc-backref" href="#id24" role="doc-backlink">Literal blocks</a><a class="headerlink" href="#literal-blocks" title="Link to this heading">¶</a></h4>
<p>The simplest form of <a class="extlink-duref reference external" href="https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html#literal-blocks">literal-blocks</a> is a indented block introduced by
two colons (<code class="docutils literal notranslate"><span class="pre">::</span></code>).  For highlighting use <a class="extlink-dudir reference external" href="https://docutils.sourceforge.io/docs/ref/rst/directives.html#highlight">highlight</a> or <a class="reference internal" href="#rest-code"><span class="std std-ref">code-block</span></a> directive.  To include literals from external files use
<a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html#directive-literalinclude" title="(in Sphinx v8.3.0)"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">literalinclude</span></code></a> or <a class="reference external" href="https://return42.github.io/linuxdoc/linuxdoc-howto/kernel-include-directive.html#kernel-include-directive" title="(in LinuxDoc v20240924.dev1)"><span class="xref std std-ref">kernel-include</span></a>
directive (latter one expands environment variables in the path name).</p>
<section id="rest-literal">
<span id="id3"></span><h5><a class="toc-backref" href="#id25" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">::</span></code></a><a class="headerlink" href="#rest-literal" title="Link to this heading">¶</a></h5>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="se">::</span>

<span class="s">  Literal block</span>

Lorem ipsum dolor<span class="se">::</span>

<span class="s">  Literal block</span>

Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy
eirmod tempor invidunt ut labore ::

  Literal block
</pre></div>
</div>
<div class="rst-example admonition">
<p class="admonition-title">Literal block</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Literal</span> <span class="n">block</span>
</pre></div>
</div>
<p>Lorem ipsum dolor:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Literal</span> <span class="n">block</span>
</pre></div>
</div>
<p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy
eirmod tempor invidunt ut labore</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Literal</span> <span class="n">block</span>
</pre></div>
</div>
</div>
</section>
<section id="code-block">
<span id="rest-code"></span><h5><a class="toc-backref" href="#id26" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">code-block</span></code></a><a class="headerlink" href="#code-block" title="Link to this heading">¶</a></h5>
<aside class="sidebar">
<p class="sidebar-title">Syntax highlighting</p>
<p>is handled by <a class="reference external" href="https://pygments.org/languages/">pygments</a>.</p>
</aside>
<p>The <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html#directive-code-block" title="(in Sphinx v8.3.0)"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">code-block</span></code></a> directive is a variant of the <a class="extlink-dudir reference external" href="https://docutils.sourceforge.io/docs/ref/rst/directives.html#code">code</a> directive
with additional options.  To learn more about code literals visit
<a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html#code-examples" title="(in Sphinx v8.3.0)"><span>Showing code examples</span></a>.</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span>The URL <span class="s">``/stats``</span> handle is shown in <span class="na">:ref:</span><span class="nv">`stats-handle`</span>

<span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> Python
   <span class="nc">:caption:</span> python code block
   <span class="nc">:name:</span> stats-handle

   @app.route(&#39;/stats&#39;, methods=[&#39;GET&#39;])
   def stats():
       &quot;&quot;&quot;Render engine statistics page.&quot;&quot;&quot;
       stats = get_engines_stats()
       return render(
           &#39;stats.html&#39;
           , stats = stats )
</pre></div>
</div>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="rst-example admonition">
<p class="admonition-title">Code block</p>
<p>The URL <code class="docutils literal notranslate"><span class="pre">/stats</span></code> handle is shown in <a class="reference internal" href="#stats-handle"><span class="std std-ref">python code block</span></a></p>
<div class="literal-block-wrapper docutils container" id="stats-handle">
<div class="code-block-caption"><span class="caption-number">Listing 1 </span><span class="caption-text">python code block</span><a class="headerlink" href="#stats-handle" title="Link to this code">¶</a></div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/stats&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">stats</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Render engine statistics page.&quot;&quot;&quot;</span>
    <span class="n">stats</span> <span class="o">=</span> <span class="n">get_engines_stats</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span>
        <span class="s1">&#39;stats.html&#39;</span>
        <span class="p">,</span> <span class="n">stats</span> <span class="o">=</span> <span class="n">stats</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="unicode-substitution">
<h4><a class="toc-backref" href="#id27" role="doc-backlink">Unicode substitution</a><a class="headerlink" href="#unicode-substitution" title="Link to this heading">¶</a></h4>
<p>The <a class="extlink-dudir reference external" href="https://docutils.sourceforge.io/docs/ref/rst/directives.html#unicode-character-codes">unicode directive</a> converts Unicode
character codes (numerical values) to characters.  This directive can only be
used within a substitution definition.</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="nt">|copy|</span> <span class="ow">unicode</span><span class="p">::</span> 0xA9 .. copyright sign
<span class="p">..</span> <span class="nt">|(TM)|</span> <span class="ow">unicode</span><span class="p">::</span> U+2122

Trademark |(TM)| and copyright |copy| glyphs.
</pre></div>
</div>
<div class="rst-example admonition">
<p class="admonition-title">Unicode</p>
<p>Trademark ™ and copyright © glyphs.</p>
</div>
</section>
<section id="roles">
<span id="rest-roles"></span><h4><a class="toc-backref" href="#id28" role="doc-backlink">Roles</a><a class="headerlink" href="#roles" title="Link to this heading">¶</a></h4>
<aside class="sidebar">
<p class="sidebar-title">Further reading</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/roles.html">Sphinx Roles</a></p></li>
<li><p><a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/domains.html" title="(in Sphinx v8.3.0)"><span>MOVED: Domains</span></a></p></li>
</ul>
</aside>
<p>A <em>custom interpreted text role</em> (<a class="extlink-duref reference external" href="https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html#roles">ref</a>) is an inline piece of
explicit markup.  It signifies that that the enclosed text should be interpreted
in a specific way.</p>
<p>The general markup is one of:</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="na">:rolename:</span><span class="nv">`ref-name`</span>
<span class="na">:rolename:</span><span class="nv">`ref text &lt;ref-name&gt;`</span>
</pre></div>
</div>
<table class="docutils align-default" id="id6">
<caption><span class="caption-number">Table 11 </span><span class="caption-text">smart refs with <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/extensions/extlinks.html">sphinx.ext.extlinks</a> and <a class="reference external" href="https://www.sphinx-doc.org/en/stable/ext/intersphinx.html">intersphinx</a></span><a class="headerlink" href="#id6" title="Link to this table">¶</a></caption>
<colgroup>
<col style="width: 28.6%" />
<col style="width: 21.4%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>role</p></th>
<th class="head"><p>rendered example</p></th>
<th class="head"><p>markup</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/roles.html#role-guilabel" title="(in Sphinx v8.3.0)"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">guilabel</span></code></a></p></td>
<td><p><span class="guilabel"><span class="accelerator">C</span>ancel</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:guilabel:`&amp;Cancel`</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/roles.html#role-kbd" title="(in Sphinx v8.3.0)"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">kbd</span></code></a></p></td>
<td><p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">C</kbd>-<kbd class="kbd docutils literal notranslate">x</kbd> <kbd class="kbd docutils literal notranslate">C</kbd>-<kbd class="kbd docutils literal notranslate">f</kbd></kbd></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:kbd:`C-x</span> <span class="pre">C-f`</span></code></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/roles.html#role-menuselection" title="(in Sphinx v8.3.0)"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">menuselection</span></code></a></p></td>
<td><p><span class="menuselection">Open ‣ File</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:menuselection:`Open</span> <span class="pre">--&gt;</span> <span class="pre">File`</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/referencing.html#role-download" title="(in Sphinx v8.3.0)"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">download</span></code></a></p></td>
<td><p><a class="reference download internal" download="" href="_downloads/ad0ebe55d6b53b1559e0ca8dee6f30b9/reST.rst"><code class="xref download docutils literal notranslate"><span class="pre">this</span> <span class="pre">file</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:download:`this</span> <span class="pre">file</span> <span class="pre">&lt;reST.rst&gt;`</span></code></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#math">math</a></p></td>
<td><p><span class="math">a^2 + b^2 = c^2</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:math:`a^2</span> <span class="pre">+</span> <span class="pre">b^2</span> <span class="pre">=</span> <span class="pre">c^2`</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/referencing.html#role-ref" title="(in Sphinx v8.3.0)"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">ref</span></code></a></p></td>
<td><p><a class="reference internal" href="#svg-image-example"><span class="std std-ref">Simple SVG image.</span></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:ref:`svg</span> <span class="pre">image</span> <span class="pre">example`</span></code></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/roles.html#role-command" title="(in Sphinx v8.3.0)"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">command</span></code></a></p></td>
<td><p><strong class="command">ls -la</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:command:`ls</span> <span class="pre">-la`</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="extlink-durole reference external" href="https://docutils.sourceforge.io/docs/ref/rst/roles.html#emphasis">emphasis</a></p></td>
<td><p><em>italic</em></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:emphasis:`italic`</span></code></p></td>
</tr>
<tr class="row-even"><td><p><a class="extlink-durole reference external" href="https://docutils.sourceforge.io/docs/ref/rst/roles.html#strong">strong</a></p></td>
<td><p><strong>bold</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:strong:`bold`</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="extlink-durole reference external" href="https://docutils.sourceforge.io/docs/ref/rst/roles.html#literal">literal</a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">foo()</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:literal:`foo()`</span></code></p></td>
</tr>
<tr class="row-even"><td><p><a class="extlink-durole reference external" href="https://docutils.sourceforge.io/docs/ref/rst/roles.html#subscript">subscript</a></p></td>
<td><p>H<sub>2</sub>O</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">H\</span> <span class="pre">:sub:`2`\</span> <span class="pre">O</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="extlink-durole reference external" href="https://docutils.sourceforge.io/docs/ref/rst/roles.html#superscript">superscript</a></p></td>
<td><p>E = mc<sup>2</sup></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">E</span> <span class="pre">=</span> <span class="pre">mc\</span> <span class="pre">:sup:`2`</span></code></p></td>
</tr>
<tr class="row-even"><td><p><a class="extlink-durole reference external" href="https://docutils.sourceforge.io/docs/ref/rst/roles.html#title-reference">title-reference</a></p></td>
<td><p><cite>Time</cite></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">:title:`Time`</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="figures-images">
<h4><a class="toc-backref" href="#id29" role="doc-backlink">Figures &amp; Images</a><a class="headerlink" href="#figures-images" title="Link to this heading">¶</a></h4>
<aside class="sidebar">
<p class="sidebar-title">Image processing</p>
<p>With the directives from <a class="reference external" href="https://return42.github.io/linuxdoc/linuxdoc-howto/kfigure.html#kfigure" title="(in LinuxDoc v20240924.dev1)"><span class="xref std std-ref">linuxdoc</span></a> the build process
is flexible.  To get best results in the generated output format, install
<a class="reference external" href="https://www.imagemagick.org">ImageMagick</a> and <a class="reference external" href="https://graphviz.gitlab.io">Graphviz</a>.</p>
</aside>
<p>SearXNG’s sphinx setup includes: <a class="reference external" href="https://return42.github.io/linuxdoc/linuxdoc-howto/kfigure.html#kfigure" title="(in LinuxDoc v20240924.dev1)"><span>Scalable figure and image handling</span></a>.  Scalable here means;
scalable in sense of the build process.  Normally in absence of a converter
tool, the build process will break.  From the authors POV it’s annoying to care
about the build process when handling with images, especially since he has no
access to the build process.  With <a class="reference external" href="https://return42.github.io/linuxdoc/linuxdoc-howto/kfigure.html#kfigure" title="(in LinuxDoc v20240924.dev1)"><span>Scalable figure and image handling</span></a> the build process
continues and scales output quality in dependence of installed image processors.</p>
<p>If you want to add an image, you should use the <code class="docutils literal notranslate"><span class="pre">kernel-figure</span></code> (inheritance
of <a class="extlink-dudir reference external" href="https://docutils.sourceforge.io/docs/ref/rst/directives.html#figure">figure</a>) and <code class="docutils literal notranslate"><span class="pre">kernel-image</span></code> (inheritance of <a class="extlink-dudir reference external" href="https://docutils.sourceforge.io/docs/ref/rst/directives.html#image">image</a>)
directives.  E.g. to insert a figure with a scalable image format use SVG
(<a class="reference internal" href="#svg-image-example"><span class="std std-ref">Simple SVG image.</span></a>):</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="nt">_svg image example:</span>

<span class="p">..</span> <span class="ow">kernel-figure</span><span class="p">::</span> svg_image.svg
   <span class="nc">:alt:</span> SVG image example

   Simple SVG image

 To refer the figure, a caption block is needed: <span class="na">:ref:</span><span class="nv">`svg image example`</span>.
</pre></div>
</div>
<figure class="align-default" id="id7">
<img alt="SVG image example" src="_images/svg_image.svg" />
<figcaption>
<p><span class="caption-number">Fig. 4 </span><span class="caption-text">Simple SVG image.</span><a class="headerlink" href="#id7" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>To refer the figure, a caption block is needed: <a class="reference internal" href="#svg-image-example"><span class="std std-ref">Simple SVG image.</span></a>.</p>
<section id="dot-files-aka-graphviz">
<h5><a class="toc-backref" href="#id30" role="doc-backlink">DOT files (aka Graphviz)</a><a class="headerlink" href="#dot-files-aka-graphviz" title="Link to this heading">¶</a></h5>
<p>With <a class="reference external" href="https://return42.github.io/linuxdoc/linuxdoc-howto/kfigure.html#kernel-figure" title="(in LinuxDoc v20240924.dev1)"><span>kernel-figure &amp; kernel-image</span></a> reST support for <strong>DOT</strong> formatted files is
given.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://graphviz.gitlab.io/_pages/pdf/dotguide.pdf">Graphviz’s dot</a></p></li>
<li><p><a class="reference external" href="https://graphviz.gitlab.io/_pages/doc/info/lang.html">DOT</a></p></li>
<li><p><a class="reference external" href="https://graphviz.gitlab.io">Graphviz</a></p></li>
</ul>
<p>A simple example is shown in <a class="reference internal" href="#dot-file-example"><span class="std std-ref">DOT’s hello world example</span></a>:</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="nt">_dot file example:</span>

<span class="p">..</span> <span class="ow">kernel-figure</span><span class="p">::</span> hello.dot
   <span class="nc">:alt:</span> hello world

   DOT&#39;s hello world example
</pre></div>
</div>
<div class="rst-example admonition">
<p class="admonition-title">hello.dot</p>
<figure class="align-default" id="id8">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">graph</span> <span class="n">G</span> <span class="p">{</span>
      <span class="n">Hello</span> <span class="o">--</span> <span class="n">World</span>
<span class="p">}</span>
</pre></div>
</div>
<figcaption>
<p><span class="caption-number">Fig. 5 </span><span class="caption-text">DOT’s hello world example</span><a class="headerlink" href="#id8" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</div>
</section>
<section id="kernel-render-dot">
<h5><a class="toc-backref" href="#id31" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">kernel-render</span></code> DOT</a><a class="headerlink" href="#kernel-render-dot" title="Link to this heading">¶</a></h5>
<p>Embed <em>render</em> markups (or languages) like Graphviz’s <strong>DOT</strong> is provided by the
<a class="reference external" href="https://return42.github.io/linuxdoc/linuxdoc-howto/kfigure.html#kernel-render" title="(in LinuxDoc v20240924.dev1)"><span>kernel-render</span></a> directive.  A simple example of embedded <a class="reference external" href="https://graphviz.gitlab.io/_pages/doc/info/lang.html">DOT</a> is
shown in figure <a class="reference internal" href="#dot-render-example"><span class="std std-ref">Embedded  DOT (Graphviz) code</span></a>:</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="nt">_dot render example:</span>

<span class="p">..</span> <span class="ow">kernel-render</span><span class="p">::</span> DOT
   <span class="nc">:alt:</span> digraph
   <span class="nc">:caption:</span> Embedded  DOT (Graphviz) code

   digraph foo {
     &quot;bar&quot; -&gt; &quot;baz&quot;;
   }

Attribute <span class="s">``caption``</span> is needed, if you want to refer the figure: :ref:`dot
render example`.
</pre></div>
</div>
<p>Please note <a class="reference external" href="https://return42.github.io/linuxdoc/linuxdoc-howto/kfigure.html#kfigure-build-tools" title="(in LinuxDoc v20240924.dev1)"><span class="xref std std-ref">build tools</span></a>.  If <a class="reference external" href="https://graphviz.gitlab.io">Graphviz</a> is
installed, you will see an vector image.  If not, the raw markup is inserted as
<em>literal-block</em>.</p>
<div class="rst-example admonition">
<p class="admonition-title">kernel-render DOT</p>
<figure class="align-default" id="id9">
<span id="dot-render-example"></span><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">digraph</span> <span class="n">foo</span> <span class="p">{</span>
  <span class="s2">&quot;bar&quot;</span> <span class="o">-&gt;</span> <span class="s2">&quot;baz&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<figcaption>
<p><span class="caption-number">Fig. 6 </span><span class="caption-text">Embedded  DOT (Graphviz) code</span><a class="headerlink" href="#id9" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Attribute <code class="docutils literal notranslate"><span class="pre">caption</span></code> is needed, if you want to refer the figure: <a class="reference internal" href="#dot-render-example"><span class="std std-ref">Embedded  DOT (Graphviz) code</span></a>.</p>
</div>
</section>
<section id="kernel-render-svg">
<h5><a class="toc-backref" href="#id32" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">kernel-render</span></code> SVG</a><a class="headerlink" href="#kernel-render-svg" title="Link to this heading">¶</a></h5>
<p>A simple example of embedded <a class="reference external" href="https://www.w3.org/TR/SVG11/expanded-toc.html">SVG</a> is shown in figure <a class="reference internal" href="#svg-render-example"><span class="std std-ref">Embedded SVG markup</span></a>:</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="nt">_svg render example:</span>

<span class="p">..</span> <span class="ow">kernel-render</span><span class="p">::</span> SVG
   <span class="nc">:caption:</span> Embedded <span class="gs">**SVG**</span> markup
   <span class="nc">:alt:</span> so-nw-arrow
</pre></div>
</div>
<blockquote>
<div><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;svg</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/2000/svg&quot;</span><span class="w"> </span><span class="na">version=</span><span class="s">&quot;1.1&quot;</span>
<span class="w">     </span><span class="na">baseProfile=</span><span class="s">&quot;full&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;70px&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;40px&quot;</span>
<span class="w">     </span><span class="na">viewBox=</span><span class="s">&quot;0 0 700 400&quot;</span>
<span class="w">     </span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;line</span><span class="w"> </span><span class="na">x1=</span><span class="s">&quot;180&quot;</span><span class="w"> </span><span class="na">y1=</span><span class="s">&quot;370&quot;</span>
<span class="w">        </span><span class="na">x2=</span><span class="s">&quot;500&quot;</span><span class="w"> </span><span class="na">y2=</span><span class="s">&quot;50&quot;</span>
<span class="w">        </span><span class="na">stroke=</span><span class="s">&quot;black&quot;</span><span class="w"> </span><span class="na">stroke-width=</span><span class="s">&quot;15px&quot;</span>
<span class="w">        </span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;polygon</span><span class="w"> </span><span class="na">points=</span><span class="s">&quot;585 0 525 25 585 50&quot;</span>
<span class="w">           </span><span class="na">transform=</span><span class="s">&quot;rotate(135 525 25)&quot;</span>
<span class="w">           </span><span class="nt">/&gt;</span>
<span class="nt">&lt;/svg&gt;</span>
</pre></div>
</div>
</div></blockquote>
<div class="rst-example admonition">
<p class="admonition-title">kernel-render SVG</p>
<figure class="align-default" id="id10">
<span id="svg-render-example"></span><img alt="so-nw-arrow" src="_images/SVG-1fb7029fa2cc454a267bae271cccb2c591387416.svg" />
<figcaption>
<p><span class="caption-number">Fig. 7 </span><span class="caption-text">Embedded <strong>SVG</strong> markup</span><a class="headerlink" href="#id10" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</div>
</section>
</section>
<section id="list-markups">
<span id="rest-lists"></span><h4><a class="toc-backref" href="#id33" role="doc-backlink">List markups</a><a class="headerlink" href="#list-markups" title="Link to this heading">¶</a></h4>
<section id="bullet-list">
<h5><a class="toc-backref" href="#id34" role="doc-backlink">Bullet list</a><a class="headerlink" href="#bullet-list" title="Link to this heading">¶</a></h5>
<p>List markup (<a class="extlink-duref reference external" href="https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html#bullet-lists">ref</a>) is simple:</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="m">-</span> This is a bulleted list.

  <span class="m">1.</span> Nested lists are possible, but be aware that they must be separated from
     the parent list items by blank line
  <span class="m">2.</span> Second item of nested list

<span class="m">-</span> It has two items, the second
  item uses two lines.

<span class="m">#.</span> This is a numbered list.
<span class="m">#.</span> It has two items too.
</pre></div>
</div>
<div class="rst-example admonition">
<p class="admonition-title">bullet list</p>
<ul class="simple">
<li><p>This is a bulleted list.</p>
<ol class="arabic simple">
<li><p>Nested lists are possible, but be aware that they must be separated from
the parent list items by blank line</p></li>
<li><p>Second item of nested list</p></li>
</ol>
</li>
<li><p>It has two items, the second
item uses two lines.</p></li>
</ul>
<ol class="arabic simple">
<li><p>This is a numbered list.</p></li>
<li><p>It has two items too.</p></li>
</ol>
</div>
</section>
<section id="horizontal-list">
<h5><a class="toc-backref" href="#id35" role="doc-backlink">Horizontal list</a><a class="headerlink" href="#horizontal-list" title="Link to this heading">¶</a></h5>
<p>The <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html#directive-hlist" title="(in Sphinx v8.3.0)"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">..</span> <span class="pre">hlist::</span></code></a> transforms a bullet list into a more compact
list.</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">hlist</span><span class="p">::</span>

   <span class="m">-</span> first list item
   <span class="m">-</span> second list item
   <span class="m">-</span> third list item
<span class="c">   ...</span>
</pre></div>
</div>
<div class="rst-example admonition">
<p class="admonition-title">hlist</p>
<table class="hlist"><tr><td><ul class="simple">
<li><p>first list item</p></li>
<li><p>second list item</p></li>
<li><p>third list item</p></li>
<li><p>next list item</p></li>
</ul>
</td><td><ul class="simple">
<li><p>next list item xxxx</p></li>
<li><p>next list item yyyy</p></li>
<li><p>next list item zzzz</p></li>
</ul>
</td></tr></table>
</div>
</section>
<section id="definition-list">
<h5><a class="toc-backref" href="#id36" role="doc-backlink">Definition list</a><a class="headerlink" href="#definition-list" title="Link to this heading">¶</a></h5>
<aside class="sidebar">
<p class="sidebar-title">Note ..</p>
<ul class="simple">
<li><p>the term cannot have more than one line of text</p></li>
<li><p>there is <strong>no blank line between term and definition block</strong> // this
distinguishes definition lists (<a class="extlink-duref reference external" href="https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html#definition-lists">ref</a>) from block
quotes (<a class="extlink-duref reference external" href="https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html#block-quotes">ref</a>).</p></li>
</ul>
</aside>
<p>Each definition list (<a class="extlink-duref reference external" href="https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html#definition-lists">ref</a>) item contains a term,
optional classifiers and a definition.  A term is a simple one-line word or
phrase.  Optional classifiers may follow the term on the same line, each after
an inline ‘ : ‘ (<strong>space, colon, space</strong>).  A definition is a block indented
relative to the term, and may contain multiple paragraphs and other body
elements.  There may be no blank line between a term line and a definition block
(<em>this distinguishes definition lists from block quotes</em>).  Blank lines are
required before the first and after the last definition list item, but are
optional in-between.</p>
<p>Definition lists are created as follows:</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span>term 1 (up to a line of text)
    Definition 1.

See the typo : this line is not a term!

  And this is not term&#39;s definition.  <span class="gs">**There is a blank line**</span> in between
  the line above and this paragraph.  That&#39;s why this paragraph is taken as
  <span class="gs">**block quote**</span> (<span class="na">:duref:</span><span class="nv">`ref &lt;block-quotes&gt;`</span>) and not as term&#39;s definition!

term 2
    Definition 2, paragraph 1.

    Definition 2, paragraph 2.

term 3 : classifier
    Definition 3.

term 4 : classifier one : classifier two
    Definition 4.
</pre></div>
</div>
<div class="rst-example admonition">
<p class="admonition-title">definition list</p>
<dl class="simple">
<dt>term 1 (up to a line of text)</dt><dd><p>Definition 1.</p>
</dd>
</dl>
<p>See the typo : this line is not a term!</p>
<blockquote>
<div><p>And this is not term’s definition.  <strong>There is a blank line</strong> in between
the line above and this paragraph.  That’s why this paragraph is taken as
<strong>block quote</strong> (<a class="extlink-duref reference external" href="https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html#block-quotes">ref</a>) and not as term’s definition!</p>
</div></blockquote>
<dl>
<dt>term 2</dt><dd><p>Definition 2, paragraph 1.</p>
<p>Definition 2, paragraph 2.</p>
</dd>
<dt>term 3<span class="classifier">classifier</span></dt><dd><p>Definition 3.</p>
</dd>
</dl>
<p>term 4 : classifier one : classifier two</p>
</div>
</section>
<section id="quoted-paragraphs">
<h5><a class="toc-backref" href="#id37" role="doc-backlink">Quoted paragraphs</a><a class="headerlink" href="#quoted-paragraphs" title="Link to this heading">¶</a></h5>
<p>Quoted paragraphs (<a class="extlink-duref reference external" href="https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html#block-quotes">ref</a>) are created by just indenting
them more than the surrounding paragraphs.  Line blocks (<a class="extlink-duref reference external" href="https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html#line-blocks">ref</a>) are a way of preserving line breaks:</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span>normal paragraph ...
lorem ipsum.

   Quoted paragraph ...
   lorem ipsum.

<span class="o">|</span> These lines are
<span class="o">|</span> broken exactly like in
<span class="o">|</span> the source file.
</pre></div>
</div>
<div class="rst-example admonition">
<p class="admonition-title">Quoted paragraph and line block</p>
<p>normal paragraph …
lorem ipsum.</p>
<blockquote>
<div><p>Quoted paragraph …
lorem ipsum.</p>
</div></blockquote>
<div class="line-block">
<div class="line">These lines are</div>
<div class="line">broken exactly like in</div>
<div class="line">the source file.</div>
</div>
</div>
</section>
<section id="field-lists">
<span id="rest-field-list"></span><h5><a class="toc-backref" href="#id38" role="doc-backlink">Field Lists</a><a class="headerlink" href="#field-lists" title="Link to this heading">¶</a></h5>
<aside class="sidebar">
<p class="sidebar-title">bibliographic fields</p>
<p>First lines fields are bibliographic fields, see <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/field-lists.html">Sphinx Field Lists</a>.</p>
</aside>
<p>Field lists are used as part of an extension syntax, such as options for
directives, or database-like records meant for further processing.  Field lists
are mappings from field names to field bodies.  They marked up like this:</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="nc">:fieldname:</span> Field content
<span class="nc">:foo:</span>       first paragraph in field foo

            second paragraph in field foo

<span class="nc">:bar:</span>       Field content
</pre></div>
</div>
<div class="rst-example admonition">
<p class="admonition-title">Field List</p>
<dl class="field-list">
<dt class="field-odd">fieldname<span class="colon">:</span></dt>
<dd class="field-odd"><p>Field content</p>
</dd>
<dt class="field-even">foo<span class="colon">:</span></dt>
<dd class="field-even"><p>first paragraph in field foo</p>
<p>second paragraph in field foo</p>
</dd>
<dt class="field-odd">bar<span class="colon">:</span></dt>
<dd class="field-odd"><p>Field content</p>
</dd>
</dl>
</div>
<p>They are commonly used in Python documentation:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">my_function</span><span class="p">(</span><span class="n">my_arg</span><span class="p">,</span> <span class="n">my_other_arg</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A function just for me.</span>

<span class="sd">    :param my_arg: The first of my arguments.</span>
<span class="sd">    :param my_other_arg: The second of my arguments.</span>

<span class="sd">    :returns: A message (just for me, of course).</span>
<span class="sd">    &quot;&quot;&quot;</span>
</pre></div>
</div>
</section>
<section id="further-list-blocks">
<h5><a class="toc-backref" href="#id39" role="doc-backlink">Further list blocks</a><a class="headerlink" href="#further-list-blocks" title="Link to this heading">¶</a></h5>
<ul class="simple">
<li><p>field lists (<a class="extlink-duref reference external" href="https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html#field-lists">ref</a>, with caveats noted in
<a class="reference internal" href="#rest-field-list"><span class="std std-ref">Field Lists</span></a>)</p></li>
<li><p>option lists (<a class="extlink-duref reference external" href="https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html#option-lists">ref</a>)</p></li>
<li><p>quoted literal blocks (<a class="extlink-duref reference external" href="https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html#quoted-literal-blocks">ref</a>)</p></li>
<li><p>doctest blocks (<a class="extlink-duref reference external" href="https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html#doctest-blocks">ref</a>)</p></li>
</ul>
</section>
</section>
<section id="admonitions">
<h4><a class="toc-backref" href="#id40" role="doc-backlink">Admonitions</a><a class="headerlink" href="#admonitions" title="Link to this heading">¶</a></h4>
<section id="sidebar">
<h5><a class="toc-backref" href="#id41" role="doc-backlink">Sidebar</a><a class="headerlink" href="#sidebar" title="Link to this heading">¶</a></h5>
<p>Sidebar is an eye catcher, often used for admonitions pointing further stuff or
site effects.  Here is the source of the sidebar <a class="reference internal" href="#rest-primer"><span class="std std-ref">on top of this page</span></a>.</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">sidebar</span><span class="p">::</span> KISS_ and readability_

   Instead of defining more and more roles, we at SearXNG encourage our
   contributors to follow principles like KISS_ and readability_.
</pre></div>
</div>
</section>
<section id="generic-admonition">
<h5><a class="toc-backref" href="#id42" role="doc-backlink">Generic admonition</a><a class="headerlink" href="#generic-admonition" title="Link to this heading">¶</a></h5>
<p>The generic <a class="extlink-dudir reference external" href="https://docutils.sourceforge.io/docs/ref/rst/directives.html#admonitions">admonition</a> needs a title:</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">admonition</span><span class="p">::</span> generic admonition title

   lorem ipsum ..
</pre></div>
</div>
<div class="admonition-generic-admonition-title admonition">
<p class="admonition-title">generic admonition title</p>
<p>lorem ipsum ..</p>
</div>
</section>
<section id="specific-admonitions">
<h5><a class="toc-backref" href="#id43" role="doc-backlink">Specific admonitions</a><a class="headerlink" href="#specific-admonitions" title="Link to this heading">¶</a></h5>
<p>Specific admonitions: <a class="extlink-dudir reference external" href="https://docutils.sourceforge.io/docs/ref/rst/directives.html#hint">hint</a>, <a class="extlink-dudir reference external" href="https://docutils.sourceforge.io/docs/ref/rst/directives.html#note">note</a>, <a class="extlink-dudir reference external" href="https://docutils.sourceforge.io/docs/ref/rst/directives.html#tip">tip</a> <a class="extlink-dudir reference external" href="https://docutils.sourceforge.io/docs/ref/rst/directives.html#attention">attention</a>,
<a class="extlink-dudir reference external" href="https://docutils.sourceforge.io/docs/ref/rst/directives.html#caution">caution</a>, <a class="extlink-dudir reference external" href="https://docutils.sourceforge.io/docs/ref/rst/directives.html#danger">danger</a>, <a class="extlink-dudir reference external" href="https://docutils.sourceforge.io/docs/ref/rst/directives.html#error">error</a>, , <a class="extlink-dudir reference external" href="https://docutils.sourceforge.io/docs/ref/rst/directives.html#important">important</a>, and
<a class="extlink-dudir reference external" href="https://docutils.sourceforge.io/docs/ref/rst/directives.html#warning">warning</a> .</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">hint</span><span class="p">::</span>

   lorem ipsum ..

<span class="p">..</span> <span class="ow">note</span><span class="p">::</span>

   lorem ipsum ..

<span class="p">..</span> <span class="ow">warning</span><span class="p">::</span>

   lorem ipsum ..
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>lorem ipsum ..</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>lorem ipsum ..</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>lorem ipsum ..</p>
</div>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>lorem ipsum ..</p>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>lorem ipsum ..</p>
</div>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>lorem ipsum ..</p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>lorem ipsum ..</p>
</div>
<div class="admonition error">
<p class="admonition-title">Error</p>
<p>lorem ipsum ..</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>lorem ipsum ..</p>
</div>
</section>
</section>
<section id="tables">
<h4><a class="toc-backref" href="#id44" role="doc-backlink">Tables</a><a class="headerlink" href="#tables" title="Link to this heading">¶</a></h4>
<aside class="sidebar">
<p class="sidebar-title">Nested tables</p>
<p>Nested tables are ugly! Not all builder support nested tables, don’t use
them!</p>
</aside>
<p>ASCII-art tables like <a class="reference internal" href="#rest-simple-table"><span class="std std-ref">Simple tables</span></a> and <a class="reference internal" href="#rest-grid-table"><span class="std std-ref">Grid tables</span></a> might
be comfortable for readers of the text-files, but they have huge disadvantages
in the creation and modifying.  First, they are hard to edit.  Think about
adding a row or a column to a ASCII-art table or adding a paragraph in a cell,
it is a nightmare on big tables.</p>
<aside class="sidebar">
<p class="sidebar-title">List tables</p>
<p>For meaningful patch and diff use <a class="reference internal" href="#rest-flat-table"><span class="std std-ref">flat-table</span></a>.</p>
</aside>
<p>Second the diff of modifying ASCII-art tables is not meaningful, e.g. widening a
cell generates a diff in which also changes are included, which are only
ascribable to the ASCII-art.  Anyway, if you prefer ASCII-art for any reason,
here are some helpers:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.emacswiki.org/emacs/TableMode">Emacs Table Mode</a></p></li>
<li><p><a class="reference external" href="https://www.tablesgenerator.com/text_tables">Online Tables Generator</a></p></li>
</ul>
<section id="simple-tables">
<span id="rest-simple-table"></span><h5><a class="toc-backref" href="#id45" role="doc-backlink">Simple tables</a><a class="headerlink" href="#simple-tables" title="Link to this heading">¶</a></h5>
<p><a class="extlink-duref reference external" href="https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html#simple-tables">Simple tables</a> allow <em>colspan</em> but not <em>rowspan</em>.  If
your table need some metadata (e.g. a title) you need to add the <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">table::</span>
<span class="pre">directive</span></code> <a class="extlink-dudir reference external" href="https://docutils.sourceforge.io/docs/ref/rst/directives.html#table">(ref)</a> in front and place the table in its body:</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">table</span><span class="p">::</span> foo gate truth table
   <span class="nc">:widths:</span> grid
   <span class="nc">:align:</span> left

   ====== ====== ======
       Inputs    Output
   ------------- ------
   A      B      A or B
   ====== ====== ======
   False
   --------------------
   True
   --------------------
   True   False  True
          (foo)
   ------ ------ ------
   False  True
          (foo)
   ====== =============
</pre></div>
</div>
<div class="rst-example admonition">
<p class="admonition-title">Simple ASCII table</p>
<table class="docutils align-left" id="id11">
<caption><span class="caption-number">Table 12 </span><span class="caption-text">foo gate truth table</span><a class="headerlink" href="#id11" title="Link to this table">¶</a></caption>
<colgroup>
<col style="width: 33.3%" />
<col style="width: 33.3%" />
<col style="width: 33.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Inputs</p></th>
<th class="head"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
<th class="head"><p>A or B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td colspan="3"><p>False</p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>True</p></td>
</tr>
<tr class="row-odd"><td><p>True</p></td>
<td><p>False
(foo)</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-even"><td><p>False</p></td>
<td colspan="2"><p>True
(foo)</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="grid-tables">
<span id="rest-grid-table"></span><h5><a class="toc-backref" href="#id46" role="doc-backlink">Grid tables</a><a class="headerlink" href="#grid-tables" title="Link to this heading">¶</a></h5>
<p><a class="extlink-duref reference external" href="https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html#grid-tables">Grid tables</a> allow colspan <em>colspan</em> and <em>rowspan</em>:</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">table</span><span class="p">::</span> grid table example
   <span class="nc">:widths:</span> 1 1 5

   +------------+------------+-----------+
   <span class="o">|</span> Header 1   | Header 2   | Header 3  |
   +============+============+===========+
   <span class="o">|</span> body row 1 | column 2   | column 3  |
   +------------+------------+-----------+
   <span class="o">|</span> body row 2 | Cells may span columns.|
   +------------+------------+-----------+
   <span class="o">|</span> body row 3 | Cells may  | - Cells   |
   +------------+ span rows. | - contain |
   <span class="o">|</span> body row 4 |            | - blocks. |
   +------------+------------+-----------+
</pre></div>
</div>
<div class="rst-example admonition">
<p class="admonition-title">ASCII grid table</p>
<table class="docutils align-default" id="id12">
<caption><span class="caption-number">Table 13 </span><span class="caption-text">grid table example</span><a class="headerlink" href="#id12" title="Link to this table">¶</a></caption>
<colgroup>
<col style="width: 14.3%" />
<col style="width: 14.3%" />
<col style="width: 71.4%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Header 1</p></th>
<th class="head"><p>Header 2</p></th>
<th class="head"><p>Header 3</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>body row 1</p></td>
<td><p>column 2</p></td>
<td><p>column 3</p></td>
</tr>
<tr class="row-odd"><td><p>body row 2</p></td>
<td colspan="2"><p>Cells may span columns.</p></td>
</tr>
<tr class="row-even"><td><p>body row 3</p></td>
<td rowspan="2"><p>Cells may
span rows.</p></td>
<td rowspan="2"><ul class="simple">
<li><p>Cells</p></li>
<li><p>contain</p></li>
<li><p>blocks.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>body row 4</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="flat-table">
<span id="rest-flat-table"></span><h5><a class="toc-backref" href="#id47" role="doc-backlink">flat-table</a><a class="headerlink" href="#flat-table" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">flat-table</span></code> is a further developed variant of the <a class="reference external" href="https://return42.github.io/linuxdoc/linuxdoc-howto/table-markup.html#list-table-directives" title="(in LinuxDoc v20240924.dev1)"><span class="xref std std-ref">list tables</span></a>.  It is a double-stage list similar to the
<a class="extlink-dudir reference external" href="https://docutils.sourceforge.io/docs/ref/rst/directives.html#list-table">list-table</a> with some additional features:</p>
<dl class="simple">
<dt>column-span: <code class="docutils literal notranslate"><span class="pre">cspan</span></code></dt><dd><p>with the role <code class="docutils literal notranslate"><span class="pre">cspan</span></code> a cell can be extended through additional columns</p>
</dd>
<dt>row-span: <code class="docutils literal notranslate"><span class="pre">rspan</span></code></dt><dd><p>with the role <code class="docutils literal notranslate"><span class="pre">rspan</span></code> a cell can be extended through additional rows</p>
</dd>
<dt>auto-span:</dt><dd><p>spans rightmost cell of a table row over the missing cells on the right side
of that table-row.  With Option <code class="docutils literal notranslate"><span class="pre">:fill-cells:</span></code> this behavior can changed
from <em>auto span</em> to <em>auto fill</em>, which automatically inserts (empty) cells
instead of spanning the last cell.</p>
</dd>
<dt>options:</dt><dd><dl class="field-list simple">
<dt class="field-odd">header-rows<span class="colon">:</span></dt>
<dd class="field-odd"><p>[int] count of header rows</p>
</dd>
<dt class="field-even">stub-columns<span class="colon">:</span></dt>
<dd class="field-even"><p>[int] count of stub columns</p>
</dd>
<dt class="field-odd">widths<span class="colon">:</span></dt>
<dd class="field-odd"><p>[[int] [int] … ] widths of columns</p>
</dd>
<dt class="field-even">fill-cells<span class="colon">:</span></dt>
<dd class="field-even"><p>instead of auto-span missing cells, insert missing cells</p>
</dd>
</dl>
</dd>
<dt>roles:</dt><dd><dl class="field-list simple">
<dt class="field-odd">cspan<span class="colon">:</span></dt>
<dd class="field-odd"><p>[int] additional columns (<em>morecols</em>)</p>
</dd>
<dt class="field-even">rspan<span class="colon">:</span></dt>
<dd class="field-even"><p>[int] additional rows (<em>morerows</em>)</p>
</dd>
</dl>
</dd>
</dl>
<p>The example below shows how to use this markup.  The first level of the staged
list is the <em>table-row</em>. In the <em>table-row</em> there is only one markup allowed,
the list of the cells in this <em>table-row</em>. Exception are <em>comments</em> ( <code class="docutils literal notranslate"><span class="pre">..</span></code> )
and <em>targets</em> (e.g. a ref to <a class="reference internal" href="#row-body-2"><span class="std std-ref">row 2 of table’s body</span></a>).</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">flat-table</span><span class="p">::</span> <span class="s">``flat-table``</span> example
   <span class="nc">:header-rows:</span> 2
   <span class="nc">:stub-columns:</span> 1
   <span class="nc">:widths:</span> 1 1 1 1 2

   <span class="m">*</span> - <span class="na">:rspan:</span><span class="nv">`1`</span> head / stub
     <span class="m">-</span> <span class="na">:cspan:</span><span class="nv">`3`</span> head 1.1-4

   <span class="m">*</span> - head 2.1
     <span class="m">-</span> head 2.2
     <span class="m">-</span> head 2.3
     <span class="m">-</span> head 2.4

   <span class="m">*</span> .. row body 1 / this is a comment

     <span class="m">-</span> row 1
     <span class="m">-</span> <span class="na">:rspan:</span><span class="nv">`2`</span> cell 1-3.1
     <span class="m">-</span> cell 1.2
     <span class="m">-</span> cell 1.3
     <span class="m">-</span> cell 1.4

   <span class="m">*</span> .. Comments and targets are allowed on <span class="ge">*table-row*</span> stage.
<span class="p">     ..</span> <span class="nt">_`row body 2`:</span>

     <span class="m">-</span> row 2
     <span class="m">-</span> cell 2.2
     <span class="m">-</span> <span class="na">:rspan:</span><span class="nv">`1`</span> <span class="na">:cspan:</span><span class="nv">`1`</span>
       cell 2.3 with a span over

       <span class="m">*</span> col 3-4 &amp;
       <span class="m">*</span> row 2-3

   <span class="m">*</span> - row 3
     <span class="m">-</span> cell 3.2

   <span class="m">*</span> - row 4
     <span class="m">-</span> cell 4.1
     <span class="m">-</span> cell 4.2
     <span class="m">-</span> cell 4.3
     <span class="m">-</span> cell 4.4

   <span class="m">*</span> - row 5
     <span class="m">-</span> cell 5.1 with automatic span to right end

   <span class="m">*</span> - row 6
     <span class="m">-</span> cell 6.1
     <span class="m">-</span> ..
</pre></div>
</div>
<div class="rst-example admonition">
<p class="admonition-title">List table</p>
<table class="docutils align-default" id="id13">
<caption><span class="caption-number">Table 14 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">flat-table</span></code> example</span><a class="headerlink" href="#id13" title="Link to this table">¶</a></caption>
<colgroup>
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 33.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub" rowspan="2"><p> head / stub</p></th>
<th class="head" colspan="4"><p> head 1.1-4</p></th>
</tr>
<tr class="row-even"><th class="head stub"><p>head 2.1</p></th>
<th class="head"><p>head 2.2</p></th>
<th class="head"><p>head 2.3</p></th>
<th class="head"><p>head 2.4</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><th class="stub"><p>row 1</p></th>
<td rowspan="3"><p> cell 1-3.1</p></td>
<td><p>cell 1.2</p></td>
<td><p>cell 1.3</p></td>
<td><p>cell 1.4</p></td>
</tr>
<tr class="row-even"><th class="stub"><p>row 2</p>
</th>
<td><p>cell 2.2</p>
</td>
<td colspan="2" rowspan="2"><p id="row-body-2"> 
cell 2.3 with a span over</p>
<ul class="simple">
<li><p>col 3-4 &amp;</p></li>
<li><p>row 2-3</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><th class="stub"><p>row 3</p></th>
<td><p>cell 3.2</p></td>
</tr>
<tr class="row-even"><th class="stub"><p>row 4</p></th>
<td><p>cell 4.1</p></td>
<td><p>cell 4.2</p></td>
<td><p>cell 4.3</p></td>
<td><p>cell 4.4</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p>row 5</p></th>
<td colspan="4"><p>cell 5.1 with automatic span to right end</p></td>
</tr>
<tr class="row-even"><th class="stub"><p>row 6</p></th>
<td><p>cell 6.1</p></td>
<td colspan="3"></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="csv-table">
<h5><a class="toc-backref" href="#id48" role="doc-backlink">CSV table</a><a class="headerlink" href="#csv-table" title="Link to this heading">¶</a></h5>
<p>CSV table might be the choice if you want to include CSV-data from a outstanding
(build) process into your documentation.</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">csv-table</span><span class="p">::</span> CSV table example
   <span class="nc">:header:</span> .. , Column 1, Column 2
   <span class="nc">:widths:</span> 2 5 5
   <span class="nc">:stub-columns:</span> 1
   <span class="nc">:file:</span> csv_table.txt
</pre></div>
</div>
<p>Content of file <code class="docutils literal notranslate"><span class="pre">csv_table.txt</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stub</span> <span class="n">col</span> <span class="n">row</span> <span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="s2">&quot;loremLorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy</span>
<span class="n">eirmod</span> <span class="n">tempor</span> <span class="n">invidunt</span> <span class="n">ut</span> <span class="n">labore</span> <span class="n">et</span> <span class="n">dolore</span> <span class="n">magna</span> <span class="n">aliquyam</span> <span class="n">erat</span><span class="p">,</span> <span class="n">sed</span> <span class="n">diam</span>
<span class="n">voluptua</span><span class="o">.</span><span class="s2">&quot;</span>
<span class="n">stub</span> <span class="n">col</span> <span class="n">row</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;At vero eos et accusam et justo duo dolores et ea rebum. Stet clita</span>
<span class="n">kasd</span> <span class="n">gubergren</span><span class="p">,</span> <span class="n">no</span> <span class="n">sea</span> <span class="n">takimata</span> <span class="n">sanctus</span> <span class="n">est</span> <span class="n">Lorem</span> <span class="n">ipsum</span> <span class="n">dolor</span> <span class="n">sit</span> <span class="n">amet</span><span class="o">.</span><span class="s2">&quot;, column</span>
<span class="n">stub</span> <span class="n">col</span> <span class="n">row</span> <span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">column</span>
</pre></div>
</div>
<div class="rst-example admonition">
<p class="admonition-title">CSV table</p>
<table class="docutils align-default" id="id14">
<caption><span class="caption-number">Table 15 </span><span class="caption-text">CSV table example</span><a class="headerlink" href="#id14" title="Link to this table">¶</a></caption>
<colgroup>
<col style="width: 23.1%" />
<col style="width: 38.5%" />
<col style="width: 38.5%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub"></th>
<th class="head"><p>Column 1</p></th>
<th class="head"><p>Column 2</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><th class="stub"><p>stub col row 1</p></th>
<td><p>column</p></td>
<td><p>loremLorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy
eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam
voluptua.</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p>stub col row 1</p></th>
<td><p>At vero eos et accusam et justo duo dolores et ea rebum. Stet clita
kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p></td>
<td><p>column</p></td>
</tr>
<tr class="row-even"><th class="stub"><p>stub col row 1</p></th>
<td><p>column</p></td>
<td><p>column</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="templating">
<h4><a class="toc-backref" href="#id49" role="doc-backlink">Templating</a><a class="headerlink" href="#templating" title="Link to this heading">¶</a></h4>
<aside class="sidebar">
<p class="sidebar-title">Build environment</p>
<p>All <em>generic-doc</em> tasks are running in the <a class="reference internal" href="#make-install"><span class="std std-ref">Python environment (make install)</span></a>.</p>
</aside>
<p>Templating is suitable for documentation which is created generic at the build
time.  The <a class="reference external" href="https://github.com/tardyp/sphinx-jinja">sphinx-jinja</a> extension evaluates <a class="reference external" href="https://jinja.palletsprojects.com/">jinja</a> templates in the <a class="reference internal" href="#make-install"><span class="std std-ref">Python environment (make install)</span></a> (with SearXNG modules installed).  We use this e.g. to build chapter:
<a class="reference internal" href="#configured-engines"><span class="std std-ref">Configured Engines</span></a>.  Below the jinja directive from the
<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/docs/admin/engines.rst">git://docs/admin/engines.rst</a> is shown:</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="gh">==================</span>
<span class="gh">Configured Engines</span>
<span class="gh">==================</span>

<span class="p">..</span> <span class="ow">sidebar</span><span class="p">::</span> Further reading ..

   <span class="m">-</span> <span class="na">:ref:</span><span class="nv">`settings categories_as_tabs`</span>
   <span class="m">-</span> <span class="na">:ref:</span><span class="nv">`engines-dev`</span>
   <span class="m">-</span> <span class="na">:ref:</span><span class="nv">`settings engines`</span>
   <span class="m">-</span> <span class="na">:ref:</span><span class="nv">`general engine configuration`</span>

<span class="p">..</span> <span class="ow">jinja</span><span class="p">::</span> searx

   Infinity Search supports {{engines | length}} search engines of which
   {{enabled_engine_count}} are enabled by default.

   Engines can be assigned to multiple <span class="na">:ref:</span><span class="nv">`categories &lt;engine categories&gt;`</span>.
   The UI displays the tabs that are configured in :ref:`categories_as_tabs
   &lt;settings categories_as_tabs&gt;`.  In addition to these UI categories (also
   called <span class="ge">*tabs*</span>), engines can be queried by their name or the categories they
   belong to, by using a <span class="na">:ref:</span><span class="nv">`\!bing syntax &lt;search-syntax&gt;`</span>.

<span class="p">..</span> <span class="ow">contents</span><span class="p">::</span>
   <span class="nc">:depth:</span> 2
   <span class="nc">:local:</span>
   <span class="nc">:backlinks:</span> entry

<span class="p">..</span> <span class="ow">jinja</span><span class="p">::</span> searx

   {% for category, engines in categories_as_tabs.items() %}

   tab <span class="s">``!{{category.replace(&#39; &#39;, &#39;_&#39;)}}``</span>
   ---------------------------------------

   {% for group, group_bang, engines in engines | group_engines_in_tab %}

   {% if loop.length &gt; 1 %}
   {% if group_bang %}group <span class="s">``{{group_bang}}``{% else %}{{group}}{% endif %}</span>
<span class="s">   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="s">   {% endif %}</span>

<span class="s">   .. flat-table::</span>
<span class="s">      :header-rows: 2</span>
<span class="s">      :stub-columns: 1</span>
<span class="s">      :widths: 10 1 10 1 1 1 1 1 1 1</span>

<span class="s">      * - :cspan:`5` Engines configured by default (in :ref:`settings.yml &lt;engine settings&gt;`)</span>
<span class="s">        - :cspan:`3` :ref:`Supported features &lt;engine file&gt;`</span>

<span class="s">      * - Name</span>
<span class="s">        - !bang</span>
<span class="s">        - Module</span>
<span class="s">        - Disabled</span>
<span class="s">        - Timeout</span>
<span class="s">        - Weight</span>
<span class="s">        - Paging</span>
<span class="s">        - Locale</span>
<span class="s">        - Safe search</span>
<span class="s">        - Time range</span>

<span class="s">      {% for mod in engines %}</span>

<span class="s">      * - `{{mod.name}} &lt;{{mod.about and mod.about.website}}&gt;`_</span>
<span class="s">          {%- if mod.about and  mod.about.language %}</span>
<span class="s">          ({{mod.about.language | upper}})</span>
<span class="s">          {%- endif %}</span>
<span class="s">        - ``</span>!{{mod.shortcut}}<span class="s">``</span>
<span class="s">        - {%- if &#39;searx.engines.&#39; + mod.__name__ in documented_modules %}</span>
<span class="s">          :py:mod:`~searx.engines.{{mod.__name__}}`</span>
<span class="s">          {%- else %}</span>
<span class="s">          :origin:`{{mod.__name__}} &lt;searx/engines/{{mod.__name__}}.py&gt;`</span>
<span class="s">          {%- endif %}</span>
<span class="s">        - {{(mod.disabled and &quot;y&quot;) or &quot;&quot;}}</span>
<span class="s">        - {{mod.timeout}}</span>
<span class="s">        - {{mod.weight or 1 }}</span>
<span class="s">        {% if mod.engine_type == &#39;online&#39; %}</span>
<span class="s">        - {{(mod.paging and &quot;y&quot;) or &quot;&quot;}}</span>
<span class="s">        - {{(mod.language_support and &quot;y&quot;) or &quot;&quot;}}</span>
<span class="s">        - {{(mod.safesearch and &quot;y&quot;) or &quot;&quot;}}</span>
<span class="s">        - {{(mod.time_range_support and &quot;y&quot;) or &quot;&quot;}}</span>
<span class="s">        {% else %}</span>
<span class="s">        - :cspan:`3` not applicable ({{mod.engine_type}})</span>
<span class="s">        {% endif %}</span>

<span class="s">     {% endfor %}</span>
<span class="s">     {% endfor %}</span>
<span class="s">     {% endfor %}</span>
</pre></div>
</div>
<p>The context for the template is selected in the line <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">jinja::</span> <span class="pre">searx</span></code>.  In
sphinx’s build configuration (<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/docs/conf.py">git://docs/conf.py</a>) the <code class="docutils literal notranslate"><span class="pre">searx</span></code> context
contains the <code class="docutils literal notranslate"><span class="pre">engines</span></code> and <code class="docutils literal notranslate"><span class="pre">plugins</span></code>.</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">searx.search</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">searx.engines</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">searx.plugins</span>
<span class="n">searx</span><span class="o">.</span><span class="n">search</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
<span class="n">jinja_contexts</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s1">&#39;searx&#39;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s1">&#39;engines&#39;</span><span class="p">:</span> <span class="n">searx</span><span class="o">.</span><span class="n">engines</span><span class="o">.</span><span class="n">engines</span><span class="p">,</span>
      <span class="s1">&#39;plugins&#39;</span><span class="p">:</span> <span class="n">searx</span><span class="o">.</span><span class="n">plugins</span><span class="o">.</span><span class="n">plugins</span>
   <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="tabbed-views">
<h4><a class="toc-backref" href="#id50" role="doc-backlink">Tabbed views</a><a class="headerlink" href="#tabbed-views" title="Link to this heading">¶</a></h4>
<p>With <a class="reference external" href="https://github.com/djungelorm/sphinx-tabs">sphinx-tabs</a> extension we have <em>tabbed views</em>.  To provide installation
instructions with one tab per distribution we use the <a class="reference external" href="https://github.com/djungelorm/sphinx-tabs#group-tabs">group-tabs</a> directive,
others are <a class="reference external" href="https://github.com/djungelorm/sphinx-tabs#basic-tabs">basic-tabs</a> and <a class="reference external" href="https://github.com/djungelorm/sphinx-tabs#code-tabs">code-tabs</a>.  Below a <em>group-tab</em> example from
<a class="reference internal" href="#docs-build"><span class="std std-ref">Build docs</span></a> is shown:</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">tabs</span><span class="p">::</span>

<span class="p">   ..</span> <span class="ow">group-tab</span><span class="p">::</span> Ubuntu / debian

<span class="p">      ..</span> <span class="ow">code-block</span><span class="p">::</span> <span class="k">sh</span>

         $<span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>shellcheck

<span class="p">   ..</span> <span class="ow">group-tab</span><span class="p">::</span> Arch Linux

<span class="p">      ..</span> <span class="ow">code-block</span><span class="p">::</span> <span class="k">sh</span>

         $<span class="w"> </span>sudo<span class="w"> </span>pacman<span class="w"> </span>-S<span class="w"> </span>shellcheck

<span class="p">   ..</span> <span class="ow">group-tab</span><span class="p">::</span>  Fedora / RHEL

<span class="p">      ..</span> <span class="ow">code-block</span><span class="p">::</span> sh

         $ sudo dnf install ShellCheck
</pre></div>
</div>
</section>
<section id="math-equations">
<span id="math"></span><h4><a class="toc-backref" href="#id51" role="doc-backlink">Math equations</a><a class="headerlink" href="#math-equations" title="Link to this heading">¶</a></h4>
<aside class="sidebar">
<p class="sidebar-title">About LaTeX</p>
<ul class="simple">
<li><p><a class="reference external" href="http://vesta.informatik.rwth-aachen.de/ftp/pub/mirror/ctan/macros/latex/required/amsmath/amsldoc.pdf">amsmath user guide</a></p></li>
<li><p><a class="reference external" href="https://en.wikibooks.org/wiki/LaTeX/Mathematics">Mathematics</a></p></li>
<li><p><a class="reference internal" href="#docs-build"><span class="std std-ref">Build docs</span></a></p></li>
</ul>
</aside>
<p>The input language for mathematics is LaTeX markup using the <a class="extlink-ctan reference external" href="https://ctan.org/pkg/amsmath">CTAN: amsmath</a>
package.</p>
<p>To embed LaTeX markup in reST documents, use role <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/roles.html#role-math" title="(in Sphinx v8.3.0)"><code class="xref rst rst-role docutils literal notranslate"><span class="pre">:math:</span></code></a> for
inline and directive <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html#directive-math" title="(in Sphinx v8.3.0)"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">..</span> <span class="pre">math::</span></code></a> for block markup.</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span>In <span class="na">:math:numref:</span><span class="nv">`schroedinger general`</span> the time-dependent Schrödinger equation
is shown.

<span class="p">..</span> <span class="ow">math</span><span class="p">::</span>
   <span class="nc">:label:</span> schroedinger general

    \mathrm{i}\hbar\dfrac{\partial}{\partial t} |\,\psi (t) \rangle =
          \hat{H} |\,\psi (t) \rangle.
</pre></div>
</div>
<div class="rst-example admonition">
<p class="admonition-title">LaTeX math equation</p>
<p>In <a class="reference internal" href="#equation-schroedinger-general">(1)</a> the time-dependent Schrödinger equation
is shown.</p>
<div class="math" id="equation-schroedinger-general">
<p><span class="eqno">(1)<a class="headerlink" href="#equation-schroedinger-general" title="Link to this equation">¶</a></span><span class="math">\mathrm{i}\hbar\dfrac{\partial}{\partial t} |\,\psi (t) \rangle =
       \hat{H} |\,\psi (t) \rangle.</span></p>
</div></div>
<p>The next example shows the difference of <code class="docutils literal notranslate"><span class="pre">\tfrac</span></code> (<em>textstyle</em>) and <code class="docutils literal notranslate"><span class="pre">\dfrac</span></code>
(<em>displaystyle</em>) used in a inline markup or another fraction.</p>
<div class="highlight-reST notranslate"><div class="highlight"><pre><span></span><span class="s">``\tfrac``</span> <span class="gs">**inline example**</span> <span class="na">:math:</span><span class="nv">`\tfrac{\tfrac{1}{x}+\tfrac{1}{y}}{y-z}`</span>
<span class="s">``\dfrac``</span> <span class="gs">**inline example**</span> <span class="na">:math:</span><span class="nv">`\dfrac{\dfrac{1}{x}+\dfrac{1}{y}}{y-z}`</span>
</pre></div>
</div>
<div class="rst-example admonition">
<p class="admonition-title">Line spacing</p>
<p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy
eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam
voluptua.  …
<code class="docutils literal notranslate"><span class="pre">\tfrac</span></code> <strong>inline example</strong> <span class="math">\tfrac{\tfrac{1}{x}+\tfrac{1}{y}}{y-z}</span>
At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd
gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
<p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy
eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam
voluptua.  …
<code class="docutils literal notranslate"><span class="pre">\tfrac</span></code> <strong>inline example</strong> <span class="math">\dfrac{\dfrac{1}{x}+\dfrac{1}{y}}{y-z}</span>
At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd
gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
</div>
</section>
</section>
<span id="document-dev/searxng_extra/index"></span><section id="tooling-box-searxng-extra">
<span id="searxng-extra"></span><h3>Tooling box <code class="docutils literal notranslate"><span class="pre">searxng_extra</span></code><a class="headerlink" href="#tooling-box-searxng-extra" title="Link to this heading">¶</a></h3>
<p>In the folder <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searxng_extra/">git://searxng_extra/</a> we maintain some tools useful for CI and
developers.</p>
<div class="toctree-wrapper compound">
<span id="document-dev/searxng_extra/update"></span><section id="searxng-extra-update">
<h4><code class="docutils literal notranslate"><span class="pre">searxng_extra/update/</span></code><a class="headerlink" href="#searxng-extra-update" title="Link to this heading">¶</a></h4>
<p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searxng_extra/update/__init__.py">[source]</a></p>
<p>Scripts to update static data in <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/data/">git://searx/data/</a></p>
<section id="update-ahmia-blacklist-py">
<span id="id1"></span><h5><code class="docutils literal notranslate"><span class="pre">update_ahmia_blacklist.py</span></code><a class="headerlink" href="#update-ahmia-blacklist-py" title="Link to this heading">¶</a></h5>
<p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searxng_extra/update/update_ahmia_blacklist.py">[source]</a></p>
<p id="module-searxng_extra.update.update_ahmia_blacklist">This script saves <a class="reference external" href="https://ahmia.fi/blacklist/">Ahmia’s blacklist</a> for onion sites.</p>
<p>Output file: <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/data/ahmia_blacklist.txt">git://searx/data/ahmia_blacklist.txt</a> (<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/.github/workflows/data-update.yml">CI Update data
…</a>).</p>
</section>
<section id="update-currencies-py">
<h5><code class="docutils literal notranslate"><span class="pre">update_currencies.py</span></code><a class="headerlink" href="#update-currencies-py" title="Link to this heading">¶</a></h5>
<p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searxng_extra/update/update_currencies.py">[source]</a></p>
<p id="module-searxng_extra.update.update_currencies">Fetch currencies from <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/wikidata.py">git://searx/engines/wikidata.py</a> engine.</p>
<p>Output file: <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/data/currencies.json">git://searx/data/currencies.json</a> (<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/.github/workflows/data-update.yml">CI Update data …</a>).</p>
</section>
<section id="update-engine-descriptions-py">
<h5><code class="docutils literal notranslate"><span class="pre">update_engine_descriptions.py</span></code><a class="headerlink" href="#update-engine-descriptions-py" title="Link to this heading">¶</a></h5>
<p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searxng_extra/update/update_engine_descriptions.py">[source]</a></p>
<p id="module-searxng_extra.update.update_engine_descriptions">Fetch website description from websites and from
<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/wikidata.py">git://searx/engines/wikidata.py</a> engine.</p>
<p>Output file: <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/data/engine_descriptions.json">git://searx/data/engine_descriptions.json</a>.</p>
<dl class="py function">
<dt class="sig sig-object py" id="searxng_extra.update.update_engine_descriptions.get_output">
<span class="sig-prename descclassname"><span class="pre">searxng_extra.update.update_engine_descriptions.</span></span><span class="sig-name descname"><span class="pre">get_output</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#searxng_extra.update.update_engine_descriptions.get_output" title="Link to this definition">¶</a></dt>
<dd><p>From descriptions[engine][language] = [description, source]
To</p>
<ul class="simple">
<li><p>output[language][engine] = description_and_source</p></li>
<li><dl class="simple">
<dt>description_and_source can be:</dt><dd><ul>
<li><p>[description, source]</p></li>
<li><p>description (if source = “wikipedia”)</p></li>
<li><p>[f”engine:lang”, “ref”] (reference to another existing description)</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd></dl>

</section>
<section id="update-external-bangs-py">
<h5><code class="docutils literal notranslate"><span class="pre">update_external_bangs.py</span></code><a class="headerlink" href="#update-external-bangs-py" title="Link to this heading">¶</a></h5>
<p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searxng_extra/update/update_external_bangs.py">[source]</a></p>
<p id="module-searxng_extra.update.update_external_bangs">Update <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/data/external_bangs.json">git://searx/data/external_bangs.json</a> using the duckduckgo bangs
from <a class="reference internal" href="#searxng_extra.update.update_external_bangs.BANGS_URL" title="searxng_extra.update.update_external_bangs.BANGS_URL"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BANGS_URL</span></code></a>.</p>
<ul class="simple">
<li><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/.github/workflows/data-update.yml">CI Update data …</a></p></li>
</ul>
<dl class="py data">
<dt class="sig sig-object py" id="searxng_extra.update.update_external_bangs.BANGS_URL">
<span class="sig-prename descclassname"><span class="pre">searxng_extra.update.update_external_bangs.</span></span><span class="sig-name descname"><span class="pre">BANGS_URL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://duckduckgo.com/bang.js'</span></em><a class="headerlink" href="#searxng_extra.update.update_external_bangs.BANGS_URL" title="Link to this definition">¶</a></dt>
<dd><p>JSON file which contains the bangs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searxng_extra.update.update_external_bangs.merge_when_no_leaf">
<span class="sig-prename descclassname"><span class="pre">searxng_extra.update.update_external_bangs.</span></span><span class="sig-name descname"><span class="pre">merge_when_no_leaf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searxng_extra.update.update_external_bangs.merge_when_no_leaf" title="Link to this definition">¶</a></dt>
<dd><p>Minimize the number of nodes</p>
<p><code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">-&gt;</span> <span class="pre">B</span> <span class="pre">-&gt;</span> <span class="pre">C</span></code></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">B</span></code> is child of <code class="docutils literal notranslate"><span class="pre">A</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">C</span></code> is child of <code class="docutils literal notranslate"><span class="pre">B</span></code></p></li>
</ul>
<p>If there are no <code class="docutils literal notranslate"><span class="pre">C</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&lt;LEAF_KEY&gt;</span></code>, then each <code class="docutils literal notranslate"><span class="pre">C</span></code> are merged
into <code class="docutils literal notranslate"><span class="pre">A</span></code>.  For example (5 nodes):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">-&gt;</span> <span class="n">d</span> <span class="o">-&gt;</span> <span class="n">g</span> <span class="o">-&gt;</span> <span class="o">&lt;</span><span class="n">LEAF_KEY</span><span class="o">&gt;</span> <span class="p">(</span><span class="n">ddg</span><span class="p">)</span>
  <span class="o">-&gt;</span> <span class="n">i</span> <span class="o">-&gt;</span> <span class="n">g</span> <span class="o">-&gt;</span> <span class="o">&lt;</span><span class="n">LEAF_KEY</span><span class="o">&gt;</span> <span class="p">(</span><span class="n">dig</span><span class="p">)</span>
</pre></div>
</div>
<p>becomes (3 nodes):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">-&gt;</span> <span class="n">dg</span> <span class="o">-&gt;</span> <span class="o">&lt;</span><span class="n">LEAF_KEY</span><span class="o">&gt;</span>
  <span class="o">-&gt;</span> <span class="n">ig</span> <span class="o">-&gt;</span> <span class="o">&lt;</span><span class="n">LEAF_KEY</span><span class="o">&gt;</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="update-firefox-version-py">
<h5><code class="docutils literal notranslate"><span class="pre">update_firefox_version.py</span></code><a class="headerlink" href="#update-firefox-version-py" title="Link to this heading">¶</a></h5>
<p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searxng_extra/update/update_firefox_version.py">[source]</a></p>
<p id="module-searxng_extra.update.update_firefox_version">Fetch firefox useragent signatures</p>
<p>Output file: <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/data/useragents.json">git://searx/data/useragents.json</a> (<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/.github/workflows/data-update.yml">CI Update data …</a>).</p>
</section>
<section id="update-engine-traits-py">
<h5><code class="docutils literal notranslate"><span class="pre">update_engine_traits.py</span></code><a class="headerlink" href="#update-engine-traits-py" title="Link to this heading">¶</a></h5>
<p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searxng_extra/update/update_engine_traits.py">[source]</a></p>
<p id="module-searxng_extra.update.update_engine_traits">Update <a class="reference internal" href="#searx.enginelib.traits.EngineTraitsMap" title="searx.enginelib.traits.EngineTraitsMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.enginelib.traits.EngineTraitsMap</span></code></a> and <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/languages.py">git://searx/languages.py</a></p>
<dl class="simple">
<dt><a class="reference internal" href="#searx.enginelib.traits.EngineTraitsMap.ENGINE_TRAITS_FILE" title="searx.enginelib.traits.EngineTraitsMap.ENGINE_TRAITS_FILE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.enginelib.traits.EngineTraitsMap.ENGINE_TRAITS_FILE</span></code></a>:</dt><dd><p>Persistence of engines traits, fetched from the engines.</p>
</dd>
<dt><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/languages.py">git://searx/languages.py</a></dt><dd><p>Is generated  from intersecting each engine’s supported traits.</p>
</dd>
</dl>
<p>The script <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searxng_extra/update/update_engine_traits.py">git://searxng_extra/update/update_engine_traits.py</a> is called in
the <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/.github/workflows/data-update.yml">CI Update data …</a></p>
<dl class="py function">
<dt class="sig sig-object py" id="searxng_extra.update.update_engine_traits.fetch_traits_map">
<span class="sig-prename descclassname"><span class="pre">searxng_extra.update.update_engine_traits.</span></span><span class="sig-name descname"><span class="pre">fetch_traits_map</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#searxng_extra.update.update_engine_traits.fetch_traits_map" title="Link to this definition">¶</a></dt>
<dd><p>Fetches supported languages for each engine and writes json file with those.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searxng_extra.update.update_engine_traits.filter_locales">
<span class="sig-prename descclassname"><span class="pre">searxng_extra.update.update_engine_traits.</span></span><span class="sig-name descname"><span class="pre">filter_locales</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">traits_map</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.enginelib.traits.EngineTraitsMap" title="searx.enginelib.traits.EngineTraitsMap"><span class="pre">EngineTraitsMap</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searxng_extra.update.update_engine_traits.filter_locales" title="Link to this definition">¶</a></dt>
<dd><p>Filter language &amp; region tags by a threshold.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searxng_extra.update.update_engine_traits.UnicodeEscape">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searxng_extra.update.update_engine_traits.</span></span><span class="sig-name descname"><span class="pre">UnicodeEscape</span></span><a class="headerlink" href="#searxng_extra.update.update_engine_traits.UnicodeEscape" title="Link to this definition">¶</a></dt>
<dd><p>Escape unicode string in <a class="reference external" href="https://docs.python.org/3/library/pprint.html#pprint.pformat" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pprint.pformat</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searxng_extra.update.update_engine_traits.get_unicode_flag">
<span class="sig-prename descclassname"><span class="pre">searxng_extra.update.update_engine_traits.</span></span><span class="sig-name descname"><span class="pre">get_unicode_flag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://babel.readthedocs.io/en/latest/api/core.html#babel.core.Locale" title="(in Babel v2.2)"><span class="pre">Locale</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searxng_extra.update.update_engine_traits.get_unicode_flag" title="Link to this definition">¶</a></dt>
<dd><p>Determine a unicode flag (emoji) that fits to the <code class="docutils literal notranslate"><span class="pre">locale</span></code></p>
</dd></dl>

</section>
<section id="update-osm-keys-tags-py">
<span id="id2"></span><h5><code class="docutils literal notranslate"><span class="pre">update_osm_keys_tags.py</span></code><a class="headerlink" href="#update-osm-keys-tags-py" title="Link to this heading">¶</a></h5>
<p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searxng_extra/update/update_osm_keys_tags.py">[source]</a></p>
<p id="module-searxng_extra.update.update_osm_keys_tags">Fetch OSM keys and tags.</p>
<p>To get the i18n names, the scripts uses <a class="reference external" href="https://query.wikidata.org/">Wikidata Query Service</a> instead of for
example <a class="reference external" href="https://taginfo.openstreetmap.org/taginfo/apidoc">OSM tags API</a> (side note: the actual change log from
<a class="reference external" href="https://map.atownsend.org.uk/maps/map/changelog.html">map.atownsend.org.uk</a> might be useful to normalize OSM tags).</p>
<p>Output file: <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/data/osm_keys_tags">git://searx/data/osm_keys_tags</a> (<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/.github/workflows/data-update.yml">CI Update data …</a>).</p>
<dl>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPARQL_TAGS_REQUEST</span></code> :</dt><dd><p>Wikidata SPARQL query that returns <em>type-categories</em> and <em>types</em>.  The
returned tag is <code class="docutils literal notranslate"><span class="pre">Tag:{category}={type}</span></code> (see <code class="xref py py-func docutils literal notranslate"><span class="pre">get_tags()</span></code>).
Example:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://taginfo.openstreetmap.org/tags/building=house#overview">https://taginfo.openstreetmap.org/tags/building=house#overview</a></p></li>
<li><p><a class="reference external" href="https://wiki.openstreetmap.org/wiki/Tag:building%3Dhouse">https://wiki.openstreetmap.org/wiki/Tag:building%3Dhouse</a>
at the bottom of the infobox (right side), there is a link to wikidata:
<a class="reference external" href="https://www.wikidata.org/wiki/Q3947">https://www.wikidata.org/wiki/Q3947</a>
see property “OpenStreetMap tag or key” (P1282)</p></li>
<li><p><a class="reference external" href="https://wiki.openstreetmap.org/wiki/Tag%3Abuilding%3Dbungalow">https://wiki.openstreetmap.org/wiki/Tag%3Abuilding%3Dbungalow</a>
<a class="reference external" href="https://www.wikidata.org/wiki/Q850107">https://www.wikidata.org/wiki/Q850107</a></p></li>
</ul>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPARQL_KEYS_REQUEST</span></code> :</dt><dd><p>Wikidata SPARQL query that returns <em>keys</em>.  Example with “payment”:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://wiki.openstreetmap.org/wiki/Key%3Apayment">https://wiki.openstreetmap.org/wiki/Key%3Apayment</a>
at the bottom of infobox (right side), there is a link to wikidata:
<a class="reference external" href="https://www.wikidata.org/wiki/Q1148747">https://www.wikidata.org/wiki/Q1148747</a>
link made using the “OpenStreetMap tag or key” property (P1282)
to be confirm: there is a one wiki page per key ?</p></li>
<li><p><a class="reference external" href="https://taginfo.openstreetmap.org/keys/payment#values">https://taginfo.openstreetmap.org/keys/payment#values</a></p></li>
<li><p><a class="reference external" href="https://taginfo.openstreetmap.org/keys/payment:cash#values">https://taginfo.openstreetmap.org/keys/payment:cash#values</a></p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">rdfs:label</span></code> get all the labels without language selection
(as opposed to SERVICE <code class="docutils literal notranslate"><span class="pre">wikibase:label</span></code>).</p>
</dd>
</dl>
</section>
<section id="update-pygments-py">
<h5><code class="docutils literal notranslate"><span class="pre">update_pygments.py</span></code><a class="headerlink" href="#update-pygments-py" title="Link to this heading">¶</a></h5>
<p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searxng_extra/update/update_pygments.py">[source]</a></p>
<p id="module-searxng_extra.update.update_pygments">Update pygments style</p>
<p>Call this script after each upgrade of pygments</p>
<dl class="py class">
<dt class="sig sig-object py" id="searxng_extra.update.update_pygments.Formatter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searxng_extra.update.update_pygments.</span></span><span class="sig-name descname"><span class="pre">Formatter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searxng_extra.update.update_pygments.Formatter" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="update-locales-py">
<span id="id3"></span><h5><code class="docutils literal notranslate"><span class="pre">update_locales.py</span></code><a class="headerlink" href="#update-locales-py" title="Link to this heading">¶</a></h5>
<p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searxng_extra/update/update_locales.py">[source]</a></p>
<p id="module-searxng_extra.update.update_locales">Update locale names in <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/data/locales.json">git://searx/data/locales.json</a> used by
<a class="reference internal" href="#searx-locales"><span class="std std-ref">Locales</span></a></p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.locales.RTL_LOCALES" title="searx.locales.RTL_LOCALES"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.locales.RTL_LOCALES</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.locales.LOCALE_NAMES" title="searx.locales.LOCALE_NAMES"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.locales.LOCALE_NAMES</span></code></a></p></li>
</ul>
<dl class="py function">
<dt class="sig sig-object py" id="searxng_extra.update.update_locales.get_locale_descr">
<span class="sig-prename descclassname"><span class="pre">searxng_extra.update.update_locales.</span></span><span class="sig-name descname"><span class="pre">get_locale_descr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://babel.readthedocs.io/en/latest/api/core.html#babel.core.Locale" title="(in Babel v2.2)"><span class="pre">Locale</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">tr_locale</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searxng_extra.update.update_locales.get_locale_descr" title="Link to this definition">¶</a></dt>
<dd><p>Get locale name e.g. ‘Français - fr’ or ‘Português (Brasil) - pt-BR’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>locale</strong> – instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">Locale</span></code></p></li>
<li><p><strong>tr_locale</strong> – name e.g. ‘fr’  or ‘pt_BR’ (delimiter is <em>underscore</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="update-wikidata-units-py">
<h5><code class="docutils literal notranslate"><span class="pre">update_wikidata_units.py</span></code><a class="headerlink" href="#update-wikidata-units-py" title="Link to this heading">¶</a></h5>
<p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searxng_extra/update/update_wikidata_units.py">[source]</a></p>
<p id="module-searxng_extra.update.update_wikidata_units">Fetch units from <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/engines/wikidata.py">git://searx/engines/wikidata.py</a> engine.</p>
<p>Output file: <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/data/wikidata_units.json">git://searx/data/wikidata_units.json</a> (<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/.github/workflows/data-update.yml">CI Update data
…</a>).</p>
</section>
</section>
<span id="document-dev/searxng_extra/standalone_searx.py"></span><section id="module-searxng_extra.standalone_searx">
<span id="searxng-extra-standalone-searx-py"></span><span id="standalone-searx-py"></span><h4><code class="docutils literal notranslate"><span class="pre">searxng_extra/standalone_searx.py</span></code><a class="headerlink" href="#module-searxng_extra.standalone_searx" title="Link to this heading">¶</a></h4>
<p>Script to run SearXNG from terminal.</p>
<blockquote>
<div><p>DON’T USE THIS SCRIPT!!</p>
</div></blockquote>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Be warned, using the <code class="docutils literal notranslate"><span class="pre">standalone_searx.py</span></code> won’t give you privacy!</p>
<p>On the contrary, this script behaves like a SearXNG server: your IP is
exposed and tracked by all active engines (google, bing, qwant, … ), with
every query!</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is an old and grumpy hack / SearXNG is a Flask application with
client/server structure, which can’t be turned into a command line tool the
way it was done here.</p>
</div>
<p>Getting categories without initiate the engine will only return <cite>[‘general’]</cite></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">searx.engines</span>
<span class="gp">... </span><span class="nb">list</span><span class="p">(</span><span class="n">searx</span><span class="o">.</span><span class="n">engines</span><span class="o">.</span><span class="n">categories</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">[&#39;general&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">searx.search</span>
<span class="gp">... </span><span class="n">searx</span><span class="o">.</span><span class="n">search</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
<span class="gp">... </span><span class="nb">list</span><span class="p">(</span><span class="n">searx</span><span class="o">.</span><span class="n">engines</span><span class="o">.</span><span class="n">categories</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">[&#39;general&#39;, &#39;it&#39;, &#39;science&#39;, &#39;images&#39;, &#39;news&#39;, &#39;videos&#39;, &#39;music&#39;, &#39;files&#39;, &#39;social media&#39;, &#39;map&#39;]</span>
</pre></div>
</div>
<p>Example to use this script:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python3<span class="w"> </span>searxng_extra/standalone_searx.py<span class="w"> </span>rain
</pre></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="searxng_extra.standalone_searx.get_search_query">
<span class="sig-prename descclassname"><span class="pre">searxng_extra.standalone_searx.</span></span><span class="sig-name descname"><span class="pre">get_search_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/argparse.html#argparse.Namespace" title="(in Python v3.13)"><span class="pre">Namespace</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_categories</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#searx.search.SearchQuery" title="searx.search.models.SearchQuery"><span class="pre">SearchQuery</span></a></span></span><a class="headerlink" href="#searxng_extra.standalone_searx.get_search_query" title="Link to this definition">¶</a></dt>
<dd><p>Get  search results for the query</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searxng_extra.standalone_searx.no_parsed_url">
<span class="sig-prename descclassname"><span class="pre">searxng_extra.standalone_searx.</span></span><span class="sig-name descname"><span class="pre">no_parsed_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">results</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#searxng_extra.standalone_searx.no_parsed_url" title="Link to this definition">¶</a></dt>
<dd><p>Remove parsed url from dict.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searxng_extra.standalone_searx.json_serial">
<span class="sig-prename descclassname"><span class="pre">searxng_extra.standalone_searx.</span></span><span class="sig-name descname"><span class="pre">json_serial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></span><a class="headerlink" href="#searxng_extra.standalone_searx.json_serial" title="Link to this definition">¶</a></dt>
<dd><p>JSON serializer for objects not serializable by default json code.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.13)"><strong>TypeError</strong></a> – raised when <strong>obj</strong> is not serializable</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searxng_extra.standalone_searx.to_dict">
<span class="sig-prename descclassname"><span class="pre">searxng_extra.standalone_searx.</span></span><span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.search.SearchQuery" title="searx.search.models.SearchQuery"><span class="pre">SearchQuery</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#searxng_extra.standalone_searx.to_dict" title="Link to this definition">¶</a></dt>
<dd><p>Get result from parsed arguments.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searxng_extra.standalone_searx.parse_argument">
<span class="sig-prename descclassname"><span class="pre">searxng_extra.standalone_searx.</span></span><span class="sig-name descname"><span class="pre">parse_argument</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">category_choices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/argparse.html#argparse.Namespace" title="(in Python v3.13)"><span class="pre">Namespace</span></a></span></span><a class="headerlink" href="#searxng_extra.standalone_searx.parse_argument" title="Link to this definition">¶</a></dt>
<dd><p>Parse command line.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#SystemExit" title="(in Python v3.13)"><strong>SystemExit</strong></a> – Query argument required on <cite>args</cite></p>
</dd>
</dl>
<p>Examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">importlib</span>
<span class="gp">... </span><span class="c1"># load module</span>
<span class="gp">... </span><span class="n">spec</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">spec_from_file_location</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;utils.standalone_searx&#39;</span><span class="p">,</span> <span class="s1">&#39;utils/standalone_searx.py&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="n">sas</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">module_from_spec</span><span class="p">(</span><span class="n">spec</span><span class="p">)</span>
<span class="gp">... </span><span class="n">spec</span><span class="o">.</span><span class="n">loader</span><span class="o">.</span><span class="n">exec_module</span><span class="p">(</span><span class="n">sas</span><span class="p">)</span>
<span class="gp">... </span><span class="n">sas</span><span class="o">.</span><span class="n">parse_argument</span><span class="p">()</span>
<span class="go">usage: ptipython [-h] [--category [{general}]] [--lang [LANG]] [--pageno [PAGENO]] [--safesearch [{0,1,2}]] [--timerange [{day,week,month,year}]]</span>
<span class="go">                 query</span>
<span class="go">SystemExit: 2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sas</span><span class="o">.</span><span class="n">parse_argument</span><span class="p">([</span><span class="s1">&#39;rain&#39;</span><span class="p">])</span>
<span class="go">Namespace(category=&#39;general&#39;, lang=&#39;all&#39;, pageno=1, query=&#39;rain&#39;, safesearch=&#39;0&#39;, timerange=None)</span>
</pre></div>
</div>
</dd></dl>

</section>
</div>
</section>
</div>
</section>
<span id="document-utils/index"></span><section id="devops-tooling-box">
<span id="toolboxing"></span><span id="searx-utils"></span><h2>DevOps tooling box<a class="headerlink" href="#devops-tooling-box" title="Link to this heading">¶</a></h2>
<p>In the folder <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/utils/">git://utils/</a> we maintain some tools useful for administrators
and developers.</p>
<div class="toctree-wrapper compound">
<span id="document-utils/searxng.sh"></span><section id="utils-searxng-sh">
<span id="searxng-sh"></span><h3><code class="docutils literal notranslate"><span class="pre">utils/searxng.sh</span></code><a class="headerlink" href="#utils-searxng-sh" title="Link to this heading">¶</a></h3>
<p>To simplify the installation and maintenance of an Infinity Search instance you can use the
script <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/utils/infinity-search.sh">git://utils/infinity-search.sh</a>.</p>
<aside class="sidebar">
<p class="sidebar-title">further reading</p>
<ul class="simple">
<li><p><a class="reference internal" href="#architecture"><span class="std std-ref">Architecture</span></a></p></li>
<li><p><a class="reference internal" href="#installation"><span class="std std-ref">Installation</span></a></p></li>
<li><p><a class="reference internal" href="#installation-nginx"><span class="std std-ref">NGINX</span></a></p></li>
<li><p><a class="reference internal" href="#installation-apache"><span class="std std-ref">Apache</span></a></p></li>
</ul>
</aside>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#install" id="id1">Install</a></p></li>
<li><p><a class="reference internal" href="#command-help" id="id2">Command Help</a></p></li>
</ul>
</nav>
<section id="install">
<h4><a class="toc-backref" href="#id1" role="doc-backlink">Install</a><a class="headerlink" href="#install" title="Link to this heading">¶</a></h4>
<p>In most cases you will install Infinity Search simply by running the command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-H<span class="w"> </span>./utils/infinity-search.sh<span class="w"> </span>install<span class="w"> </span>all
</pre></div>
</div>
<p>The installation is described in chapter <a class="reference internal" href="#installation-basic"><span class="std std-ref">Step by step installation</span></a>.</p>
</section>
<section id="command-help">
<span id="searxng-sh-overview"></span><h4><a class="toc-backref" href="#id2" role="doc-backlink">Command Help</a><a class="headerlink" href="#command-help" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">--help</span></code> output of the script is largely self-explanatory:</p>
<aside class="system-message">
<p class="system-message-title">System Message: ERROR/6 (<span class="docutils literal">/mnt/d/code/s/docs/utils/searxng.sh.rst</span>, line 42)</p>
<p>Command ['../utils/infinity-search.sh', '--help'] failed: [Errno 2] No such file or directory: '../utils/infinity-search.sh'</p>
</aside>
</section>
</section>
</div>
<section id="common-command-environments">
<h3>Common command environments<a class="headerlink" href="#common-command-environments" title="Link to this heading">¶</a></h3>
<p>The scripts in our tooling box often dispose of common environments:</p>
<dl id="force-timeout">
<dt><code class="docutils literal notranslate"><span class="pre">FORCE_TIMEOUT</span></code><span class="classifier">environment</span></dt><dd><p>Sets timeout for interactive prompts. If you want to run a script in batch
job, with defaults choices, set <code class="docutils literal notranslate"><span class="pre">FORCE_TIMEOUT=0</span></code>.  By example; to install a
SearXNG server and nginx proxy use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ FORCE_TIMEOUT=0 ./utils/infinity-search.sh install all
$ FORCE_TIMEOUT=0 ./utils/infinity-search.sh install nginx
</pre></div>
</div>
</dd>
</dl>
</section>
</section>
<span id="document-src/index"></span><section id="source-code">
<h2>Source-Code<a class="headerlink" href="#source-code" title="Link to this heading">¶</a></h2>
<p>This is a partial documentation of our source code.  We are not aiming to
document every item from the source code, but we will add documentation when
requested.</p>
<div class="toctree-wrapper compound">
<span id="document-src/searx.babel_extract"></span><section id="module-searx.babel_extract">
<span id="custom-message-extractor-i18n"></span><span id="searx-babel-extract"></span><h3>Custom message extractor (i18n)<a class="headerlink" href="#module-searx.babel_extract" title="Link to this heading">¶</a></h3>
<p>This module implements the <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/babel.cfg">searxng_msg</a> extractor to
extract messages from:</p>
<ul class="simple">
<li><p><a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/searxng.msg">git://searx/searxng.msg</a></p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">searxng.msg</span></code> files are selected by <a class="reference external" href="https://babel.pocoo.org/en/latest/index.html">Babel</a>, see Babel’s configuration in
<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/babel.cfg">git://babel.cfg</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">searxng_msg</span> <span class="o">=</span> <span class="n">searx</span><span class="o">.</span><span class="n">babel_extract</span><span class="o">.</span><span class="n">extract</span>
<span class="o">...</span>
<span class="p">[</span><span class="n">searxng_msg</span><span class="p">:</span> <span class="o">**/</span><span class="n">searxng</span><span class="o">.</span><span class="n">msg</span><span class="p">]</span>
</pre></div>
</div>
<p>A <code class="docutils literal notranslate"><span class="pre">searxng.msg</span></code> file is a python file that is <em>executed</em> by the
<a class="reference internal" href="#searx.babel_extract.extract" title="searx.babel_extract.extract"><code class="xref py py-obj docutils literal notranslate"><span class="pre">extract</span></code></a> function.  Additional <code class="docutils literal notranslate"><span class="pre">searxng.msg</span></code> files can be added by:</p>
<ol class="arabic simple">
<li><p>Adding a <code class="docutils literal notranslate"><span class="pre">searxng.msg</span></code> file in one of the SearXNG python packages and</p></li>
<li><p>implement a method in <a class="reference internal" href="#searx.babel_extract.extract" title="searx.babel_extract.extract"><code class="xref py py-obj docutils literal notranslate"><span class="pre">extract</span></code></a> that yields messages from this file.</p></li>
</ol>
<dl class="py function">
<dt class="sig sig-object py" id="searx.babel_extract.extract">
<span class="sig-prename descclassname"><span class="pre">searx.babel_extract.</span></span><span class="sig-name descname"><span class="pre">extract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileobj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keywords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment_tags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.babel_extract.extract" title="Link to this definition">¶</a></dt>
<dd><p>Extract messages from <code class="docutils literal notranslate"><span class="pre">searxng.msg</span></code> files by a custom <a class="reference external" href="https://babel.pocoo.org/en/latest/messages.html#writing-extraction-methods">extractor</a>.</p>
</dd></dl>

</section>
<span id="document-src/searx.botdetection"></span><section id="bot-detection">
<span id="botdetection"></span><h3>Bot Detection<a class="headerlink" href="#bot-detection" title="Link to this heading">¶</a></h3>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#module-searx.botdetection.ip_lists" id="id4">IP lists</a></p>
<ul>
<li><p><a class="reference internal" href="#method-ip-lists" id="id5">Method <code class="docutils literal notranslate"><span class="pre">ip_lists</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#module-searx.botdetection.ip_limit" id="id6">Rate limit</a></p>
<ul>
<li><p><a class="reference internal" href="#method-ip-limit" id="id7">Method <code class="docutils literal notranslate"><span class="pre">ip_limit</span></code></a></p></li>
<li><p><a class="reference internal" href="#method-link-token" id="id8">Method <code class="docutils literal notranslate"><span class="pre">link_token</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#module-searx.botdetection.http_accept" id="id9">Probe HTTP headers</a></p>
<ul>
<li><p><a class="reference internal" href="#method-http-accept" id="id10">Method <code class="docutils literal notranslate"><span class="pre">http_accept</span></code></a></p></li>
<li><p><a class="reference internal" href="#method-http-accept-encoding" id="id11">Method <code class="docutils literal notranslate"><span class="pre">http_accept_encoding</span></code></a></p></li>
<li><p><a class="reference internal" href="#method-http-accept-language" id="id12">Method <code class="docutils literal notranslate"><span class="pre">http_accept_language</span></code></a></p></li>
<li><p><a class="reference internal" href="#method-http-connection" id="id13">Method <code class="docutils literal notranslate"><span class="pre">http_connection</span></code></a></p></li>
<li><p><a class="reference internal" href="#method-http-user-agent" id="id14">Method <code class="docutils literal notranslate"><span class="pre">http_user_agent</span></code></a></p></li>
<li><p><a class="reference internal" href="#method-http-sec-fetch" id="id15">Method <code class="docutils literal notranslate"><span class="pre">http_sec_fetch</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#module-searx.botdetection.config" id="id16">Config</a></p></li>
</ul>
</nav>
<p id="botdetection-src"><span id="module-searx.botdetection"></span>Implementations used for bot detection.</p>
<dl class="py function">
<dt class="sig sig-object py" id="searx.botdetection.get_network">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.</span></span><span class="sig-name descname"><span class="pre">get_network</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">real_ip</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">IPv4Address</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">IPv6Address</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.botdetection.config.Config" title="searx.botdetection.config.Config"><span class="pre">config.Config</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">IPv4Network</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">IPv6Network</span></span></span><a class="headerlink" href="#searx.botdetection.get_network" title="Link to this definition">¶</a></dt>
<dd><p>Returns the (client) network of whether the <code class="docutils literal notranslate"><span class="pre">real_ip</span></code> is part of.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">ipv4_prefix</span></code> and <code class="docutils literal notranslate"><span class="pre">ipv6_prefix</span></code> define the number of leading bits in
an address that are compared to determine whether or not an address is part
of a (client) network.</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[botdetection]</span>

<span class="n">ipv4_prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">32</span>
<span class="n">ipv6_prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">48</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.botdetection.too_many_requests">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.</span></span><span class="sig-name descname"><span class="pre">too_many_requests</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">network</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/ipaddress.html#ipaddress.IPv4Network" title="(in Python v3.13)"><span class="pre">IPv4Network</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/ipaddress.html#ipaddress.IPv6Network" title="(in Python v3.13)"><span class="pre">IPv6Network</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://werkzeug.palletsprojects.com/en/stable/wrappers/#werkzeug.wrappers.Response" title="(in Werkzeug v3.1.x)"><span class="pre">Response</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#searx.botdetection.too_many_requests" title="Link to this definition">¶</a></dt>
<dd><p>Returns a HTTP 429 response object and writes a ERROR message to the
‘botdetection’ logger.  This function is used in part by the filter methods
to return the default <code class="docutils literal notranslate"><span class="pre">Too</span> <span class="pre">Many</span> <span class="pre">Requests</span></code> response.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.botdetection.ProxyFix">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.botdetection.</span></span><span class="sig-name descname"><span class="pre">ProxyFix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wsgi_app</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">WSGIApplication</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.botdetection.ProxyFix" title="Link to this definition">¶</a></dt>
<dd><p>A middleware like the <a class="reference external" href="https://werkzeug.palletsprojects.com/middleware/proxy_fix/">ProxyFix</a> class, where the <code class="docutils literal notranslate"><span class="pre">x_for</span></code> argument is
replaced by a method that determines the number of trusted proxies via the
<code class="docutils literal notranslate"><span class="pre">botdetection.trusted_proxies</span></code> setting.</p>
<aside class="sidebar">
<p class="sidebar-title"><a class="reference external" href="https://flask.palletsprojects.com/en/stable/api/#flask.Request.remote_addr" title="(in Flask v3.1.x)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flask.Request.remote_addr</span></code></a></p>
<p>SearXNG uses Werkzeug’s <a class="reference external" href="https://werkzeug.palletsprojects.com/middleware/proxy_fix/">ProxyFix</a> (with it default <code class="docutils literal notranslate"><span class="pre">x_for=1</span></code>).</p>
</aside>
<p>The remote IP (<a class="reference external" href="https://flask.palletsprojects.com/en/stable/api/#flask.Request.remote_addr" title="(in Flask v3.1.x)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flask.Request.remote_addr</span></code></a>) of the request is taken
from (first match):</p>
<ul class="simple">
<li><p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For">X-Forwarded-For</a>: If the header is set, the first untrusted IP that comes
before the IPs that are still part of the <code class="docutils literal notranslate"><span class="pre">botdetection.trusted_proxies</span></code>
is used.</p></li>
<li><p><a class="reference external" href="https://github.com/searxng/searxng/issues/1237#issuecomment-1147564516">X-Real-IP</a>:
If <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For">X-Forwarded-For</a> is not set, <cite>X-Real-IP</cite> is used
(<code class="docutils literal notranslate"><span class="pre">botdetection.trusted_proxies</span></code> is ignored).</p></li>
</ul>
<p>If none of the header is set, the <a class="reference external" href="https://wsgi.readthedocs.io/en/latest/proposals-2.0.html#making-some-keys-required">REMOTE_ADDR</a> from the WSGI layer is used.
If (for whatever reasons) none IP can be determined, an error message is
displayed and <code class="docutils literal notranslate"><span class="pre">100::</span></code> is used instead (<span class="target" id="index-0"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc6666.html"><strong>RFC 6666</strong></a>).</p>
</dd></dl>

<section id="module-searx.botdetection.ip_lists">
<span id="ip-lists"></span><span id="botdetection-ip-lists"></span><h4><a class="toc-backref" href="#id4" role="doc-backlink">IP lists</a><a class="headerlink" href="#module-searx.botdetection.ip_lists" title="Link to this heading">¶</a></h4>
<section id="method-ip-lists">
<span id="id1"></span><h5><a class="toc-backref" href="#id5" role="doc-backlink">Method <code class="docutils literal notranslate"><span class="pre">ip_lists</span></code></a><a class="headerlink" href="#method-ip-lists" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">ip_lists</span></code> method implements <a class="reference internal" href="#searx.botdetection.ip_lists.block_ip" title="searx.botdetection.ip_lists.block_ip"><code class="xref py py-obj docutils literal notranslate"><span class="pre">block-list</span></code></a> and
<a class="reference internal" href="#searx.botdetection.ip_lists.pass_ip" title="searx.botdetection.ip_lists.pass_ip"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pass-list</span></code></a>.</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[botdetection.ip_lists]</span>

<span class="n">pass_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="s1">&#39;167.235.158.251&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1"># IPv4 of check.searx.space</span>
<span class="w">  </span><span class="s1">&#39;192.168.0.0/16&#39;</span><span class="p">,</span><span class="w">  </span><span class="c1"># IPv4 private network</span>
<span class="w">  </span><span class="s1">&#39;fe80::/10&#39;</span><span class="p">,</span><span class="w">       </span><span class="c1"># IPv6 linklocal</span>
<span class="p">]</span>

<span class="n">block_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="s1">&#39;93.184.216.34&#39;</span><span class="p">,</span><span class="w">   </span><span class="c1"># IPv4 of example.org</span>
<span class="w">  </span><span class="s1">&#39;257.1.1.1&#39;</span><span class="p">,</span><span class="w">       </span><span class="c1"># invalid IP --&gt; will be ignored, logged in ERROR class</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.botdetection.ip_lists.SEARXNG_ORG">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.ip_lists.</span></span><span class="sig-name descname"><span class="pre">SEARXNG_ORG</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['167.235.158.251',</span> <span class="pre">'2a01:04f8:1c1c:8fc2::/64']</span></em><a class="headerlink" href="#searx.botdetection.ip_lists.SEARXNG_ORG" title="Link to this definition">¶</a></dt>
<dd><p>Passlist of IPs from the SearXNG organization, e.g. <cite>check.searx.space</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.botdetection.ip_lists.pass_ip">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.ip_lists.</span></span><span class="sig-name descname"><span class="pre">pass_ip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">real_ip</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/ipaddress.html#ipaddress.IPv4Address" title="(in Python v3.13)"><span class="pre">IPv4Address</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/ipaddress.html#ipaddress.IPv6Address" title="(in Python v3.13)"><span class="pre">IPv6Address</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.botdetection.config.Config" title="searx.botdetection.config.Config"><span class="pre">Config</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#searx.botdetection.ip_lists.pass_ip" title="Link to this definition">¶</a></dt>
<dd><p>Checks if the IP on the subnet is in one of the members of the
<code class="docutils literal notranslate"><span class="pre">botdetection.ip_lists.pass_ip</span></code> list.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.botdetection.ip_lists.block_ip">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.ip_lists.</span></span><span class="sig-name descname"><span class="pre">block_ip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">real_ip</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/ipaddress.html#ipaddress.IPv4Address" title="(in Python v3.13)"><span class="pre">IPv4Address</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/ipaddress.html#ipaddress.IPv6Address" title="(in Python v3.13)"><span class="pre">IPv6Address</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.botdetection.config.Config" title="searx.botdetection.config.Config"><span class="pre">Config</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#searx.botdetection.ip_lists.block_ip" title="Link to this definition">¶</a></dt>
<dd><p>Checks if the IP on the subnet is in one of the members of the
<code class="docutils literal notranslate"><span class="pre">botdetection.ip_lists.block_ip</span></code> list.</p>
</dd></dl>

</section>
<section id="module-searx.botdetection.ip_limit">
<span id="rate-limit"></span><span id="botdetection-rate-limit"></span><h4><a class="toc-backref" href="#id6" role="doc-backlink">Rate limit</a><a class="headerlink" href="#module-searx.botdetection.ip_limit" title="Link to this heading">¶</a></h4>
<section id="method-ip-limit">
<span id="botdetection-ip-limit"></span><h5><a class="toc-backref" href="#id7" role="doc-backlink">Method <code class="docutils literal notranslate"><span class="pre">ip_limit</span></code></a><a class="headerlink" href="#method-ip-limit" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">ip_limit</span></code> method counts request from an IP in <em>sliding windows</em>.  If
there are to many requests in a sliding window, the request is evaluated as a
bot request.  This method requires a valkey DB and needs a HTTP <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For">X-Forwarded-For</a>
header.  To take privacy only the hash value of an IP is stored in the valkey DB
and at least for a maximum of 10 minutes.</p>
<p>The <a class="reference internal" href="#module-searx.botdetection.link_token" title="searx.botdetection.link_token"><code class="xref py py-obj docutils literal notranslate"><span class="pre">link_token</span></code></a> method can be used to investigate whether a request is
<em>suspicious</em>.  To activate the <a class="reference internal" href="#module-searx.botdetection.link_token" title="searx.botdetection.link_token"><code class="xref py py-obj docutils literal notranslate"><span class="pre">link_token</span></code></a> method in the
<a class="reference internal" href="#module-searx.botdetection.ip_limit" title="searx.botdetection.ip_limit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ip_limit</span></code></a> method add the following configuration:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[botdetection.ip_limit]</span>
<span class="n">link_token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</pre></div>
</div>
<p>If the <a class="reference internal" href="#module-searx.botdetection.link_token" title="searx.botdetection.link_token"><code class="xref py py-obj docutils literal notranslate"><span class="pre">link_token</span></code></a> method is activated and a request is <em>suspicious</em>
the request rates are reduced:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.botdetection.ip_limit.BURST_MAX" title="searx.botdetection.ip_limit.BURST_MAX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BURST_MAX</span></code></a> -&gt; <a class="reference internal" href="#searx.botdetection.ip_limit.BURST_MAX_SUSPICIOUS" title="searx.botdetection.ip_limit.BURST_MAX_SUSPICIOUS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BURST_MAX_SUSPICIOUS</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.botdetection.ip_limit.LONG_MAX" title="searx.botdetection.ip_limit.LONG_MAX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LONG_MAX</span></code></a> -&gt; <a class="reference internal" href="#searx.botdetection.ip_limit.LONG_MAX_SUSPICIOUS" title="searx.botdetection.ip_limit.LONG_MAX_SUSPICIOUS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LONG_MAX_SUSPICIOUS</span></code></a></p></li>
</ul>
<p>To intercept bots that get their IPs from a range of IPs, there is a
<a class="reference internal" href="#searx.botdetection.ip_limit.SUSPICIOUS_IP_WINDOW" title="searx.botdetection.ip_limit.SUSPICIOUS_IP_WINDOW"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SUSPICIOUS_IP_WINDOW</span></code></a>.  In this window the suspicious IPs are stored
for a longer time.  IPs stored in this sliding window have a maximum of
<a class="reference internal" href="#searx.botdetection.ip_limit.SUSPICIOUS_IP_MAX" title="searx.botdetection.ip_limit.SUSPICIOUS_IP_MAX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SUSPICIOUS_IP_MAX</span></code></a> accesses before they are blocked.  As soon as the IP
makes a request that is not suspicious, the sliding window for this IP is
dropped.</p>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.botdetection.ip_limit.BURST_WINDOW">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.ip_limit.</span></span><span class="sig-name descname"><span class="pre">BURST_WINDOW</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">20</span></em><a class="headerlink" href="#searx.botdetection.ip_limit.BURST_WINDOW" title="Link to this definition">¶</a></dt>
<dd><p>Time (sec) before sliding window for <em>burst</em> requests expires.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.botdetection.ip_limit.BURST_MAX">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.ip_limit.</span></span><span class="sig-name descname"><span class="pre">BURST_MAX</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">15</span></em><a class="headerlink" href="#searx.botdetection.ip_limit.BURST_MAX" title="Link to this definition">¶</a></dt>
<dd><p>Maximum requests from one IP in the <a class="reference internal" href="#searx.botdetection.ip_limit.BURST_WINDOW" title="searx.botdetection.ip_limit.BURST_WINDOW"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BURST_WINDOW</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.botdetection.ip_limit.BURST_MAX_SUSPICIOUS">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.ip_limit.</span></span><span class="sig-name descname"><span class="pre">BURST_MAX_SUSPICIOUS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#searx.botdetection.ip_limit.BURST_MAX_SUSPICIOUS" title="Link to this definition">¶</a></dt>
<dd><p>Maximum of suspicious requests from one IP in the <a class="reference internal" href="#searx.botdetection.ip_limit.BURST_WINDOW" title="searx.botdetection.ip_limit.BURST_WINDOW"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BURST_WINDOW</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.botdetection.ip_limit.LONG_WINDOW">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.ip_limit.</span></span><span class="sig-name descname"><span class="pre">LONG_WINDOW</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">600</span></em><a class="headerlink" href="#searx.botdetection.ip_limit.LONG_WINDOW" title="Link to this definition">¶</a></dt>
<dd><p>Time (sec) before the longer sliding window expires.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.botdetection.ip_limit.LONG_MAX">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.ip_limit.</span></span><span class="sig-name descname"><span class="pre">LONG_MAX</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">150</span></em><a class="headerlink" href="#searx.botdetection.ip_limit.LONG_MAX" title="Link to this definition">¶</a></dt>
<dd><p>Maximum requests from one IP in the <a class="reference internal" href="#searx.botdetection.ip_limit.LONG_WINDOW" title="searx.botdetection.ip_limit.LONG_WINDOW"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LONG_WINDOW</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.botdetection.ip_limit.LONG_MAX_SUSPICIOUS">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.ip_limit.</span></span><span class="sig-name descname"><span class="pre">LONG_MAX_SUSPICIOUS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10</span></em><a class="headerlink" href="#searx.botdetection.ip_limit.LONG_MAX_SUSPICIOUS" title="Link to this definition">¶</a></dt>
<dd><p>Maximum suspicious requests from one IP in the <a class="reference internal" href="#searx.botdetection.ip_limit.LONG_WINDOW" title="searx.botdetection.ip_limit.LONG_WINDOW"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LONG_WINDOW</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.botdetection.ip_limit.API_WINDOW">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.ip_limit.</span></span><span class="sig-name descname"><span class="pre">API_WINDOW</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3600</span></em><a class="headerlink" href="#searx.botdetection.ip_limit.API_WINDOW" title="Link to this definition">¶</a></dt>
<dd><p>Time (sec) before sliding window for API requests (format != html) expires.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.botdetection.ip_limit.API_MAX">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.ip_limit.</span></span><span class="sig-name descname"><span class="pre">API_MAX</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4</span></em><a class="headerlink" href="#searx.botdetection.ip_limit.API_MAX" title="Link to this definition">¶</a></dt>
<dd><p>Maximum requests from one IP in the <a class="reference internal" href="#searx.botdetection.ip_limit.API_WINDOW" title="searx.botdetection.ip_limit.API_WINDOW"><code class="xref py py-obj docutils literal notranslate"><span class="pre">API_WINDOW</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.botdetection.ip_limit.SUSPICIOUS_IP_WINDOW">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.ip_limit.</span></span><span class="sig-name descname"><span class="pre">SUSPICIOUS_IP_WINDOW</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2592000</span></em><a class="headerlink" href="#searx.botdetection.ip_limit.SUSPICIOUS_IP_WINDOW" title="Link to this definition">¶</a></dt>
<dd><p>Time (sec) before sliding window for one suspicious IP expires.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.botdetection.ip_limit.SUSPICIOUS_IP_MAX">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.ip_limit.</span></span><span class="sig-name descname"><span class="pre">SUSPICIOUS_IP_MAX</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#searx.botdetection.ip_limit.SUSPICIOUS_IP_MAX" title="Link to this definition">¶</a></dt>
<dd><p>Maximum requests from one suspicious IP in the <a class="reference internal" href="#searx.botdetection.ip_limit.SUSPICIOUS_IP_WINDOW" title="searx.botdetection.ip_limit.SUSPICIOUS_IP_WINDOW"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SUSPICIOUS_IP_WINDOW</span></code></a>.</p>
</dd></dl>

<section id="method-link-token">
<span id="module-searx.botdetection.link_token"></span><h5><a class="toc-backref" href="#id8" role="doc-backlink">Method <code class="docutils literal notranslate"><span class="pre">link_token</span></code></a><a class="headerlink" href="#method-link-token" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">link_token</span></code> method evaluates a request as <a class="reference internal" href="#searx.botdetection.link_token.is_suspicious" title="searx.botdetection.link_token.is_suspicious"><code class="xref py py-obj docutils literal notranslate"><span class="pre">suspicious</span></code></a> if the URL <code class="docutils literal notranslate"><span class="pre">/client&lt;token&gt;.css</span></code> is not requested by the
client.  By adding a random component (the token) in the URL, a bot can not send
a ping by request a static URL.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method requires a valkey DB and needs a HTTP <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For">X-Forwarded-For</a> header.</p>
</div>
<p>To get in use of this method a flask URL route needs to be added:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/client&lt;token&gt;.css&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">client_token</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">link_token</span><span class="o">.</span><span class="n">ping</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">token</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">mimetype</span><span class="o">=</span><span class="s1">&#39;text/css&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>And in the HTML template from flask a stylesheet link is needed (the value of
<code class="docutils literal notranslate"><span class="pre">link_token</span></code> comes from <a class="reference internal" href="#searx.botdetection.link_token.get_token" title="searx.botdetection.link_token.get_token"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_token</span></code></a>):</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span>
      <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ url_for(&#39;client_token&#39;, token=link_token) }}&quot;</span>
      <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/css&quot;</span> <span class="p">&gt;</span>
</pre></div>
</div>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.botdetection.link_token.TOKEN_LIVE_TIME">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.link_token.</span></span><span class="sig-name descname"><span class="pre">TOKEN_LIVE_TIME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">600</span></em><a class="headerlink" href="#searx.botdetection.link_token.TOKEN_LIVE_TIME" title="Link to this definition">¶</a></dt>
<dd><p>Lifetime (sec) of limiter’s CSS token.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.botdetection.link_token.PING_LIVE_TIME">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.link_token.</span></span><span class="sig-name descname"><span class="pre">PING_LIVE_TIME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3600</span></em><a class="headerlink" href="#searx.botdetection.link_token.PING_LIVE_TIME" title="Link to this definition">¶</a></dt>
<dd><p>Lifetime (sec) of the ping-key from a client (request)</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.botdetection.link_token.PING_KEY">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.link_token.</span></span><span class="sig-name descname"><span class="pre">PING_KEY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'SearXNG_limiter.ping'</span></em><a class="headerlink" href="#searx.botdetection.link_token.PING_KEY" title="Link to this definition">¶</a></dt>
<dd><p>Prefix of all ping-keys generated by <a class="reference internal" href="#searx.botdetection.link_token.get_ping_key" title="searx.botdetection.link_token.get_ping_key"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_ping_key</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.botdetection.link_token.TOKEN_KEY">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.link_token.</span></span><span class="sig-name descname"><span class="pre">TOKEN_KEY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'SearXNG_limiter.token'</span></em><a class="headerlink" href="#searx.botdetection.link_token.TOKEN_KEY" title="Link to this definition">¶</a></dt>
<dd><p>Key for which the current token is stored in the DB</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.botdetection.link_token.is_suspicious">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.link_token.</span></span><span class="sig-name descname"><span class="pre">is_suspicious</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">network</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/ipaddress.html#ipaddress.IPv4Network" title="(in Python v3.13)"><span class="pre">IPv4Network</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/ipaddress.html#ipaddress.IPv6Network" title="(in Python v3.13)"><span class="pre">IPv6Network</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://flask.palletsprojects.com/en/stable/api/#flask.Request" title="(in Flask v3.1.x)"><span class="pre">Request</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">renew</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.botdetection.link_token.is_suspicious" title="Link to this definition">¶</a></dt>
<dd><p>Checks whether a valid ping is exists for this (client) network, if not
this request is rated as <em>suspicious</em>.  If a valid ping exists and argument
<code class="docutils literal notranslate"><span class="pre">renew</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> the expire time of this ping is reset to
<a class="reference internal" href="#searx.botdetection.link_token.PING_LIVE_TIME" title="searx.botdetection.link_token.PING_LIVE_TIME"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PING_LIVE_TIME</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.botdetection.link_token.ping">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.link_token.</span></span><span class="sig-name descname"><span class="pre">ping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://flask.palletsprojects.com/en/stable/api/#flask.Request" title="(in Flask v3.1.x)"><span class="pre">Request</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.botdetection.link_token.ping" title="Link to this definition">¶</a></dt>
<dd><p>This function is called by a request to URL <code class="docutils literal notranslate"><span class="pre">/client&lt;token&gt;.css</span></code>.  If
<code class="docutils literal notranslate"><span class="pre">token</span></code> is valid a <a class="reference internal" href="#searx.botdetection.link_token.PING_KEY" title="searx.botdetection.link_token.PING_KEY"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PING_KEY</span></code></a> for the client is stored in the DB.
The expire time of this ping-key is <a class="reference internal" href="#searx.botdetection.link_token.PING_LIVE_TIME" title="searx.botdetection.link_token.PING_LIVE_TIME"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PING_LIVE_TIME</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.botdetection.link_token.get_ping_key">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.link_token.</span></span><span class="sig-name descname"><span class="pre">get_ping_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">network</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/ipaddress.html#ipaddress.IPv4Network" title="(in Python v3.13)"><span class="pre">IPv4Network</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/ipaddress.html#ipaddress.IPv6Network" title="(in Python v3.13)"><span class="pre">IPv6Network</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://flask.palletsprojects.com/en/stable/api/#flask.Request" title="(in Flask v3.1.x)"><span class="pre">Request</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#searx.botdetection.link_token.get_ping_key" title="Link to this definition">¶</a></dt>
<dd><p>Generates a hashed key that fits (more or less) to a <em>WEB-browser
session</em> in a network.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.botdetection.link_token.get_token">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.link_token.</span></span><span class="sig-name descname"><span class="pre">get_token</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#searx.botdetection.link_token.get_token" title="Link to this definition">¶</a></dt>
<dd><p>Returns current token.  If there is no currently active token a new token
is generated randomly and stored in the Valkey DB.  Without without a
database connection, string “12345678” is returned.</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.botdetection.link_token.TOKEN_LIVE_TIME" title="searx.botdetection.link_token.TOKEN_LIVE_TIME"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TOKEN_LIVE_TIME</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.botdetection.link_token.TOKEN_KEY" title="searx.botdetection.link_token.TOKEN_KEY"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TOKEN_KEY</span></code></a></p></li>
</ul>
</dd></dl>

</section>
<section id="module-searx.botdetection.http_accept">
<span id="probe-http-headers"></span><span id="botdetection-probe-headers"></span><h4><a class="toc-backref" href="#id9" role="doc-backlink">Probe HTTP headers</a><a class="headerlink" href="#module-searx.botdetection.http_accept" title="Link to this heading">¶</a></h4>
<section id="method-http-accept">
<h5><a class="toc-backref" href="#id10" role="doc-backlink">Method <code class="docutils literal notranslate"><span class="pre">http_accept</span></code></a><a class="headerlink" href="#method-http-accept" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">http_accept</span></code> method evaluates a request as the request of a bot if the
<a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept">Accept</a> header ..</p>
<ul class="simple">
<li><p>did not contain <code class="docutils literal notranslate"><span class="pre">text/html</span></code></p></li>
</ul>
</section>
<section id="method-http-accept-encoding">
<span id="module-searx.botdetection.http_accept_encoding"></span><h5><a class="toc-backref" href="#id11" role="doc-backlink">Method <code class="docutils literal notranslate"><span class="pre">http_accept_encoding</span></code></a><a class="headerlink" href="#method-http-accept-encoding" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">http_accept_encoding</span></code> method evaluates a request as the request of a
bot if the <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Encoding">Accept-Encoding</a> header ..</p>
<ul class="simple">
<li><p>did not contain <code class="docutils literal notranslate"><span class="pre">gzip</span></code> AND <code class="docutils literal notranslate"><span class="pre">deflate</span></code> (if both values are missed)</p></li>
<li><p>did not contain <code class="docutils literal notranslate"><span class="pre">text/html</span></code></p></li>
</ul>
</section>
<section id="method-http-accept-language">
<span id="module-searx.botdetection.http_accept_language"></span><h5><a class="toc-backref" href="#id12" role="doc-backlink">Method <code class="docutils literal notranslate"><span class="pre">http_accept_language</span></code></a><a class="headerlink" href="#method-http-accept-language" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">http_accept_language</span></code> method evaluates a request as the request of a bot
if the <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/User-Agent">Accept-Language</a> header is unset.</p>
</section>
<section id="method-http-connection">
<span id="module-searx.botdetection.http_connection"></span><h5><a class="toc-backref" href="#id13" role="doc-backlink">Method <code class="docutils literal notranslate"><span class="pre">http_connection</span></code></a><a class="headerlink" href="#method-http-connection" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">http_connection</span></code> method evaluates a request as the request of a bot if
the <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Connection">Connection</a> header is set to <code class="docutils literal notranslate"><span class="pre">close</span></code>.</p>
</section>
<section id="method-http-user-agent">
<span id="module-searx.botdetection.http_user_agent"></span><h5><a class="toc-backref" href="#id14" role="doc-backlink">Method <code class="docutils literal notranslate"><span class="pre">http_user_agent</span></code></a><a class="headerlink" href="#method-http-user-agent" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">http_user_agent</span></code> method evaluates a request as the request of a bot if
the <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/User-Agent">User-Agent</a> header is unset or matches the regular expression
<a class="reference internal" href="#searx.botdetection.http_user_agent.USER_AGENT" title="searx.botdetection.http_user_agent.USER_AGENT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">USER_AGENT</span></code></a>.</p>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.botdetection.http_user_agent.USER_AGENT">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.http_user_agent.</span></span><span class="sig-name descname"><span class="pre">USER_AGENT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'(unknown|[Cc][Uu][Rr][Ll]|[wW]get|Scrapy|splash|JavaFX|FeedFetcher|python-requests|Go-http-client|Java|Jakarta|okhttp|HttpClient|Jersey|Python|libwww-perl|Ruby|SynHttpClient|UniversalFeedParser|Googlebot|GoogleImageProxy|bingbot|Baiduspider|yacybot|YandexMobileBot|YandexBot|Yahoo!</span> <span class="pre">Slurp|MJ12bot|AhrefsBot|archive.org_bot|msnbot|MJ12bot|SeznamBot|linkdexbot|Netvibes|SMTBot|zgrab|James</span> <span class="pre">BOT|Sogou|Abonti|Pixray|Spinn3r|SemrushBot|Exabot|ZmEu|BLEXBot|bitlybot|HeadlessChrome|Mozilla/5\\.0\\</span> <span class="pre">\\(compatible;\\</span> <span class="pre">Farside/0\\.1\\.0;\\</span> <span class="pre">\\+https://farside\\.link\\)|.*PetalBot.*)'</span></em><a class="headerlink" href="#searx.botdetection.http_user_agent.USER_AGENT" title="Link to this definition">¶</a></dt>
<dd><p>Regular expression that matches to <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/User-Agent">User-Agent</a> from known <em>bots</em></p>
</dd></dl>

<section id="method-http-sec-fetch">
<span id="module-searx.botdetection.http_sec_fetch"></span><h5><a class="toc-backref" href="#id15" role="doc-backlink">Method <code class="docutils literal notranslate"><span class="pre">http_sec_fetch</span></code></a><a class="headerlink" href="#method-http-sec-fetch" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">http_sec_fetch</span></code> method protect resources from web attacks with <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Glossary/Fetch_metadata_request_header">Fetch
Metadata</a>.  A request is filtered out in case of:</p>
<ul class="simple">
<li><p>http header <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/API/Request/mode">Sec-Fetch-Mode</a> is invalid</p></li>
<li><p>http header <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/API/Request/destination">Sec-Fetch-Dest</a> is invalid</p></li>
</ul>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="searx.botdetection.http_sec_fetch.is_browser_supported">
<span class="sig-prename descclassname"><span class="pre">searx.botdetection.http_sec_fetch.</span></span><span class="sig-name descname"><span class="pre">is_browser_supported</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_agent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#searx.botdetection.http_sec_fetch.is_browser_supported" title="Link to this definition">¶</a></dt>
<dd><p>Check if the browser supports Sec-Fetch headers.</p>
<p><a class="reference external" href="https://caniuse.com/mdn-http_headers_sec-fetch-dest">https://caniuse.com/mdn-http_headers_sec-fetch-dest</a>
<a class="reference external" href="https://caniuse.com/mdn-http_headers_sec-fetch-mode">https://caniuse.com/mdn-http_headers_sec-fetch-mode</a>
<a class="reference external" href="https://caniuse.com/mdn-http_headers_sec-fetch-site">https://caniuse.com/mdn-http_headers_sec-fetch-site</a></p>
<p>Supported browsers:
- Chrome &gt;= 80
- Firefox &gt;= 90
- Safari &gt;= 16.4
- Edge (mirrors Chrome)
- Opera (mirrors Chrome)</p>
</dd></dl>

</section>
<section id="module-searx.botdetection.config">
<span id="config"></span><span id="botdetection-config"></span><h4><a class="toc-backref" href="#id16" role="doc-backlink">Config</a><a class="headerlink" href="#module-searx.botdetection.config" title="Link to this heading">¶</a></h4>
<p>Configuration class <a class="reference internal" href="#searx.botdetection.config.Config" title="searx.botdetection.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">Config</span></code></a> with deep-update, schema validation
and deprecated names.</p>
<p>The <a class="reference internal" href="#searx.botdetection.config.Config" title="searx.botdetection.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">Config</span></code></a> class implements a configuration that is based on
structured dictionaries.  The configuration schema is defined in a dictionary
structure and the configuration data is given in a dictionary structure.</p>
<dl class="py class">
<dt class="sig sig-object py" id="searx.botdetection.config.Config">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.botdetection.config.</span></span><span class="sig-name descname"><span class="pre">Config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg_schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deprecated</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.botdetection.config.Config" title="Link to this definition">¶</a></dt>
<dd><p>Base class used for configuration</p>
<dl class="py method">
<dt class="sig sig-object py" id="searx.botdetection.config.Config.validate">
<span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.botdetection.config.Config.validate" title="Link to this definition">¶</a></dt>
<dd><p>Validation of dictionary <code class="docutils literal notranslate"><span class="pre">cfg</span></code> on <code class="xref py py-obj docutils literal notranslate"><span class="pre">Config.SCHEMA</span></code>.
Validation is done by <a class="reference internal" href="#searx.botdetection.config.Config.validate" title="searx.botdetection.config.Config.validate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">validate</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.botdetection.config.Config.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">upd_cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.botdetection.config.Config.update" title="Link to this definition">¶</a></dt>
<dd><p>Update this configuration by <code class="docutils literal notranslate"><span class="pre">upd_cfg</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.botdetection.config.Config.default">
<span class="sig-name descname"><span class="pre">default</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.botdetection.config.Config.default" title="Link to this definition">¶</a></dt>
<dd><p>Returns default value of field <code class="docutils literal notranslate"><span class="pre">name</span></code> in <code class="docutils literal notranslate"><span class="pre">self.cfg_schema</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.botdetection.config.Config.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default:</span> <span class="pre">~typing.Any</span> <span class="pre">=</span> <span class="pre">&lt;UNSET&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></span><a class="headerlink" href="#searx.botdetection.config.Config.get" title="Link to this definition">¶</a></dt>
<dd><p>Returns the value to which <code class="docutils literal notranslate"><span class="pre">name</span></code> points in the configuration.</p>
<p>If there is no such <code class="docutils literal notranslate"><span class="pre">name</span></code> in the config and the <code class="docutils literal notranslate"><span class="pre">default</span></code> is
<code class="xref py py-obj docutils literal notranslate"><span class="pre">UNSET</span></code>, a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">KeyError</span></code></a> is raised.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.botdetection.config.Config.set">
<span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.botdetection.config.Config.set" title="Link to this definition">¶</a></dt>
<dd><p>Set the value to which <code class="docutils literal notranslate"><span class="pre">name</span></code> points in the configuration.</p>
<p>If there is no such <code class="docutils literal notranslate"><span class="pre">name</span></code> in the config, a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">KeyError</span></code></a> is
raised.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.botdetection.config.Config.path">
<span class="sig-name descname"><span class="pre">path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default=&lt;UNSET&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.botdetection.config.Config.path" title="Link to this definition">¶</a></dt>
<dd><p>Get a <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pathlib.Path</span></code></a> object from a config string.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.botdetection.config.Config.pyobj">
<span class="sig-name descname"><span class="pre">pyobj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default=&lt;UNSET&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.botdetection.config.Config.pyobj" title="Link to this definition">¶</a></dt>
<dd><p>Get python object referred by full qualiffied name (FQN) in the config
string.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="searx.botdetection.config.SchemaIssue">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.botdetection.config.</span></span><span class="sig-name descname"><span class="pre">SchemaIssue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'warn'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'invalid'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.botdetection.config.SchemaIssue" title="Link to this definition">¶</a></dt>
<dd><p>Exception to store and/or raise a message from a schema issue.</p>
</dd></dl>

</section>
</section>
<span id="document-src/searx.cache"></span><section id="module-searx.cache">
<span id="caches"></span><span id="searx-cache"></span><h3>Caches<a class="headerlink" href="#module-searx.cache" title="Link to this heading">¶</a></h3>
<p>Implementation of caching solutions.</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.cache.ExpireCache" title="searx.cache.ExpireCache"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.cache.ExpireCache</span></code></a> and its <a class="reference internal" href="#searx.cache.ExpireCacheCfg" title="searx.cache.ExpireCacheCfg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.cache.ExpireCacheCfg</span></code></a></p></li>
</ul>
<hr class="docutils" />
<dl class="py class">
<dt class="sig sig-object py" id="searx.cache.ExpireCacheCfg">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.cache.</span></span><span class="sig-name descname"><span class="pre">ExpireCacheCfg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MAX_VALUE_LEN</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10240</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MAXHOLD_TIME</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">604800</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MAINTENANCE_PERIOD</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MAINTENANCE_MODE</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'off'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">b'f267fe000cb84c4a089d7212773fa82a9a01e56dd8f70f533588d982cccd6445'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.cache.ExpireCacheCfg" title="Link to this definition">¶</a></dt>
<dd><p>Configuration of a <a class="reference internal" href="#searx.cache.ExpireCache" title="searx.cache.ExpireCache"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ExpireCache</span></code></a> cache.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.cache.ExpireCacheCfg.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.cache.ExpireCacheCfg.name" title="Link to this definition">¶</a></dt>
<dd><p>Name of the cache.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.cache.ExpireCacheCfg.db_url">
<span class="sig-name descname"><span class="pre">db_url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.cache.ExpireCacheCfg.db_url" title="Link to this definition">¶</a></dt>
<dd><p>URL of the SQLite DB, the path to the database file.  If unset a default
DB will be created in <cite>/tmp/sxng_cache_{self.name}.db</cite></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.cache.ExpireCacheCfg.MAX_VALUE_LEN">
<span class="sig-name descname"><span class="pre">MAX_VALUE_LEN</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#searx.cache.ExpireCacheCfg.MAX_VALUE_LEN" title="Link to this definition">¶</a></dt>
<dd><p>Max length of a <em>serialized</em> value.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.cache.ExpireCacheCfg.MAXHOLD_TIME">
<span class="sig-name descname"><span class="pre">MAXHOLD_TIME</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#searx.cache.ExpireCacheCfg.MAXHOLD_TIME" title="Link to this definition">¶</a></dt>
<dd><p>Hold time (default in sec.), after which a value is removed from the cache.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.cache.ExpireCacheCfg.MAINTENANCE_PERIOD">
<span class="sig-name descname"><span class="pre">MAINTENANCE_PERIOD</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#searx.cache.ExpireCacheCfg.MAINTENANCE_PERIOD" title="Link to this definition">¶</a></dt>
<dd><p>Maintenance period in seconds / when <a class="reference internal" href="#searx.cache.ExpireCacheCfg.MAINTENANCE_MODE" title="searx.cache.ExpireCacheCfg.MAINTENANCE_MODE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MAINTENANCE_MODE</span></code></a> is set to
<code class="docutils literal notranslate"><span class="pre">auto</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.cache.ExpireCacheCfg.MAINTENANCE_MODE">
<span class="sig-name descname"><span class="pre">MAINTENANCE_MODE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'off'</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.cache.ExpireCacheCfg.MAINTENANCE_MODE" title="Link to this definition">¶</a></dt>
<dd><p>Type of maintenance mode</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">auto</span></code>:</dt><dd><p>Maintenance is carried out automatically as part of the maintenance
intervals (<a class="reference internal" href="#searx.cache.ExpireCacheCfg.MAINTENANCE_PERIOD" title="searx.cache.ExpireCacheCfg.MAINTENANCE_PERIOD"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MAINTENANCE_PERIOD</span></code></a>); no external process is required.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">off</span></code>:</dt><dd><p>Maintenance is switched off and must be carried out by an external process
if required.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.cache.ExpireCacheCfg.password">
<span class="sig-name descname"><span class="pre">password</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a></em><a class="headerlink" href="#searx.cache.ExpireCacheCfg.password" title="Link to this definition">¶</a></dt>
<dd><p>Password used by <a class="reference internal" href="#searx.cache.ExpireCache.secret_hash" title="searx.cache.ExpireCache.secret_hash"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ExpireCache.secret_hash</span></code></a>.</p>
<p>The default password is taken from <a class="reference internal" href="#server-secret-key"><span class="std std-ref">secret_key</span></a>.
When the password is changed, the hashed keys in the cache can no longer be
used, which is why all values in the cache are deleted when the password is
changed.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.cache.ExpireCacheStats">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.cache.</span></span><span class="sig-name descname"><span class="pre">ExpireCacheStats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cached_items</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.cache.ExpireCacheStats" title="Link to this definition">¶</a></dt>
<dd><p>Dataclass which provides information on the status of the cache.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.cache.ExpireCacheStats.cached_items">
<span class="sig-name descname"><span class="pre">cached_items</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.cache.ExpireCacheStats.cached_items" title="Link to this definition">¶</a></dt>
<dd><p>Values in the cache mapped by context name.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.cache.ExpireCache">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.cache.</span></span><span class="sig-name descname"><span class="pre">ExpireCache</span></span><a class="headerlink" href="#searx.cache.ExpireCache" title="Link to this definition">¶</a></dt>
<dd><p>Abstract base class for the implementation of a key/value cache
with expire date.</p>
<dl class="py method">
<dt class="sig sig-object py" id="searx.cache.ExpireCache.set">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">expire</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#searx.cache.ExpireCache.set" title="Link to this definition">¶</a></dt>
<dd><p>Set <em>key</em> to <em>value</em>.  To set a timeout on key use argument
<code class="docutils literal notranslate"><span class="pre">expire</span></code> (in sec.).  If expire is unset the default is taken from
<a class="reference internal" href="#searx.cache.ExpireCacheCfg.MAXHOLD_TIME" title="searx.cache.ExpireCacheCfg.MAXHOLD_TIME"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ExpireCacheCfg.MAXHOLD_TIME</span></code></a>.  After the timeout has expired,
the key will automatically be deleted.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">ctx</span></code> argument specifies the context of the <code class="docutils literal notranslate"><span class="pre">key</span></code>.  A key is
only unique in its context.</p>
<p>The concrete implementations of this abstraction determine how the
context is mapped in the connected database.  In SQL databases, for
example, the context is a DB table or in a Key/Value DB it could be
a prefix for the key.</p>
<p>If the context is not specified (the default is <code class="docutils literal notranslate"><span class="pre">None</span></code>) then a
default context should be used, e.g. a default table for SQL databases
or a default prefix in a Key/Value DB.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.cache.ExpireCache.get">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></span><a class="headerlink" href="#searx.cache.ExpireCache.get" title="Link to this definition">¶</a></dt>
<dd><p>Return <em>value</em> of <em>key</em>.  If key is unset, <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.cache.ExpireCache.maintenance">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">maintenance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#searx.cache.ExpireCache.maintenance" title="Link to this definition">¶</a></dt>
<dd><p>Performs maintenance on the cache.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">force</span></code>:</dt><dd><p>Maintenance should be carried out even if the maintenance interval has
not yet been reached.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">truncate</span></code>:</dt><dd><p>Truncate the entire cache, which is necessary, for example, if the
password has changed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.cache.ExpireCache.state">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#searx.cache.ExpireCacheStats" title="searx.cache.ExpireCacheStats"><span class="pre">ExpireCacheStats</span></a></span></span><a class="headerlink" href="#searx.cache.ExpireCache.state" title="Link to this definition">¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="#searx.cache.ExpireCacheStats" title="searx.cache.ExpireCacheStats"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ExpireCacheStats</span></code></a>, which provides information
about the status of the cache.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.cache.ExpireCache.build_cache">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build_cache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.cache.ExpireCacheCfg" title="searx.cache.ExpireCacheCfg"><span class="pre">ExpireCacheCfg</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#searx.cache.ExpireCache" title="searx.cache.ExpireCache"><span class="pre">ExpireCache</span></a></span></span><a class="headerlink" href="#searx.cache.ExpireCache.build_cache" title="Link to this definition">¶</a></dt>
<dd><p>Factory to build a caching instance.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently, only the SQLite adapter is available, but other database
types could be implemented in the future, e.g. a Valkey (Redis)
adapter.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.cache.ExpireCache.normalize_name">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">normalize_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#searx.cache.ExpireCache.normalize_name" title="Link to this definition">¶</a></dt>
<dd><p>Returns a normalized name that can be used as a file name or as a SQL
table name (is used, for example, to normalize the context name).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.cache.ExpireCache.secret_hash">
<span class="sig-name descname"><span class="pre">secret_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#searx.cache.ExpireCache.secret_hash" title="Link to this definition">¶</a></dt>
<dd><p>Creates a hash of the argument <code class="docutils literal notranslate"><span class="pre">name</span></code>.  The hash value is formed
from the <code class="docutils literal notranslate"><span class="pre">name</span></code> combined with the <a class="reference internal" href="#searx.cache.ExpireCacheCfg.password" title="searx.cache.ExpireCacheCfg.password"><code class="xref py py-obj docutils literal notranslate"><span class="pre">password</span></code></a>.  Can be used, for example, to make the
<code class="docutils literal notranslate"><span class="pre">key</span></code> stored in the DB unreadable for third parties.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.cache.ExpireCacheSQLite">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.cache.</span></span><span class="sig-name descname"><span class="pre">ExpireCacheSQLite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.cache.ExpireCacheCfg" title="searx.cache.ExpireCacheCfg"><span class="pre">ExpireCacheCfg</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.cache.ExpireCacheSQLite" title="Link to this definition">¶</a></dt>
<dd><p>Cache that manages key/value pairs in a SQLite DB.  The DB model in the
SQLite DB is implemented in abstract class <a class="reference internal" href="#searx.sqlitedb.SQLiteAppl" title="searx.sqlitedb.SQLiteAppl"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SQLiteAppl</span></code></a>.</p>
<p>The following configurations are required / supported:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.cache.ExpireCacheCfg.db_url" title="searx.cache.ExpireCacheCfg.db_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ExpireCacheCfg.db_url</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.cache.ExpireCacheCfg.MAXHOLD_TIME" title="searx.cache.ExpireCacheCfg.MAXHOLD_TIME"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ExpireCacheCfg.MAXHOLD_TIME</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.cache.ExpireCacheCfg.MAINTENANCE_PERIOD" title="searx.cache.ExpireCacheCfg.MAINTENANCE_PERIOD"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ExpireCacheCfg.MAINTENANCE_PERIOD</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.cache.ExpireCacheCfg.MAINTENANCE_MODE" title="searx.cache.ExpireCacheCfg.MAINTENANCE_MODE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ExpireCacheCfg.MAINTENANCE_MODE</span></code></a></p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.cache.ExpireCacheSQLite.DB_SCHEMA">
<span class="sig-name descname"><span class="pre">DB_SCHEMA</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#searx.cache.ExpireCacheSQLite.DB_SCHEMA" title="Link to this definition">¶</a></dt>
<dd><p>As soon as changes are made to the DB schema, the version number must be
increased.  Changes to the version number require the DB to be recreated (or
migrated / if an migration path exists and is implemented).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.cache.ExpireCacheSQLite.init">
<span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/sqlite3.html#sqlite3.Connection" title="(in Python v3.13)"><span class="pre">Connection</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#searx.cache.ExpireCacheSQLite.init" title="Link to this definition">¶</a></dt>
<dd><p>Initializes the DB schema and properties, is only executed once even
if called several times.</p>
<p>If the initialization has not yet taken place, it is carried out and a
<cite>True</cite> is returned to the caller at the end.  If the initialization has
already been carried out in the past, <cite>False</cite> is returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.cache.ExpireCacheSQLite.maintenance">
<span class="sig-name descname"><span class="pre">maintenance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#searx.cache.ExpireCacheSQLite.maintenance" title="Link to this definition">¶</a></dt>
<dd><p>Performs maintenance on the cache.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">force</span></code>:</dt><dd><p>Maintenance should be carried out even if the maintenance interval has
not yet been reached.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">truncate</span></code>:</dt><dd><p>Truncate the entire cache, which is necessary, for example, if the
password has changed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.cache.ExpireCacheSQLite.create_table">
<span class="sig-name descname"><span class="pre">create_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#searx.cache.ExpireCacheSQLite.create_table" title="Link to this definition">¶</a></dt>
<dd><p>Create DB <code class="docutils literal notranslate"><span class="pre">table</span></code> if it has not yet been created, no recreates are
initiated if the table already exists.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="searx.cache.ExpireCacheSQLite.table_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">table_names</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.cache.ExpireCacheSQLite.table_names" title="Link to this definition">¶</a></dt>
<dd><p>List of key/value tables already created in the DB.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="searx.cache.ExpireCacheSQLite.next_maintenance_time">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">next_maintenance_time</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#searx.cache.ExpireCacheSQLite.next_maintenance_time" title="Link to this definition">¶</a></dt>
<dd><p>Returns (unix epoch) time of the next maintenance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.cache.ExpireCacheSQLite.set">
<span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">expire</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#searx.cache.ExpireCacheSQLite.set" title="Link to this definition">¶</a></dt>
<dd><p>Set key/value in DB table given by argument <code class="docutils literal notranslate"><span class="pre">ctx</span></code>.  If expire is
unset the default is taken from <a class="reference internal" href="#searx.cache.ExpireCacheCfg.MAXHOLD_TIME" title="searx.cache.ExpireCacheCfg.MAXHOLD_TIME"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ExpireCacheCfg.MAXHOLD_TIME</span></code></a>.
If <code class="docutils literal notranslate"><span class="pre">ctx</span></code> argument is <code class="docutils literal notranslate"><span class="pre">None</span></code> (the default), a table name is
generated from the <a class="reference internal" href="#searx.cache.ExpireCacheCfg.name" title="searx.cache.ExpireCacheCfg.name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ExpireCacheCfg.name</span></code></a>.  If DB table does not
exists, it will be created (on demand) by <a class="reference internal" href="#searx.cache.ExpireCacheSQLite.create_table" title="searx.cache.ExpireCacheSQLite.create_table"><code class="xref py py-obj docutils literal notranslate"><span class="pre">self.create_table</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.cache.ExpireCacheSQLite.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></span><a class="headerlink" href="#searx.cache.ExpireCacheSQLite.get" title="Link to this definition">¶</a></dt>
<dd><p>Get value of <code class="docutils literal notranslate"><span class="pre">key</span></code> from table given by argument <code class="docutils literal notranslate"><span class="pre">ctx</span></code>.  If
<code class="docutils literal notranslate"><span class="pre">ctx</span></code> argument is <code class="docutils literal notranslate"><span class="pre">None</span></code> (the default), a table name is generated
from the <a class="reference internal" href="#searx.cache.ExpireCacheCfg.name" title="searx.cache.ExpireCacheCfg.name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ExpireCacheCfg.name</span></code></a>.  If <code class="docutils literal notranslate"><span class="pre">key</span></code> not exists (in
table), the <code class="docutils literal notranslate"><span class="pre">default</span></code> value is returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.cache.ExpireCacheSQLite.pairs">
<span class="sig-name descname"><span class="pre">pairs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterator" title="(in Python v3.13)"><span class="pre">Iterator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#searx.cache.ExpireCacheSQLite.pairs" title="Link to this definition">¶</a></dt>
<dd><p>Iterate over key/value pairs from table given by argument <code class="docutils literal notranslate"><span class="pre">ctx</span></code>.
If <code class="docutils literal notranslate"><span class="pre">ctx</span></code> argument is <code class="docutils literal notranslate"><span class="pre">None</span></code> (the default), a table name is
generated from the <a class="reference internal" href="#searx.cache.ExpireCacheCfg.name" title="searx.cache.ExpireCacheCfg.name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ExpireCacheCfg.name</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.cache.ExpireCacheSQLite.state">
<span class="sig-name descname"><span class="pre">state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#searx.cache.ExpireCacheStats" title="searx.cache.ExpireCacheStats"><span class="pre">ExpireCacheStats</span></a></span></span><a class="headerlink" href="#searx.cache.ExpireCacheSQLite.state" title="Link to this definition">¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="#searx.cache.ExpireCacheStats" title="searx.cache.ExpireCacheStats"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ExpireCacheStats</span></code></a>, which provides information
about the status of the cache.</p>
</dd></dl>

</dd></dl>

</section>
<span id="document-src/searx.exceptions"></span><section id="infinity-search-exceptions">
<span id="searx-exceptions"></span><h3>Infinity Search Exceptions<a class="headerlink" href="#infinity-search-exceptions" title="Link to this heading">¶</a></h3>
<p id="module-searx.exceptions">Exception types raised by SearXNG modules.</p>
<dl class="py exception">
<dt class="sig sig-object py" id="searx.exceptions.SearxException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.exceptions.</span></span><span class="sig-name descname"><span class="pre">SearxException</span></span><a class="headerlink" href="#searx.exceptions.SearxException" title="Link to this definition">¶</a></dt>
<dd><p>Base SearXNG exception.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="searx.exceptions.SearxParameterException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.exceptions.</span></span><span class="sig-name descname"><span class="pre">SearxParameterException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.exceptions.SearxParameterException" title="Link to this definition">¶</a></dt>
<dd><p>Raised when query miss a required parameter</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="searx.exceptions.SearxSettingsException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.exceptions.</span></span><span class="sig-name descname"><span class="pre">SearxSettingsException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.13)"><span class="pre">Exception</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.exceptions.SearxSettingsException" title="Link to this definition">¶</a></dt>
<dd><p>Error while loading the settings</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="searx.exceptions.SearxEngineException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.exceptions.</span></span><span class="sig-name descname"><span class="pre">SearxEngineException</span></span><a class="headerlink" href="#searx.exceptions.SearxEngineException" title="Link to this definition">¶</a></dt>
<dd><p>Error inside an engine</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="searx.exceptions.SearxXPathSyntaxException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.exceptions.</span></span><span class="sig-name descname"><span class="pre">SearxXPathSyntaxException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xpath_spec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.exceptions.SearxXPathSyntaxException" title="Link to this definition">¶</a></dt>
<dd><p>Syntax error in a XPATH</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="searx.exceptions.SearxEngineResponseException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.exceptions.</span></span><span class="sig-name descname"><span class="pre">SearxEngineResponseException</span></span><a class="headerlink" href="#searx.exceptions.SearxEngineResponseException" title="Link to this definition">¶</a></dt>
<dd><p>Impossible to parse the result of an engine</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="searx.exceptions.SearxEngineAPIException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.exceptions.</span></span><span class="sig-name descname"><span class="pre">SearxEngineAPIException</span></span><a class="headerlink" href="#searx.exceptions.SearxEngineAPIException" title="Link to this definition">¶</a></dt>
<dd><p>The website has returned an application error</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="searx.exceptions.SearxEngineAccessDeniedException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.exceptions.</span></span><span class="sig-name descname"><span class="pre">SearxEngineAccessDeniedException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">suspended_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Access</span> <span class="pre">denied'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.exceptions.SearxEngineAccessDeniedException" title="Link to this definition">¶</a></dt>
<dd><p>The website is blocking the access</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.exceptions.SearxEngineAccessDeniedException.SUSPEND_TIME_SETTING">
<span class="sig-name descname"><span class="pre">SUSPEND_TIME_SETTING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'search.suspended_times.SearxEngineAccessDenied'</span></em><a class="headerlink" href="#searx.exceptions.SearxEngineAccessDeniedException.SUSPEND_TIME_SETTING" title="Link to this definition">¶</a></dt>
<dd><p>This settings contains the default suspended time (default 86400 sec / 1
day).</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="searx.exceptions.SearxEngineCaptchaException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.exceptions.</span></span><span class="sig-name descname"><span class="pre">SearxEngineCaptchaException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">suspended_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'CAPTCHA'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.exceptions.SearxEngineCaptchaException" title="Link to this definition">¶</a></dt>
<dd><p>The website has returned a CAPTCHA.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.exceptions.SearxEngineCaptchaException.SUSPEND_TIME_SETTING">
<span class="sig-name descname"><span class="pre">SUSPEND_TIME_SETTING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'search.suspended_times.SearxEngineCaptcha'</span></em><a class="headerlink" href="#searx.exceptions.SearxEngineCaptchaException.SUSPEND_TIME_SETTING" title="Link to this definition">¶</a></dt>
<dd><p>This settings contains the default suspended time (default 86400 sec / 1
day).</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="searx.exceptions.SearxEngineTooManyRequestsException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.exceptions.</span></span><span class="sig-name descname"><span class="pre">SearxEngineTooManyRequestsException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">suspended_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Too</span> <span class="pre">many</span> <span class="pre">request'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.exceptions.SearxEngineTooManyRequestsException" title="Link to this definition">¶</a></dt>
<dd><p>The website has returned a Too Many Request status code</p>
<p>By default, SearXNG stops sending requests to this engine for 1 hour.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.exceptions.SearxEngineTooManyRequestsException.SUSPEND_TIME_SETTING">
<span class="sig-name descname"><span class="pre">SUSPEND_TIME_SETTING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'search.suspended_times.SearxEngineTooManyRequests'</span></em><a class="headerlink" href="#searx.exceptions.SearxEngineTooManyRequestsException.SUSPEND_TIME_SETTING" title="Link to this definition">¶</a></dt>
<dd><p>This settings contains the default suspended time (default 3660 sec / 1
hour).</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="searx.exceptions.SearxEngineXPathException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.exceptions.</span></span><span class="sig-name descname"><span class="pre">SearxEngineXPathException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xpath_spec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.exceptions.SearxEngineXPathException" title="Link to this definition">¶</a></dt>
<dd><p>Error while getting the result of an XPath expression</p>
</dd></dl>

</section>
<span id="document-src/searx.favicons"></span><section id="favicons-source">
<span id="id1"></span><h3>Favicons (source)<a class="headerlink" href="#favicons-source" title="Link to this heading">¶</a></h3>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#module-searx.favicons.config" id="id7">Favicons Config</a></p></li>
<li><p><a class="reference internal" href="#module-searx.favicons.proxy" id="id8">Favicons Proxy</a></p></li>
<li><p><a class="reference internal" href="#module-searx.favicons.resolvers" id="id9">Favicons Resolver</a></p></li>
<li><p><a class="reference internal" href="#module-searx.favicons.cache" id="id10">Favicons Cache</a></p></li>
</ul>
</nav>
<p id="module-searx.favicons">Implementations for providing the favicons in SearXNG.</p>
<p>There is a command line for developer purposes and for deeper analysis.  Here is
an example in which the command line is called in the development environment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./manage pyenv.cmd bash --norc --noprofile
(py3) python -m searx.favicons --help
</pre></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="searx.favicons.favicon_url">
<span class="sig-prename descclassname"><span class="pre">searx.favicons.</span></span><span class="sig-name descname"><span class="pre">favicon_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">authority</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#searx.favicons.favicon_url" title="Link to this definition">¶</a></dt>
<dd><p>Function to generate the image URL used for favicons in SearXNG’s result
lists.  The <code class="docutils literal notranslate"><span class="pre">authority</span></code> argument (aka netloc / <span class="target" id="index-0"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3986.html"><strong>RFC 3986</strong></a>) is usually a
(sub-) domain name.  This function is used in the HTML (jinja) templates.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;favicon&quot;</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;{{ favicon_url(result.parsed_url.netloc) }}&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>The returned URL is a route to <a class="reference internal" href="#searx.favicons.favicon_proxy" title="searx.favicons.favicon_proxy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">favicon_proxy</span></code></a> REST API.</p>
<p>If the favicon is already in the cache, the returned URL is a <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URLs">data URL</a>
(something like <code class="docutils literal notranslate"><span class="pre">data:image/png;base64,...</span></code>).  By generating a data url from
the <a class="reference internal" href="#searx.favicons.cache.FaviconCache" title="searx.favicons.cache.FaviconCache"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cache.FaviconCache</span></code></a>, additional HTTP roundtripps via the
<a class="reference internal" href="#searx.favicons.favicon_proxy" title="searx.favicons.favicon_proxy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">favicon_proxy</span></code></a> are saved.  However, it must also be borne in mind
that data urls are not cached in the client (web browser).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.favicons.favicon_proxy">
<span class="sig-prename descclassname"><span class="pre">searx.favicons.</span></span><span class="sig-name descname"><span class="pre">favicon_proxy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#searx.favicons.favicon_proxy" title="Link to this definition">¶</a></dt>
<dd><p>REST API of SearXNG’s favicon proxy service</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/favicon_proxy?authority=&lt;...&gt;&amp;h=&lt;...&gt;
</pre></div>
</div>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">authority</span></code>:</dt><dd><p>Domain name <span class="target" id="index-1"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3986.html"><strong>RFC 3986</strong></a> / see <a class="reference internal" href="#searx.favicons.favicon_url" title="searx.favicons.favicon_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">favicon_url</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">h</span></code>:</dt><dd><p>HMAC <span class="target" id="index-2"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2104.html"><strong>RFC 2104</strong></a>, build up from the <a class="reference internal" href="#settings-server"><span class="std std-ref">server.secret_key</span></a> setting.</p>
</dd>
</dl>
</dd></dl>

<section id="module-searx.favicons.config">
<span id="id2"></span><span id="favicons-config"></span><h4><a class="toc-backref" href="#id7" role="doc-backlink">Favicons Config</a><a class="headerlink" href="#module-searx.favicons.config" title="Link to this heading">¶</a></h4>
<dl class="py data">
<dt class="sig sig-object py" id="searx.favicons.config.CONFIG_SCHEMA">
<span class="sig-prename descclassname"><span class="pre">searx.favicons.config.</span></span><span class="sig-name descname"><span class="pre">CONFIG_SCHEMA</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#searx.favicons.config.CONFIG_SCHEMA" title="Link to this definition">¶</a></dt>
<dd><p>Version of the configuration schema.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.favicons.config.TOML_CACHE_CFG">
<span class="sig-prename descclassname"><span class="pre">searx.favicons.config.</span></span><span class="sig-name descname"><span class="pre">TOML_CACHE_CFG</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#searx.favicons.config.FaviconConfig" title="searx.favicons.config.FaviconConfig"><span class="pre">FaviconConfig</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#searx.favicons.config.TOML_CACHE_CFG" title="Link to this definition">¶</a></dt>
<dd><p>Cache config objects by TOML’s filename.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.favicons.config.FaviconConfig">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.favicons.config.</span></span><span class="sig-name descname"><span class="pre">FaviconConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg_schema:</span> <span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache:</span> <span class="pre">~searx.favicons.cache.FaviconCacheConfig</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proxy:</span> <span class="pre">~searx.favicons.proxy.FaviconProxyConfig</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.favicons.config.FaviconConfig" title="Link to this definition">¶</a></dt>
<dd><p>The class aggregates configurations of the favicon tools</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.favicons.config.FaviconConfig.cfg_schema">
<span class="sig-name descname"><span class="pre">cfg_schema</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#searx.favicons.config.FaviconConfig.cfg_schema" title="Link to this definition">¶</a></dt>
<dd><p>Config’s schema version.  The specification of the version of the schema
is mandatory, currently only version <a class="reference internal" href="#searx.favicons.config.CONFIG_SCHEMA" title="searx.favicons.config.CONFIG_SCHEMA"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CONFIG_SCHEMA</span></code></a> is supported.
By specifying a version, it is possible to ensure downward compatibility in
the event of future changes to the configuration schema</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.favicons.config.FaviconConfig.cache">
<span class="sig-name descname"><span class="pre">cache</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#searx.favicons.cache.FaviconCacheConfig" title="searx.favicons.cache.FaviconCacheConfig"><span class="pre">FaviconCacheConfig</span></a></em><a class="headerlink" href="#searx.favicons.config.FaviconConfig.cache" title="Link to this definition">¶</a></dt>
<dd><p>Setup of the <a class="reference internal" href="#searx.favicons.cache.FaviconCacheConfig" title="searx.favicons.cache.FaviconCacheConfig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cache.FaviconCacheConfig</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.favicons.config.FaviconConfig.proxy">
<span class="sig-name descname"><span class="pre">proxy</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#searx.favicons.proxy.FaviconProxyConfig" title="searx.favicons.proxy.FaviconProxyConfig"><span class="pre">FaviconProxyConfig</span></a></em><a class="headerlink" href="#searx.favicons.config.FaviconConfig.proxy" title="Link to this definition">¶</a></dt>
<dd><p>Setup of the <a class="reference internal" href="#searx.favicons.proxy.FaviconProxyConfig" title="searx.favicons.proxy.FaviconProxyConfig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">proxy.FaviconProxyConfig</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.favicons.config.FaviconConfig.from_toml_file">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_toml_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_cache</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#searx.favicons.config.FaviconConfig" title="searx.favicons.config.FaviconConfig"><span class="pre">FaviconConfig</span></a></span></span><a class="headerlink" href="#searx.favicons.config.FaviconConfig.from_toml_file" title="Link to this definition">¶</a></dt>
<dd><p>Create a config object from a TOML file, the <code class="docutils literal notranslate"><span class="pre">use_cache</span></code> argument
specifies whether a cache should be used.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-searx.favicons.proxy">
<span id="id3"></span><span id="favicons-proxy"></span><h4><a class="toc-backref" href="#id8" role="doc-backlink">Favicons Proxy</a><a class="headerlink" href="#module-searx.favicons.proxy" title="Link to this heading">¶</a></h4>
<p>Implementations for a favicon proxy</p>
<dl class="py class">
<dt class="sig sig-object py" id="searx.favicons.proxy.FaviconProxyConfig">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.favicons.proxy.</span></span><span class="sig-name descname"><span class="pre">FaviconProxyConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_age:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">604800</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secret_key:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolver_timeout:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">3.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolver_map:</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">favicon_path:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'/mnt/d/code/searxng/searx/static/themes/{theme}/img/empty_favicon.svg'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">favicon_mime_type:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'image/svg+xml'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.favicons.proxy.FaviconProxyConfig" title="Link to this definition">¶</a></dt>
<dd><p>Configuration of the favicon proxy.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.favicons.proxy.FaviconProxyConfig.max_age">
<span class="sig-name descname"><span class="pre">max_age</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#searx.favicons.proxy.FaviconProxyConfig.max_age" title="Link to this definition">¶</a></dt>
<dd><p>HTTP header <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control">Cache-Control</a> <code class="docutils literal notranslate"><span class="pre">max-age</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.favicons.proxy.FaviconProxyConfig.secret_key">
<span class="sig-name descname"><span class="pre">secret_key</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.favicons.proxy.FaviconProxyConfig.secret_key" title="Link to this definition">¶</a></dt>
<dd><p>By default, the value from <a class="reference internal" href="#settings-server"><span class="std std-ref">server.secret_key</span></a>
setting is used.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.favicons.proxy.FaviconProxyConfig.resolver_timeout">
<span class="sig-name descname"><span class="pre">resolver_timeout</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#searx.favicons.proxy.FaviconProxyConfig.resolver_timeout" title="Link to this definition">¶</a></dt>
<dd><p>Timeout which the resolvers should not exceed, is usually passed to the
outgoing request of the resolver.  By default, the value from
<a class="reference internal" href="#settings-outgoing"><span class="std std-ref">outgoing.request_timeout</span></a> setting is used.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.favicons.proxy.FaviconProxyConfig.resolver_map">
<span class="sig-name descname"><span class="pre">resolver_map</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.favicons.proxy.FaviconProxyConfig.resolver_map" title="Link to this definition">¶</a></dt>
<dd><p>The resolver_map is a key / value dictionary where the key is the name of
the resolver and the value is the fully qualifying name (fqn) of resolver’s
function (the callable).  The resolvers from the python module
<code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.favicons.resolver</span></code> are available by default.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.favicons.proxy.FaviconProxyConfig.get_resolver">
<span class="sig-name descname"><span class="pre">get_resolver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.13)"><span class="pre">Callable</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#searx.favicons.proxy.FaviconProxyConfig.get_resolver" title="Link to this definition">¶</a></dt>
<dd><p>Returns the callable object (function) of the resolver with the
<code class="docutils literal notranslate"><span class="pre">name</span></code>.  If no resolver is registered for the <code class="docutils literal notranslate"><span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code> is
returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.favicons.proxy.FaviconProxyConfig.favicon">
<span class="sig-name descname"><span class="pre">favicon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">replacements</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.favicons.proxy.FaviconProxyConfig.favicon" title="Link to this definition">¶</a></dt>
<dd><p>Returns pathname and mimetype of the default favicon.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.favicons.proxy.FaviconProxyConfig.favicon_data_url">
<span class="sig-name descname"><span class="pre">favicon_data_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">replacements</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.favicons.proxy.FaviconProxyConfig.favicon_data_url" title="Link to this definition">¶</a></dt>
<dd><p>Returns data image URL of the default favicon.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.favicons.proxy.favicon_proxy">
<span class="sig-prename descclassname"><span class="pre">searx.favicons.proxy.</span></span><span class="sig-name descname"><span class="pre">favicon_proxy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#searx.favicons.proxy.favicon_proxy" title="Link to this definition">¶</a></dt>
<dd><p>REST API of SearXNG’s favicon proxy service</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/favicon_proxy?authority=&lt;...&gt;&amp;h=&lt;...&gt;
</pre></div>
</div>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">authority</span></code>:</dt><dd><p>Domain name <span class="target" id="index-3"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3986.html"><strong>RFC 3986</strong></a> / see <a class="reference internal" href="#searx.favicons.proxy.favicon_url" title="searx.favicons.proxy.favicon_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">favicon_url</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">h</span></code>:</dt><dd><p>HMAC <span class="target" id="index-4"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2104.html"><strong>RFC 2104</strong></a>, build up from the <a class="reference internal" href="#settings-server"><span class="std std-ref">server.secret_key</span></a> setting.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.favicons.proxy.search_favicon">
<span class="sig-prename descclassname"><span class="pre">searx.favicons.proxy.</span></span><span class="sig-name descname"><span class="pre">search_favicon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resolver</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">authority</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#searx.favicons.proxy.search_favicon" title="Link to this definition">¶</a></dt>
<dd><p>Sends the request to the favicon resolver and returns a tuple for the
favicon.  The tuple consists of <code class="docutils literal notranslate"><span class="pre">(data,</span> <span class="pre">mime)</span></code>, if the resolver has not
determined a favicon, both values are <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">data</span></code>:</dt><dd><p>Binary data of the favicon.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mime</span></code>:</dt><dd><p>Mime type of the favicon.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.favicons.proxy.favicon_url">
<span class="sig-prename descclassname"><span class="pre">searx.favicons.proxy.</span></span><span class="sig-name descname"><span class="pre">favicon_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">authority</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#searx.favicons.proxy.favicon_url" title="Link to this definition">¶</a></dt>
<dd><p>Function to generate the image URL used for favicons in SearXNG’s result
lists.  The <code class="docutils literal notranslate"><span class="pre">authority</span></code> argument (aka netloc / <span class="target" id="index-5"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3986.html"><strong>RFC 3986</strong></a>) is usually a
(sub-) domain name.  This function is used in the HTML (jinja) templates.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;favicon&quot;</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;{{ favicon_url(result.parsed_url.netloc) }}&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>The returned URL is a route to <a class="reference internal" href="#searx.favicons.proxy.favicon_proxy" title="searx.favicons.proxy.favicon_proxy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">favicon_proxy</span></code></a> REST API.</p>
<p>If the favicon is already in the cache, the returned URL is a <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URLs">data URL</a>
(something like <code class="docutils literal notranslate"><span class="pre">data:image/png;base64,...</span></code>).  By generating a data url from
the <a class="reference internal" href="#searx.favicons.cache.FaviconCache" title="searx.favicons.cache.FaviconCache"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cache.FaviconCache</span></code></a>, additional HTTP roundtripps via the
<a class="reference internal" href="#searx.favicons.proxy.favicon_proxy" title="searx.favicons.proxy.favicon_proxy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">favicon_proxy</span></code></a> are saved.  However, it must also be borne in mind
that data urls are not cached in the client (web browser).</p>
</dd></dl>

</section>
<section id="module-searx.favicons.resolvers">
<span id="id5"></span><span id="favicons-resolver"></span><h4><a class="toc-backref" href="#id9" role="doc-backlink">Favicons Resolver</a><a class="headerlink" href="#module-searx.favicons.resolvers" title="Link to this heading">¶</a></h4>
<p>Implementations of the favicon <em>resolvers</em> that are available in the favicon
proxy by default.  A <em>resolver</em> is a function that obtains the favicon from an
external source.  The <em>resolver</em> function receives two arguments (<code class="docutils literal notranslate"><span class="pre">domain,</span>
<span class="pre">timeout</span></code>) and returns a tuple <code class="docutils literal notranslate"><span class="pre">(data,</span> <span class="pre">mime)</span></code>.</p>
<dl class="py function">
<dt class="sig sig-object py" id="searx.favicons.resolvers.allesedv">
<span class="sig-prename descclassname"><span class="pre">searx.favicons.resolvers.</span></span><span class="sig-name descname"><span class="pre">allesedv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#searx.favicons.resolvers.allesedv" title="Link to this definition">¶</a></dt>
<dd><p>Favicon Resolver from allesedv.com / <a class="reference external" href="https://favicon.allesedv.com/">https://favicon.allesedv.com/</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.favicons.resolvers.duckduckgo">
<span class="sig-prename descclassname"><span class="pre">searx.favicons.resolvers.</span></span><span class="sig-name descname"><span class="pre">duckduckgo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#searx.favicons.resolvers.duckduckgo" title="Link to this definition">¶</a></dt>
<dd><p>Favicon Resolver from duckduckgo.com / <a class="reference external" href="https://blog.jim-nielsen.com/2021/displaying-favicons-for-any-domain/">https://blog.jim-nielsen.com/2021/displaying-favicons-for-any-domain/</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.favicons.resolvers.google">
<span class="sig-prename descclassname"><span class="pre">searx.favicons.resolvers.</span></span><span class="sig-name descname"><span class="pre">google</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#searx.favicons.resolvers.google" title="Link to this definition">¶</a></dt>
<dd><p>Favicon Resolver from google.com</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.favicons.resolvers.yandex">
<span class="sig-prename descclassname"><span class="pre">searx.favicons.resolvers.</span></span><span class="sig-name descname"><span class="pre">yandex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#searx.favicons.resolvers.yandex" title="Link to this definition">¶</a></dt>
<dd><p>Favicon Resolver from yandex.com</p>
</dd></dl>

</section>
<section id="module-searx.favicons.cache">
<span id="id6"></span><span id="favicons-cache"></span><h4><a class="toc-backref" href="#id10" role="doc-backlink">Favicons Cache</a><a class="headerlink" href="#module-searx.favicons.cache" title="Link to this heading">¶</a></h4>
<p>Implementations for caching favicons.</p>
<dl class="simple">
<dt><a class="reference internal" href="#searx.favicons.cache.FaviconCacheConfig" title="searx.favicons.cache.FaviconCacheConfig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaviconCacheConfig</span></code></a>:</dt><dd><p>Configuration of the favicon cache</p>
</dd>
<dt><a class="reference internal" href="#searx.favicons.cache.FaviconCache" title="searx.favicons.cache.FaviconCache"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaviconCache</span></code></a>:</dt><dd><p>Abstract base class for the implementation of a favicon cache.</p>
</dd>
<dt><a class="reference internal" href="#searx.favicons.cache.FaviconCacheSQLite" title="searx.favicons.cache.FaviconCacheSQLite"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaviconCacheSQLite</span></code></a>:</dt><dd><p>Favicon cache that manages the favicon BLOBs in a SQLite DB.</p>
</dd>
<dt><a class="reference internal" href="#searx.favicons.cache.FaviconCacheNull" title="searx.favicons.cache.FaviconCacheNull"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaviconCacheNull</span></code></a>:</dt><dd><p>Fallback solution if the configured cache cannot be used for system reasons.</p>
</dd>
</dl>
<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="searx.favicons.cache.state">
<span class="sig-prename descclassname"><span class="pre">searx.favicons.cache.</span></span><span class="sig-name descname"><span class="pre">state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#searx.favicons.cache.state" title="Link to this definition">¶</a></dt>
<dd><p>show state of the cache</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.favicons.cache.maintenance">
<span class="sig-prename descclassname"><span class="pre">searx.favicons.cache.</span></span><span class="sig-name descname"><span class="pre">maintenance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.favicons.cache.maintenance" title="Link to this definition">¶</a></dt>
<dd><p>perform maintenance of the cache</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.favicons.cache.init">
<span class="sig-prename descclassname"><span class="pre">searx.favicons.cache.</span></span><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.favicons.cache.FaviconCacheConfig" title="searx.favicons.cache.FaviconCacheConfig"><span class="pre">FaviconCacheConfig</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.favicons.cache.init" title="Link to this definition">¶</a></dt>
<dd><p>Initialization of a global <code class="docutils literal notranslate"><span class="pre">CACHE</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheConfig">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.favicons.cache.</span></span><span class="sig-name descname"><span class="pre">FaviconCacheConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'sqlite'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'mem'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'sqlite'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'/tmp/faviconcache.db'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">HOLD_TIME</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2592000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LIMIT_TOTAL_BYTES</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">52428800</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">BLOB_MAX_BYTES</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20480</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MAINTENANCE_PERIOD</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MAINTENANCE_MODE</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'off'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.favicons.cache.FaviconCacheConfig" title="Link to this definition">¶</a></dt>
<dd><p>Configuration of the favicon cache.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheConfig.db_type">
<span class="sig-name descname"><span class="pre">db_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'sqlite'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'mem'</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.favicons.cache.FaviconCacheConfig.db_type" title="Link to this definition">¶</a></dt>
<dd><p>Type of the database:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">sqlite</span></code>:</dt><dd><p><a class="reference internal" href="#searx.favicons.cache.FaviconCacheSQLite" title="searx.favicons.cache.FaviconCacheSQLite"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cache.FaviconCacheSQLite</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mem</span></code>:</dt><dd><p><a class="reference internal" href="#searx.favicons.cache.FaviconCacheMEM" title="searx.favicons.cache.FaviconCacheMEM"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cache.FaviconCacheMEM</span></code></a> (not recommended)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheConfig.db_url">
<span class="sig-name descname"><span class="pre">db_url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.favicons.cache.FaviconCacheConfig.db_url" title="Link to this definition">¶</a></dt>
<dd><p>URL of the SQLite DB, the path to the database file.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheConfig.HOLD_TIME">
<span class="sig-name descname"><span class="pre">HOLD_TIME</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#searx.favicons.cache.FaviconCacheConfig.HOLD_TIME" title="Link to this definition">¶</a></dt>
<dd><p>Hold time (default in sec.), after which a BLOB is removed from the cache.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheConfig.LIMIT_TOTAL_BYTES">
<span class="sig-name descname"><span class="pre">LIMIT_TOTAL_BYTES</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#searx.favicons.cache.FaviconCacheConfig.LIMIT_TOTAL_BYTES" title="Link to this definition">¶</a></dt>
<dd><p>Maximum of bytes (default) stored in the cache of all blobs.  Note: The
limit is only reached at each maintenance interval after which the oldest
BLOBs are deleted; the limit is exceeded during the maintenance period. If
the maintenance period is <em>too long</em> or maintenance is switched off
completely, the cache grows uncontrollably.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheConfig.BLOB_MAX_BYTES">
<span class="sig-name descname"><span class="pre">BLOB_MAX_BYTES</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#searx.favicons.cache.FaviconCacheConfig.BLOB_MAX_BYTES" title="Link to this definition">¶</a></dt>
<dd><p>The maximum BLOB size in bytes that a favicon may have so that it can be
saved in the cache.  If the favicon is larger, it is not saved in the cache
and must be requested by the client via the proxy.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheConfig.MAINTENANCE_PERIOD">
<span class="sig-name descname"><span class="pre">MAINTENANCE_PERIOD</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#searx.favicons.cache.FaviconCacheConfig.MAINTENANCE_PERIOD" title="Link to this definition">¶</a></dt>
<dd><p>Maintenance period in seconds / when <a class="reference internal" href="#searx.favicons.cache.FaviconCacheConfig.MAINTENANCE_MODE" title="searx.favicons.cache.FaviconCacheConfig.MAINTENANCE_MODE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MAINTENANCE_MODE</span></code></a> is set to
<code class="docutils literal notranslate"><span class="pre">auto</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheConfig.MAINTENANCE_MODE">
<span class="sig-name descname"><span class="pre">MAINTENANCE_MODE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'auto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'off'</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.favicons.cache.FaviconCacheConfig.MAINTENANCE_MODE" title="Link to this definition">¶</a></dt>
<dd><p>Type of maintenance mode</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">auto</span></code>:</dt><dd><p>Maintenance is carried out automatically as part of the maintenance
intervals (<a class="reference internal" href="#searx.favicons.cache.FaviconCacheConfig.MAINTENANCE_PERIOD" title="searx.favicons.cache.FaviconCacheConfig.MAINTENANCE_PERIOD"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MAINTENANCE_PERIOD</span></code></a>); no external process is required.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">off</span></code>:</dt><dd><p>Maintenance is switched off and must be carried out by an external process
if required.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheStats">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.favicons.cache.</span></span><span class="sig-name descname"><span class="pre">FaviconCacheStats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">favicons</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bytes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domains</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolvers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.favicons.cache.FaviconCacheStats" title="Link to this definition">¶</a></dt>
<dd><p>Dataclass which provides information on the status of the cache.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCache">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.favicons.cache.</span></span><span class="sig-name descname"><span class="pre">FaviconCache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.favicons.cache.FaviconCacheConfig" title="searx.favicons.cache.FaviconCacheConfig"><span class="pre">FaviconCacheConfig</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.favicons.cache.FaviconCache" title="Link to this definition">¶</a></dt>
<dd><p>Abstract base class for the implementation of a favicon cache.</p>
<dl class="py method">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCache.set">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resolver</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">authority</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#searx.favicons.cache.FaviconCache.set" title="Link to this definition">¶</a></dt>
<dd><p>Set data and mime-type in the cache.  If data is None, the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">FALLBACK_ICON</span></code> is registered. in the cache.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCache.state">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#searx.favicons.cache.FaviconCacheStats" title="searx.favicons.cache.FaviconCacheStats"><span class="pre">FaviconCacheStats</span></a></span></span><a class="headerlink" href="#searx.favicons.cache.FaviconCache.state" title="Link to this definition">¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="#searx.favicons.cache.FaviconCacheStats" title="searx.favicons.cache.FaviconCacheStats"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaviconCacheStats</span></code></a> (key/values) with information
on the state of the cache.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCache.maintenance">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">maintenance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.favicons.cache.FaviconCache.maintenance" title="Link to this definition">¶</a></dt>
<dd><p>Performs maintenance on the cache</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheNull">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.favicons.cache.</span></span><span class="sig-name descname"><span class="pre">FaviconCacheNull</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.favicons.cache.FaviconCacheConfig" title="searx.favicons.cache.FaviconCacheConfig"><span class="pre">FaviconCacheConfig</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.favicons.cache.FaviconCacheNull" title="Link to this definition">¶</a></dt>
<dd><p>A dummy favicon cache that caches nothing / a fallback solution. The
NullCache is used when more efficient caches such as the
<a class="reference internal" href="#searx.favicons.cache.FaviconCacheSQLite" title="searx.favicons.cache.FaviconCacheSQLite"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaviconCacheSQLite</span></code></a> cannot be used because, for example, the SQLite
library is only available in an old version and does not meet the
requirements.</p>
<dl class="py method">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheNull.set">
<span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resolver</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">authority</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#searx.favicons.cache.FaviconCacheNull.set" title="Link to this definition">¶</a></dt>
<dd><p>Set data and mime-type in the cache.  If data is None, the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">FALLBACK_ICON</span></code> is registered. in the cache.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheNull.state">
<span class="sig-name descname"><span class="pre">state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#searx.favicons.cache.FaviconCacheNull.state" title="Link to this definition">¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="#searx.favicons.cache.FaviconCacheStats" title="searx.favicons.cache.FaviconCacheStats"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaviconCacheStats</span></code></a> (key/values) with information
on the state of the cache.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheNull.maintenance">
<span class="sig-name descname"><span class="pre">maintenance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.favicons.cache.FaviconCacheNull.maintenance" title="Link to this definition">¶</a></dt>
<dd><p>Performs maintenance on the cache</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheSQLite">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.favicons.cache.</span></span><span class="sig-name descname"><span class="pre">FaviconCacheSQLite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.favicons.cache.FaviconCacheConfig" title="searx.favicons.cache.FaviconCacheConfig"><span class="pre">FaviconCacheConfig</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.favicons.cache.FaviconCacheSQLite" title="Link to this definition">¶</a></dt>
<dd><p>Favicon cache that manages the favicon BLOBs in a SQLite DB.  The DB
model in the SQLite DB is implemented using the abstract class
<code class="xref py py-obj docutils literal notranslate"><span class="pre">sqlitedb.SQLiteAppl</span></code>.</p>
<p>For introspection of the DB, jump into developer environment and run command
to show cache state:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./manage pyenv.cmd bash --norc --noprofile
(py3) python -m searx.favicons cache state
</pre></div>
</div>
<p>The following configurations are required / supported:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.favicons.cache.FaviconCacheConfig.db_url" title="searx.favicons.cache.FaviconCacheConfig.db_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaviconCacheConfig.db_url</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.favicons.cache.FaviconCacheConfig.HOLD_TIME" title="searx.favicons.cache.FaviconCacheConfig.HOLD_TIME"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaviconCacheConfig.HOLD_TIME</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.favicons.cache.FaviconCacheConfig.LIMIT_TOTAL_BYTES" title="searx.favicons.cache.FaviconCacheConfig.LIMIT_TOTAL_BYTES"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaviconCacheConfig.LIMIT_TOTAL_BYTES</span></code></a></p></li>
<li><p><a class="reference internal" href="#searx.favicons.cache.FaviconCacheConfig.BLOB_MAX_BYTES" title="searx.favicons.cache.FaviconCacheConfig.BLOB_MAX_BYTES"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaviconCacheConfig.BLOB_MAX_BYTES</span></code></a></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">MAINTENANCE_PERIOD</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">MAINTENANCE_MODE</span></code></p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheSQLite.DB_SCHEMA">
<span class="sig-name descname"><span class="pre">DB_SCHEMA</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#searx.favicons.cache.FaviconCacheSQLite.DB_SCHEMA" title="Link to this definition">¶</a></dt>
<dd><p>As soon as changes are made to the DB schema, the version number must be
increased.  Changes to the version number require the DB to be recreated (or
migrated / if an migration path exists and is implemented).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheSQLite.DDL_BLOBS">
<span class="sig-name descname"><span class="pre">DDL_BLOBS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'CREATE</span> <span class="pre">TABLE</span> <span class="pre">IF</span> <span class="pre">NOT</span> <span class="pre">EXISTS</span> <span class="pre">blobs</span> <span class="pre">(\n</span>&#160; <span class="pre">sha256</span>&#160;&#160;&#160;&#160; <span class="pre">TEXT,\n</span>&#160; <span class="pre">bytes_c</span>&#160;&#160;&#160; <span class="pre">INTEGER,\n</span>&#160; <span class="pre">mime</span>&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">TEXT</span> <span class="pre">NOT</span> <span class="pre">NULL,\n</span>&#160; <span class="pre">data</span>&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">BLOB</span> <span class="pre">NOT</span> <span class="pre">NULL,\n</span>&#160; <span class="pre">PRIMARY</span> <span class="pre">KEY</span> <span class="pre">(sha256))'</span></em><a class="headerlink" href="#searx.favicons.cache.FaviconCacheSQLite.DDL_BLOBS" title="Link to this definition">¶</a></dt>
<dd><p>Table to store BLOB objects by their sha256 hash values.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheSQLite.DDL_BLOB_MAP">
<span class="sig-name descname"><span class="pre">DDL_BLOB_MAP</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&quot;CREATE</span> <span class="pre">TABLE</span> <span class="pre">IF</span> <span class="pre">NOT</span> <span class="pre">EXISTS</span> <span class="pre">blob_map</span> <span class="pre">(\n</span>&#160;&#160;&#160; <span class="pre">m_time</span>&#160;&#160;&#160;&#160; <span class="pre">INTEGER</span> <span class="pre">DEFAULT</span> <span class="pre">(strftime('%s',</span> <span class="pre">'now')),</span>&#160; <span class="pre">--</span> <span class="pre">last</span> <span class="pre">modified</span> <span class="pre">(unix</span> <span class="pre">epoch)</span> <span class="pre">time</span> <span class="pre">in</span> <span class="pre">sec.\n</span>&#160;&#160;&#160; <span class="pre">sha256</span>&#160;&#160;&#160;&#160; <span class="pre">TEXT,\n</span>&#160;&#160;&#160; <span class="pre">resolver</span>&#160;&#160; <span class="pre">TEXT,\n</span>&#160;&#160;&#160; <span class="pre">authority</span>&#160; <span class="pre">TEXT,\n</span>&#160;&#160;&#160; <span class="pre">PRIMARY</span> <span class="pre">KEY</span> <span class="pre">(resolver,</span> <span class="pre">authority))&quot;</span></em><a class="headerlink" href="#searx.favicons.cache.FaviconCacheSQLite.DDL_BLOB_MAP" title="Link to this definition">¶</a></dt>
<dd><p>Table to map from (resolver, authority) to sha256 hash values.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheSQLite.SQL_DROP_LEFTOVER_BLOBS">
<span class="sig-name descname"><span class="pre">SQL_DROP_LEFTOVER_BLOBS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'DELETE</span> <span class="pre">FROM</span> <span class="pre">blobs</span> <span class="pre">WHERE</span> <span class="pre">sha256</span> <span class="pre">IN</span> <span class="pre">(</span> <span class="pre">SELECT</span> <span class="pre">b.sha256</span>&#160;&#160; <span class="pre">FROM</span> <span class="pre">blobs</span> <span class="pre">b</span>&#160;&#160; <span class="pre">LEFT</span> <span class="pre">JOIN</span> <span class="pre">blob_map</span> <span class="pre">bm</span>&#160;&#160;&#160;&#160; <span class="pre">ON</span> <span class="pre">b.sha256</span> <span class="pre">=</span> <span class="pre">bm.sha256</span>&#160; <span class="pre">WHERE</span> <span class="pre">bm.sha256</span> <span class="pre">IS</span> <span class="pre">NULL)'</span></em><a class="headerlink" href="#searx.favicons.cache.FaviconCacheSQLite.SQL_DROP_LEFTOVER_BLOBS" title="Link to this definition">¶</a></dt>
<dd><p>Delete blobs.sha256 (BLOBs) no longer in blob_map.sha256.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheSQLite.set">
<span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resolver</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">authority</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#searx.favicons.cache.FaviconCacheSQLite.set" title="Link to this definition">¶</a></dt>
<dd><p>Set data and mime-type in the cache.  If data is None, the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">FALLBACK_ICON</span></code> is registered. in the cache.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheSQLite.next_maintenance_time">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">next_maintenance_time</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#searx.favicons.cache.FaviconCacheSQLite.next_maintenance_time" title="Link to this definition">¶</a></dt>
<dd><p>Returns (unix epoch) time of the next maintenance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheSQLite.maintenance">
<span class="sig-name descname"><span class="pre">maintenance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.favicons.cache.FaviconCacheSQLite.maintenance" title="Link to this definition">¶</a></dt>
<dd><p>Performs maintenance on the cache</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheSQLite.state">
<span class="sig-name descname"><span class="pre">state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#searx.favicons.cache.FaviconCacheStats" title="searx.favicons.cache.FaviconCacheStats"><span class="pre">FaviconCacheStats</span></a></span></span><a class="headerlink" href="#searx.favicons.cache.FaviconCacheSQLite.state" title="Link to this definition">¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="#searx.favicons.cache.FaviconCacheStats" title="searx.favicons.cache.FaviconCacheStats"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaviconCacheStats</span></code></a> (key/values) with information
on the state of the cache.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheMEM">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.favicons.cache.</span></span><span class="sig-name descname"><span class="pre">FaviconCacheMEM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.favicons.cache.FaviconCacheMEM" title="Link to this definition">¶</a></dt>
<dd><p>Favicon cache in process’ memory.  Its just a POC that stores the
favicons in the memory of the process.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Don’t use it in production, it will blow up your memory!!</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheMEM.set">
<span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resolver</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">authority</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#searx.favicons.cache.FaviconCacheMEM.set" title="Link to this definition">¶</a></dt>
<dd><p>Set data and mime-type in the cache.  If data is None, the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">FALLBACK_ICON</span></code> is registered. in the cache.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheMEM.state">
<span class="sig-name descname"><span class="pre">state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#searx.favicons.cache.FaviconCacheMEM.state" title="Link to this definition">¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="#searx.favicons.cache.FaviconCacheStats" title="searx.favicons.cache.FaviconCacheStats"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaviconCacheStats</span></code></a> (key/values) with information
on the state of the cache.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.favicons.cache.FaviconCacheMEM.maintenance">
<span class="sig-name descname"><span class="pre">maintenance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.favicons.cache.FaviconCacheMEM.maintenance" title="Link to this definition">¶</a></dt>
<dd><p>Performs maintenance on the cache</p>
</dd></dl>

</dd></dl>

</section>
</section>
<span id="document-src/searx.infopage"></span><section id="module-searx.infopage">
<span id="online-info"></span><span id="searx-infopage"></span><h3>Online <code class="docutils literal notranslate"><span class="pre">/info</span></code><a class="headerlink" href="#module-searx.infopage" title="Link to this heading">¶</a></h3>
<p>Render SearXNG instance documentation.</p>
<p>Usage in a Flask app route:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">searx</span><span class="w"> </span><span class="kn">import</span> <span class="n">infopage</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">searx.extended_types</span><span class="w"> </span><span class="kn">import</span> <span class="n">sxng_request</span>

<span class="n">_INFO_PAGES</span> <span class="o">=</span> <span class="n">infopage</span><span class="o">.</span><span class="n">InfoPageSet</span><span class="p">(</span><span class="n">infopage</span><span class="o">.</span><span class="n">MistletoePage</span><span class="p">)</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/info/&lt;pagename&gt;&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">info</span><span class="p">(</span><span class="n">pagename</span><span class="p">):</span>

    <span class="n">locale</span> <span class="o">=</span> <span class="n">sxng_request</span><span class="o">.</span><span class="n">preferences</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="s1">&#39;locale&#39;</span><span class="p">)</span>
    <span class="n">page</span> <span class="o">=</span> <span class="n">_INFO_PAGES</span><span class="o">.</span><span class="n">get_page</span><span class="p">(</span><span class="n">pagename</span><span class="p">,</span> <span class="n">locale</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="searx.infopage.InfoPage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.infopage.</span></span><span class="sig-name descname"><span class="pre">InfoPage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.infopage.InfoPage" title="Link to this definition">¶</a></dt>
<dd><p>A page of the <a class="reference internal" href="#searx.infopage.InfoPageSet" title="searx.infopage.InfoPageSet"><code class="xref py py-obj docutils literal notranslate"><span class="pre">online</span> <span class="pre">documentation</span></code></a>.</p>
<dl class="py property">
<dt class="sig sig-object py" id="searx.infopage.InfoPage.raw_content">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">raw_content</span></span><a class="headerlink" href="#searx.infopage.InfoPage.raw_content" title="Link to this definition">¶</a></dt>
<dd><p>Raw content of the page (without any jinja rendering)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="searx.infopage.InfoPage.content">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">content</span></span><a class="headerlink" href="#searx.infopage.InfoPage.content" title="Link to this definition">¶</a></dt>
<dd><p>Content of the page (rendered in a Jinja context)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="searx.infopage.InfoPage.title">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">title</span></span><a class="headerlink" href="#searx.infopage.InfoPage.title" title="Link to this definition">¶</a></dt>
<dd><p>Title of the content (without any markup)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="searx.infopage.InfoPage.html">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">html</span></span><a class="headerlink" href="#searx.infopage.InfoPage.html" title="Link to this definition">¶</a></dt>
<dd><p>Render Markdown (<a class="reference external" href="https://commonmark.org/">CommonMark</a>) to HTML by using <a class="reference external" href="https://github.com/executablebooks/markdown-it-py">markdown-it-py</a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.infopage.InfoPage.get_ctx">
<span class="sig-name descname"><span class="pre">get_ctx</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#searx.infopage.InfoPage.get_ctx" title="Link to this definition">¶</a></dt>
<dd><p>Jinja context to render <a class="reference internal" href="#searx.infopage.InfoPage.content" title="searx.infopage.InfoPage.content"><code class="xref py py-obj docutils literal notranslate"><span class="pre">InfoPage.content</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.infopage.InfoPageSet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.infopage.</span></span><span class="sig-name descname"><span class="pre">InfoPageSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page_class</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.13)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#searx.infopage.InfoPage" title="searx.infopage.InfoPage"><span class="pre">InfoPage</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.infopage.InfoPageSet" title="Link to this definition">¶</a></dt>
<dd><p>Cached rendering of the online documentation a SearXNG instance has.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>page_class</strong> (<a class="reference internal" href="#searx.infopage.InfoPage" title="searx.infopage.InfoPage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">InfoPage</span></code></a>) – render online documentation by <a class="reference internal" href="#searx.infopage.InfoPage" title="searx.infopage.InfoPage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">InfoPage</span></code></a> parser.</p></li>
<li><p><strong>info_folder</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – information directory</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.infopage.InfoPageSet.folder">
<span class="sig-name descname"><span class="pre">folder</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.infopage.InfoPageSet.folder" title="Link to this definition">¶</a></dt>
<dd><p>location of the Markdown files</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.infopage.InfoPageSet.locale_default">
<span class="sig-name descname"><span class="pre">locale_default</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#searx.infopage.InfoPageSet.locale_default" title="Link to this definition">¶</a></dt>
<dd><p>default language</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.infopage.InfoPageSet.locales">
<span class="sig-name descname"><span class="pre">locales</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.infopage.InfoPageSet.locales" title="Link to this definition">¶</a></dt>
<dd><p>list of supported languages (aka locales)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.infopage.InfoPageSet.toc">
<span class="sig-name descname"><span class="pre">toc</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#searx.infopage.InfoPageSet.toc" title="Link to this definition">¶</a></dt>
<dd><p>list of articles in the online documentation</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.infopage.InfoPageSet.get_page">
<span class="sig-name descname"><span class="pre">get_page</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pagename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.infopage.InfoPageSet.get_page" title="Link to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">pagename</span></code> instance of <a class="reference internal" href="#searx.infopage.InfoPage" title="searx.infopage.InfoPage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">InfoPage</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pagename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – name of the page, a value from <a class="reference internal" href="#searx.infopage.InfoPageSet.toc" title="searx.infopage.InfoPageSet.toc"><code class="xref py py-obj docutils literal notranslate"><span class="pre">InfoPageSet.toc</span></code></a></p></li>
<li><p><strong>locale</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – language of the page, e.g. <code class="docutils literal notranslate"><span class="pre">en</span></code>, <code class="docutils literal notranslate"><span class="pre">zh_Hans_CN</span></code>
(default: <code class="xref py py-obj docutils literal notranslate"><span class="pre">InfoPageSet.i18n_origin</span></code>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.infopage.InfoPageSet.iter_pages">
<span class="sig-name descname"><span class="pre">iter_pages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fallback_to_default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.infopage.InfoPageSet.iter_pages" title="Link to this definition">¶</a></dt>
<dd><p>Iterate over all pages of the TOC</p>
</dd></dl>

</dd></dl>

</section>
<span id="document-src/searx.locales"></span><section id="locales">
<span id="searx-locales"></span><h3>Locales<a class="headerlink" href="#locales" title="Link to this heading">¶</a></h3>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#searxngs-locale-data" id="id1">SearXNG’s locale data</a></p></li>
<li><p><a class="reference internal" href="#module-searx.sxng_locales" id="id2">SearXNG’s locale codes</a></p></li>
<li><p><a class="reference internal" href="#searxngs-locale-implementations" id="id3">SearXNG’s locale implementations</a></p></li>
</ul>
</nav>
<section id="searxngs-locale-data">
<span id="module-searx.locales"></span><h4><a class="toc-backref" href="#id1" role="doc-backlink">SearXNG’s locale data</a><a class="headerlink" href="#searxngs-locale-data" title="Link to this heading">¶</a></h4>
<p>The variables <a class="reference internal" href="#searx.locales.RTL_LOCALES" title="searx.locales.RTL_LOCALES"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RTL_LOCALES</span></code></a> and <a class="reference internal" href="#searx.locales.LOCALE_NAMES" title="searx.locales.LOCALE_NAMES"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LOCALE_NAMES</span></code></a> are loaded from
<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/data/locales.json">git://searx/data/locales.json</a> / see <a class="reference internal" href="#searx.locales.locales_initialize" title="searx.locales.locales_initialize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">locales_initialize</span></code></a> and
<a class="reference internal" href="#update-locales-py"><span class="std std-ref">update_locales.py</span></a>.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Whenever the value of <a class="reference internal" href="#searx.locales.ADDITIONAL_TRANSLATIONS" title="searx.locales.ADDITIONAL_TRANSLATIONS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ADDITIONAL_TRANSLATIONS</span></code></a> or
<a class="reference internal" href="#searx.locales.LOCALE_BEST_MATCH" title="searx.locales.LOCALE_BEST_MATCH"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LOCALE_BEST_MATCH</span></code></a> is modified, the
<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/data/locales.json">git://searx/data/locales.json</a> needs to be rebuild:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">manage</span> <span class="n">data</span><span class="o">.</span><span class="n">locales</span>
</pre></div>
</div>
</div>
</section>
<section id="module-searx.sxng_locales">
<span id="searxng-s-locale-codes"></span><h4><a class="toc-backref" href="#id2" role="doc-backlink">SearXNG’s locale codes</a><a class="headerlink" href="#module-searx.sxng_locales" title="Link to this heading">¶</a></h4>
<p>List of SearXNG’s locale codes used for the search language/region.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Don’t modify this file, this file is generated by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">manage</span> <span class="n">data</span><span class="o">.</span><span class="n">traits</span>
</pre></div>
</div>
</div>
<dl class="py data">
<dt class="sig sig-object py" id="searx.sxng_locales.sxng_locales">
<span class="sig-prename descclassname"><span class="pre">searx.sxng_locales.</span></span><span class="sig-name descname"><span class="pre">sxng_locales</span></span><a class="headerlink" href="#searx.sxng_locales.sxng_locales" title="Link to this definition">¶</a></dt>
<dd><p>A list of five-digit tuples:</p>
<ol class="arabic simple" start="0">
<li><p>SearXNG’s internal locale tag (a language or region tag)</p></li>
<li><p>Name of the language (<a class="reference external" href="https://babel.readthedocs.io/en/latest/api/core.html#babel.core.Locale.get_language_name" title="(in Babel v2.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">babel.core.Locale.get_language_name</span></code></a>)</p></li>
<li><p>For region tags the name of the region (<a class="reference external" href="https://babel.readthedocs.io/en/latest/api/core.html#babel.core.Locale.get_territory_name" title="(in Babel v2.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">babel.core.Locale.get_territory_name</span></code></a>).
Empty string for language tags.</p></li>
<li><p>English language name (from <a class="reference external" href="https://babel.readthedocs.io/en/latest/api/core.html#babel.core.Locale.english_name" title="(in Babel v2.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">babel.core.Locale.english_name</span></code></a>)</p></li>
<li><p>Unicode flag (emoji) that fits to SearXNG’s internal region tag. Languages
are represented by a globe (🌐)</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">,</span>    <span class="s1">&#39;English&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>              <span class="s1">&#39;English&#39;</span><span class="p">,</span> <span class="s1">&#39;🌐&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;en-CA&#39;</span><span class="p">,</span> <span class="s1">&#39;English&#39;</span><span class="p">,</span> <span class="s1">&#39;Canada&#39;</span><span class="p">,</span>        <span class="s1">&#39;English&#39;</span><span class="p">,</span> <span class="s1">&#39;🇨🇦&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;en-US&#39;</span><span class="p">,</span> <span class="s1">&#39;English&#39;</span><span class="p">,</span> <span class="s1">&#39;United States&#39;</span><span class="p">,</span> <span class="s1">&#39;English&#39;</span><span class="p">,</span> <span class="s1">&#39;🇺🇸&#39;</span><span class="p">),</span>
<span class="o">..</span>
<span class="p">(</span><span class="s1">&#39;fr&#39;</span><span class="p">,</span>    <span class="s1">&#39;Français&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>             <span class="s1">&#39;French&#39;</span><span class="p">,</span>  <span class="s1">&#39;🌐&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;fr-BE&#39;</span><span class="p">,</span> <span class="s1">&#39;Français&#39;</span><span class="p">,</span> <span class="s1">&#39;Belgique&#39;</span><span class="p">,</span>     <span class="s1">&#39;French&#39;</span><span class="p">,</span>  <span class="s1">&#39;🇧🇪&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;fr-CA&#39;</span><span class="p">,</span> <span class="s1">&#39;Français&#39;</span><span class="p">,</span> <span class="s1">&#39;Canada&#39;</span><span class="p">,</span>       <span class="s1">&#39;French&#39;</span><span class="p">,</span>  <span class="s1">&#39;🇨🇦&#39;</span><span class="p">),</span>
</pre></div>
</div>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
<section id="searxngs-locale-implementations">
<h4><a class="toc-backref" href="#id3" role="doc-backlink">SearXNG’s locale implementations</a><a class="headerlink" href="#searxngs-locale-implementations" title="Link to this heading">¶</a></h4>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="searx.locales.LOCALE_NAMES">
<span class="sig-prename descclassname"><span class="pre">searx.locales.</span></span><span class="sig-name descname"><span class="pre">LOCALE_NAMES</span></span><a class="headerlink" href="#searx.locales.LOCALE_NAMES" title="Link to this definition">¶</a></dt>
<dd><p>Mapping of locales and their description.  Locales e.g. ‘fr’ or ‘pt-BR’ (see
<a class="reference internal" href="#searx.locales.locales_initialize" title="searx.locales.locales_initialize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">locales_initialize</span></code></a>).</p>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.locales.RTL_LOCALES">
<span class="sig-prename descclassname"><span class="pre">searx.locales.</span></span><span class="sig-name descname"><span class="pre">RTL_LOCALES</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.13)"><span class="pre">set</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'ar',</span> <span class="pre">'fa-IR',</span> <span class="pre">'he'}</span></em><a class="headerlink" href="#searx.locales.RTL_LOCALES" title="Link to this definition">¶</a></dt>
<dd><p>List of <em>Right-To-Left</em> locales e.g. ‘he’ or ‘fa-IR’ (see
<a class="reference internal" href="#searx.locales.locales_initialize" title="searx.locales.locales_initialize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">locales_initialize</span></code></a>).</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.locales.ADDITIONAL_TRANSLATIONS">
<span class="sig-prename descclassname"><span class="pre">searx.locales.</span></span><span class="sig-name descname"><span class="pre">ADDITIONAL_TRANSLATIONS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'dv':</span> <span class="pre">'ދިވެހި</span> <span class="pre">(Dhivehi)',</span> <span class="pre">'oc':</span> <span class="pre">'Occitan',</span> <span class="pre">'pap':</span> <span class="pre">'Papiamento',</span> <span class="pre">'szl':</span> <span class="pre">'Ślōnski</span> <span class="pre">(Silesian)'}</span></em><a class="headerlink" href="#searx.locales.ADDITIONAL_TRANSLATIONS" title="Link to this definition">¶</a></dt>
<dd><p>Additional languages SearXNG has translations for but not supported by
python-babel (see <a class="reference internal" href="#searx.locales.locales_initialize" title="searx.locales.locales_initialize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">locales_initialize</span></code></a>).</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.locales.LOCALE_BEST_MATCH">
<span class="sig-prename descclassname"><span class="pre">searx.locales.</span></span><span class="sig-name descname"><span class="pre">LOCALE_BEST_MATCH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'dv':</span> <span class="pre">'si',</span> <span class="pre">'nl-BE':</span> <span class="pre">'nl',</span> <span class="pre">'oc':</span> <span class="pre">'fr-FR',</span> <span class="pre">'pap':</span> <span class="pre">'pt-BR',</span> <span class="pre">'szl':</span> <span class="pre">'pl',</span> <span class="pre">'zh-HK':</span> <span class="pre">'zh-Hant-TW'}</span></em><a class="headerlink" href="#searx.locales.LOCALE_BEST_MATCH" title="Link to this definition">¶</a></dt>
<dd><p>Map a locale we do not have a translations for to a locale we have a
translation for.  By example: use Taiwan version of the translation for Hong
Kong.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.locales.get_translations">
<span class="sig-prename descclassname"><span class="pre">searx.locales.</span></span><span class="sig-name descname"><span class="pre">get_translations</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#searx.locales.get_translations" title="Link to this definition">¶</a></dt>
<dd><p>Monkey patch of <a class="reference external" href="https://python-babel.github.io/flask-babel/index.html#flask_babel.get_translations" title="(in Flask-Babel)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flask_babel.get_translations</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.locales.get_translation_locales">
<span class="sig-prename descclassname"><span class="pre">searx.locales.</span></span><span class="sig-name descname"><span class="pre">get_translation_locales</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#searx.locales.get_translation_locales" title="Link to this definition">¶</a></dt>
<dd><p>Returns the list of translation locales (<em>underscore</em>).  The list is
generated from the translation folders in <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/translations">git://searx/translations</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.locales.locales_initialize">
<span class="sig-prename descclassname"><span class="pre">searx.locales.</span></span><span class="sig-name descname"><span class="pre">locales_initialize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#searx.locales.locales_initialize" title="Link to this definition">¶</a></dt>
<dd><p>Initialize locales environment of the SearXNG session.</p>
<ul class="simple">
<li><p>monkey patch <a class="reference external" href="https://python-babel.github.io/flask-babel/index.html#flask_babel.get_translations" title="(in Flask-Babel)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flask_babel.get_translations</span></code></a> by <a class="reference internal" href="#searx.locales.get_translations" title="searx.locales.get_translations"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_translations</span></code></a></p></li>
<li><p>init global names <a class="reference internal" href="#searx.locales.LOCALE_NAMES" title="searx.locales.LOCALE_NAMES"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LOCALE_NAMES</span></code></a>, <a class="reference internal" href="#searx.locales.RTL_LOCALES" title="searx.locales.RTL_LOCALES"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RTL_LOCALES</span></code></a></p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.locales.region_tag">
<span class="sig-prename descclassname"><span class="pre">searx.locales.</span></span><span class="sig-name descname"><span class="pre">region_tag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://babel.readthedocs.io/en/latest/api/core.html#babel.core.Locale" title="(in Babel v2.2)"><span class="pre">Locale</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#searx.locales.region_tag" title="Link to this definition">¶</a></dt>
<dd><p>Returns SearXNG’s region tag from the locale (e.g. zh-TW , en-US).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.locales.language_tag">
<span class="sig-prename descclassname"><span class="pre">searx.locales.</span></span><span class="sig-name descname"><span class="pre">language_tag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://babel.readthedocs.io/en/latest/api/core.html#babel.core.Locale" title="(in Babel v2.2)"><span class="pre">Locale</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#searx.locales.language_tag" title="Link to this definition">¶</a></dt>
<dd><p>Returns SearXNG’s language tag from the locale and if exits, the tag
includes the script name (e.g. en, zh_Hant).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.locales.get_locale">
<span class="sig-prename descclassname"><span class="pre">searx.locales.</span></span><span class="sig-name descname"><span class="pre">get_locale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locale_tag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://babel.readthedocs.io/en/latest/api/core.html#babel.core.Locale" title="(in Babel v2.2)"><span class="pre">Locale</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#searx.locales.get_locale" title="Link to this definition">¶</a></dt>
<dd><p>Returns a <code class="xref py py-obj docutils literal notranslate"><span class="pre">babel.Locale</span></code> object parsed from argument
<code class="docutils literal notranslate"><span class="pre">locale_tag</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.locales.get_official_locales">
<span class="sig-prename descclassname"><span class="pre">searx.locales.</span></span><span class="sig-name descname"><span class="pre">get_official_locales</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">territory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">languages</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regional</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">de_facto</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.13)"><span class="pre">set</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://babel.readthedocs.io/en/latest/api/core.html#babel.core.Locale" title="(in Babel v2.2)"><span class="pre">Locale</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#searx.locales.get_official_locales" title="Link to this definition">¶</a></dt>
<dd><p>Returns a list of <code class="xref py py-obj docutils literal notranslate"><span class="pre">babel.Locale</span></code> with languages from
<a class="reference external" href="https://babel.readthedocs.io/en/latest/api/languages.html#babel.languages.get_official_languages" title="(in Babel v2.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">babel.languages.get_official_languages</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>territory</strong> – The territory (country or region) code.</p></li>
<li><p><strong>languages</strong> – A list of language codes the languages from
<a class="reference external" href="https://babel.readthedocs.io/en/latest/api/languages.html#babel.languages.get_official_languages" title="(in Babel v2.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">babel.languages.get_official_languages</span></code></a> should be in
(intersection).  If this argument is <code class="docutils literal notranslate"><span class="pre">None</span></code>, all official languages in
this territory are used.</p></li>
<li><p><strong>regional</strong> – If the regional flag is set, then languages which are
regionally official are also returned.</p></li>
<li><p><strong>de_facto</strong> – If the de_facto flag is set to <cite>False</cite>, then languages
which are “de facto” official are not returned.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.locales.get_engine_locale">
<span class="sig-prename descclassname"><span class="pre">searx.locales.</span></span><span class="sig-name descname"><span class="pre">get_engine_locale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">searxng_locale</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_locales</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.locales.get_engine_locale" title="Link to this definition">¶</a></dt>
<dd><p>Return engine’s language (aka locale) string that best fits to argument
<code class="docutils literal notranslate"><span class="pre">searxng_locale</span></code>.</p>
<p>Argument <code class="docutils literal notranslate"><span class="pre">engine_locales</span></code> is a python dict that maps <em>SearXNG locales</em> to
corresponding <em>engine locales</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">engine</span><span class="o">&gt;</span><span class="p">:</span> <span class="p">{</span>
    <span class="c1"># SearXNG string : engine-string</span>
    <span class="s1">&#39;ca-ES&#39;</span>          <span class="p">:</span> <span class="s1">&#39;ca_ES&#39;</span><span class="p">,</span>
    <span class="s1">&#39;fr-BE&#39;</span>          <span class="p">:</span> <span class="s1">&#39;fr_BE&#39;</span><span class="p">,</span>
    <span class="s1">&#39;fr-CA&#39;</span>          <span class="p">:</span> <span class="s1">&#39;fr_CA&#39;</span><span class="p">,</span>
    <span class="s1">&#39;fr-CH&#39;</span>          <span class="p">:</span> <span class="s1">&#39;fr_CH&#39;</span><span class="p">,</span>
    <span class="s1">&#39;fr&#39;</span>             <span class="p">:</span> <span class="s1">&#39;fr_FR&#39;</span><span class="p">,</span>
    <span class="o">...</span>
    <span class="s1">&#39;pl-PL&#39;</span>          <span class="p">:</span> <span class="s1">&#39;pl_PL&#39;</span><span class="p">,</span>
    <span class="s1">&#39;pt-PT&#39;</span>          <span class="p">:</span> <span class="s1">&#39;pt_PT&#39;</span>
    <span class="o">..</span>
    <span class="s1">&#39;zh&#39;</span>             <span class="p">:</span> <span class="s1">&#39;zh&#39;</span>
    <span class="s1">&#39;zh_Hans&#39;</span>        <span class="p">:</span> <span class="s1">&#39;zh&#39;</span>
    <span class="s1">&#39;zh_Hant&#39;</span>        <span class="p">:</span> <span class="s1">&#39;zh_TW&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>The <em>SearXNG locale</em> string has to be known by babel!</p>
</div>
<p>If there is no direct 1:1 mapping, this functions tries to narrow down
engine’s language (locale).  If no value can be determined by these
approximation attempts the <code class="docutils literal notranslate"><span class="pre">default</span></code> value is returned.</p>
<p>Assumptions:</p>
<ol class="upperalpha simple">
<li><p>When user select a language the results should be optimized according to
the selected language.</p></li>
<li><p>When user select a language and a territory the results should be
optimized with first priority on territory and second on language.</p></li>
</ol>
<p>First approximation rule (<em>by territory</em>):</p>
<blockquote>
<div><p>When the user selects a locale with territory (and a language), the
territory has priority over the language.  If any of the official languages
in the territory is supported by the engine (<code class="docutils literal notranslate"><span class="pre">engine_locales</span></code>) it will
be used.</p>
</div></blockquote>
<p>Second approximation rule (<em>by language</em>):</p>
<blockquote>
<div><p>If “First approximation rule” brings no result or the user selects only a
language without a territory.  Check in which territories the language
has an official status and if one of these territories is supported by the
engine.</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.locales.match_locale">
<span class="sig-prename descclassname"><span class="pre">searx.locales.</span></span><span class="sig-name descname"><span class="pre">match_locale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">searxng_locale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale_tag_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fallback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#searx.locales.match_locale" title="Link to this definition">¶</a></dt>
<dd><p>Return tag from <code class="docutils literal notranslate"><span class="pre">locale_tag_list</span></code> that best fits to <code class="docutils literal notranslate"><span class="pre">searxng_locale</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>searxng_locale</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – SearXNG’s internal representation of locale (de,
de-DE, fr-BE, zh, zh-CN, zh-TW ..).</p></li>
<li><p><strong>locale_tag_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a>) – The list of locale tags to select from</p></li>
<li><p><strong>fallback</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – fallback locale tag (if unset –&gt; <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
</ul>
</dd>
</dl>
<p>The rules to find a match are implemented in <a class="reference internal" href="#searx.locales.get_engine_locale" title="searx.locales.get_engine_locale"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_engine_locale</span></code></a>,
the <code class="docutils literal notranslate"><span class="pre">engine_locales</span></code> is build up by <a class="reference internal" href="#searx.locales.build_engine_locales" title="searx.locales.build_engine_locales"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_engine_locales</span></code></a>.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>The <em>SearXNG locale</em> string and the members of <code class="docutils literal notranslate"><span class="pre">locale_tag_list</span></code> has to
be known by babel!  The <a class="reference internal" href="#searx.locales.ADDITIONAL_TRANSLATIONS" title="searx.locales.ADDITIONAL_TRANSLATIONS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ADDITIONAL_TRANSLATIONS</span></code></a> are used in the
UI and are not known by babel –&gt; will be ignored.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.locales.build_engine_locales">
<span class="sig-prename descclassname"><span class="pre">searx.locales.</span></span><span class="sig-name descname"><span class="pre">build_engine_locales</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.locales.build_engine_locales" title="Link to this definition">¶</a></dt>
<dd><p>From a list of locale tags a dictionary is build that can be passed by
argument <code class="docutils literal notranslate"><span class="pre">engine_locales</span></code> to <a class="reference internal" href="#searx.locales.get_engine_locale" title="searx.locales.get_engine_locale"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_engine_locale</span></code></a>.  This function
is mainly used by <a class="reference internal" href="#searx.locales.match_locale" title="searx.locales.match_locale"><code class="xref py py-obj docutils literal notranslate"><span class="pre">match_locale</span></code></a> and is similar to what the
<code class="docutils literal notranslate"><span class="pre">fetch_traits(..)</span></code> function of engines do.</p>
<p>If there are territory codes in the <code class="docutils literal notranslate"><span class="pre">tag_list</span></code> that have a <em>script code</em>
additional keys are added to the returned dictionary.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">locales</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">engine_locales</span> <span class="o">=</span> <span class="n">locales</span><span class="o">.</span><span class="n">build_engine_locales</span><span class="p">([</span><span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="s1">&#39;en-US&#39;</span><span class="p">,</span> <span class="s1">&#39;zh&#39;</span><span class="p">,</span> <span class="s1">&#39;zh-CN&#39;</span><span class="p">,</span> <span class="s1">&#39;zh-TW&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">engine_locales</span>
<span class="go">{</span>
<span class="go">    &#39;en&#39;: &#39;en&#39;, &#39;en-US&#39;: &#39;en-US&#39;,</span>
<span class="go">    &#39;zh&#39;: &#39;zh&#39;, &#39;zh-CN&#39;: &#39;zh-CN&#39;, &#39;zh_Hans&#39;: &#39;zh-CN&#39;,</span>
<span class="go">    &#39;zh-TW&#39;: &#39;zh-TW&#39;, &#39;zh_Hant&#39;: &#39;zh-TW&#39;</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_engine_locale</span><span class="p">(</span><span class="s1">&#39;zh-Hans&#39;</span><span class="p">,</span> <span class="n">engine_locales</span><span class="p">)</span>
<span class="go">&#39;zh-CN&#39;</span>
</pre></div>
</div>
<p>This function is a good example to understand the language/region model
of SearXNG:</p>
<blockquote>
<div><p>SearXNG only distinguishes between <strong>search languages</strong> and <strong>search
regions</strong>, by adding the <em>script-tags</em>, languages with <em>script-tags</em> can
be assigned to the <strong>regions</strong> that SearXNG supports.</p>
</div></blockquote>
</dd></dl>

</section>
<span id="document-src/searx.search"></span><section id="search">
<span id="searx-search"></span><h3>Search<a class="headerlink" href="#search" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="searx.search.EngineRef">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.search.</span></span><span class="sig-name descname"><span class="pre">EngineRef</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">category</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.search.EngineRef" title="Link to this definition">¶</a></dt>
<dd><p>Reference by names to an engine and category</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.search.SearchQuery">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.search.</span></span><span class="sig-name descname"><span class="pre">SearchQuery</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">engineref_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#searx.search.EngineRef" title="searx.search.models.EngineRef"><span class="pre">EngineRef</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">safesearch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pageno</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">external_bang</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">redirect_to_first_result</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.search.SearchQuery" title="Link to this definition">¶</a></dt>
<dd><p>container for all the search parameters (query, language, etc…)</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.search.Search">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.search.</span></span><span class="sig-name descname"><span class="pre">Search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.search.SearchQuery" title="searx.search.models.SearchQuery"><span class="pre">SearchQuery</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.search.Search" title="Link to this definition">¶</a></dt>
<dd><p>Search information container</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.search.Search.search_query">
<span class="sig-name descname"><span class="pre">search_query</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#searx.search.SearchQuery" title="searx.search.SearchQuery"><span class="pre">searx.search.SearchQuery</span></a></em><a class="headerlink" href="#searx.search.Search.search_query" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.search.Search.result_container">
<span class="sig-name descname"><span class="pre">result_container</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">searx.results.ResultContainer</span></em><a class="headerlink" href="#searx.search.Search.result_container" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.search.Search.search">
<span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">searx.results.ResultContainer</span></span></span><a class="headerlink" href="#searx.search.Search.search" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.search.SearchWithPlugins">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.search.</span></span><span class="sig-name descname"><span class="pre">SearchWithPlugins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.search.SearchQuery" title="searx.search.models.SearchQuery"><span class="pre">SearchQuery</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.extended_types.SXNG_Request" title="searx.extended_types.SXNG_Request"><span class="pre">SXNG_Request</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_plugins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.search.SearchWithPlugins" title="Link to this definition">¶</a></dt>
<dd><p>Inherit from the Search class, add calls to the plugins.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.search.SearchWithPlugins.search_query">
<span class="sig-name descname"><span class="pre">search_query</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#searx.search.SearchQuery" title="searx.search.SearchQuery"><span class="pre">searx.search.SearchQuery</span></a></em><a class="headerlink" href="#searx.search.SearchWithPlugins.search_query" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.search.SearchWithPlugins.result_container">
<span class="sig-name descname"><span class="pre">result_container</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">searx.results.ResultContainer</span></em><a class="headerlink" href="#searx.search.SearchWithPlugins.result_container" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.search.SearchWithPlugins.ordered_plugin_list">
<span class="sig-name descname"><span class="pre">ordered_plugin_list</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a></em><a class="headerlink" href="#searx.search.SearchWithPlugins.ordered_plugin_list" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.search.SearchWithPlugins.request">
<span class="sig-name descname"><span class="pre">request</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">flask.request</span></em><a class="headerlink" href="#searx.search.SearchWithPlugins.request" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.search.SearchWithPlugins.search">
<span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">searx.results.ResultContainer</span></span></span><a class="headerlink" href="#searx.search.SearchWithPlugins.search" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<span id="document-src/searx.search.processors"></span><section id="search-processors">
<span id="searx-search-processors"></span><h3>Search processors<a class="headerlink" href="#search-processors" title="Link to this heading">¶</a></h3>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#module-searx.search.processors.abstract" id="id1">Abstract processor class</a></p></li>
<li><p><a class="reference internal" href="#module-searx.search.processors.offline" id="id2">Offline processor</a></p></li>
<li><p><a class="reference internal" href="#module-searx.search.processors.online" id="id3">Online processor</a></p></li>
<li><p><a class="reference internal" href="#module-searx.search.processors.online_currency" id="id4">Online currency processor</a></p></li>
<li><p><a class="reference internal" href="#module-searx.search.processors.online_dictionary" id="id5">Online dictionary processor</a></p></li>
<li><p><a class="reference internal" href="#module-searx.search.processors.online_url_search" id="id6">Online URL search processor</a></p></li>
</ul>
</nav>
<section id="module-searx.search.processors.abstract">
<span id="abstract-processor-class"></span><h4><a class="toc-backref" href="#id1" role="doc-backlink">Abstract processor class</a><a class="headerlink" href="#module-searx.search.processors.abstract" title="Link to this heading">¶</a></h4>
<p>Abstract base classes for engine request processors.</p>
<dl class="py class">
<dt class="sig sig-object py" id="searx.search.processors.abstract.SuspendedStatus">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.search.processors.abstract.</span></span><span class="sig-name descname"><span class="pre">SuspendedStatus</span></span><a class="headerlink" href="#searx.search.processors.abstract.SuspendedStatus" title="Link to this definition">¶</a></dt>
<dd><p>Class to handle suspend state.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.search.processors.abstract.EngineProcessor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.search.processors.abstract.</span></span><span class="sig-name descname"><span class="pre">EngineProcessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.search.processors.abstract.EngineProcessor" title="Link to this definition">¶</a></dt>
<dd><p>Base classes used for all types of request processors.</p>
<dl class="py method">
<dt class="sig sig-object py" id="searx.search.processors.abstract.EngineProcessor.get_params">
<span class="sig-name descname"><span class="pre">get_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_category</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.search.processors.abstract.EngineProcessor.get_params" title="Link to this definition">¶</a></dt>
<dd><p>Returns a set of (see <a class="reference internal" href="#engine-request-arguments"><span class="std std-ref">request params</span></a>) or
<code class="docutils literal notranslate"><span class="pre">None</span></code> if request is not supported.</p>
<p>Not supported conditions (<code class="docutils literal notranslate"><span class="pre">None</span></code> is returned):</p>
<ul class="simple">
<li><p>A page-number &gt; 1 when engine does not support paging.</p></li>
<li><p>A time range when the engine does not support time range.</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-searx.search.processors.offline">
<span id="offline-processor"></span><h4><a class="toc-backref" href="#id2" role="doc-backlink">Offline processor</a><a class="headerlink" href="#module-searx.search.processors.offline" title="Link to this heading">¶</a></h4>
<p>Processors for engine-type: <code class="docutils literal notranslate"><span class="pre">offline</span></code></p>
<dl class="py class">
<dt class="sig sig-object py" id="searx.search.processors.offline.OfflineProcessor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.search.processors.offline.</span></span><span class="sig-name descname"><span class="pre">OfflineProcessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.search.processors.offline.OfflineProcessor" title="Link to this definition">¶</a></dt>
<dd><p>Processor class used by <code class="docutils literal notranslate"><span class="pre">offline</span></code> engines</p>
</dd></dl>

</section>
<section id="module-searx.search.processors.online">
<span id="online-processor"></span><h4><a class="toc-backref" href="#id3" role="doc-backlink">Online processor</a><a class="headerlink" href="#module-searx.search.processors.online" title="Link to this heading">¶</a></h4>
<p>Processors for engine-type: <code class="docutils literal notranslate"><span class="pre">online</span></code></p>
<dl class="py function">
<dt class="sig sig-object py" id="searx.search.processors.online.default_request_params">
<span class="sig-prename descclassname"><span class="pre">searx.search.processors.online.</span></span><span class="sig-name descname"><span class="pre">default_request_params</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#searx.search.processors.online.default_request_params" title="Link to this definition">¶</a></dt>
<dd><p>Default request parameters for <code class="docutils literal notranslate"><span class="pre">online</span></code> engines.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.search.processors.online.OnlineProcessor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.search.processors.online.</span></span><span class="sig-name descname"><span class="pre">OnlineProcessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.search.processors.online.OnlineProcessor" title="Link to this definition">¶</a></dt>
<dd><p>Processor class for <code class="docutils literal notranslate"><span class="pre">online</span></code> engines.</p>
<dl class="py method">
<dt class="sig sig-object py" id="searx.search.processors.online.OnlineProcessor.get_params">
<span class="sig-name descname"><span class="pre">get_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_category</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.search.processors.online.OnlineProcessor.get_params" title="Link to this definition">¶</a></dt>
<dd><p>Returns a set of <a class="reference internal" href="#engine-request-online"><span class="std std-ref">request params</span></a> or <code class="docutils literal notranslate"><span class="pre">None</span></code>
if request is not supported.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-searx.search.processors.online_currency">
<span id="online-currency-processor"></span><h4><a class="toc-backref" href="#id4" role="doc-backlink">Online currency processor</a><a class="headerlink" href="#module-searx.search.processors.online_currency" title="Link to this heading">¶</a></h4>
<p>Processors for engine-type: <code class="docutils literal notranslate"><span class="pre">online_currency</span></code></p>
<dl class="py class">
<dt class="sig sig-object py" id="searx.search.processors.online_currency.OnlineCurrencyProcessor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.search.processors.online_currency.</span></span><span class="sig-name descname"><span class="pre">OnlineCurrencyProcessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.search.processors.online_currency.OnlineCurrencyProcessor" title="Link to this definition">¶</a></dt>
<dd><p>Processor class used by <code class="docutils literal notranslate"><span class="pre">online_currency</span></code> engines.</p>
<dl class="py method">
<dt class="sig sig-object py" id="searx.search.processors.online_currency.OnlineCurrencyProcessor.get_params">
<span class="sig-name descname"><span class="pre">get_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_category</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.search.processors.online_currency.OnlineCurrencyProcessor.get_params" title="Link to this definition">¶</a></dt>
<dd><p>Returns a set of <a class="reference internal" href="#engine-request-online-currency"><span class="std std-ref">request params</span></a>
or <code class="docutils literal notranslate"><span class="pre">None</span></code> if search query does not match to <code class="xref py py-obj docutils literal notranslate"><span class="pre">parser_re</span></code>.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-searx.search.processors.online_dictionary">
<span id="online-dictionary-processor"></span><h4><a class="toc-backref" href="#id5" role="doc-backlink">Online dictionary processor</a><a class="headerlink" href="#module-searx.search.processors.online_dictionary" title="Link to this heading">¶</a></h4>
<p>Processors for engine-type: <code class="docutils literal notranslate"><span class="pre">online_dictionary</span></code></p>
<dl class="py class">
<dt class="sig sig-object py" id="searx.search.processors.online_dictionary.OnlineDictionaryProcessor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.search.processors.online_dictionary.</span></span><span class="sig-name descname"><span class="pre">OnlineDictionaryProcessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.search.processors.online_dictionary.OnlineDictionaryProcessor" title="Link to this definition">¶</a></dt>
<dd><p>Processor class used by <code class="docutils literal notranslate"><span class="pre">online_dictionary</span></code> engines.</p>
<dl class="py method">
<dt class="sig sig-object py" id="searx.search.processors.online_dictionary.OnlineDictionaryProcessor.get_params">
<span class="sig-name descname"><span class="pre">get_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_category</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.search.processors.online_dictionary.OnlineDictionaryProcessor.get_params" title="Link to this definition">¶</a></dt>
<dd><p>Returns a set of <a class="reference internal" href="#engine-request-online-dictionary"><span class="std std-ref">request params</span></a> or
<code class="docutils literal notranslate"><span class="pre">None</span></code> if search query does not match to <code class="xref py py-obj docutils literal notranslate"><span class="pre">parser_re</span></code>.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-searx.search.processors.online_url_search">
<span id="online-url-search-processor"></span><h4><a class="toc-backref" href="#id6" role="doc-backlink">Online URL search processor</a><a class="headerlink" href="#module-searx.search.processors.online_url_search" title="Link to this heading">¶</a></h4>
<p>Processors for engine-type: <code class="docutils literal notranslate"><span class="pre">online_url_search</span></code></p>
<dl class="py class">
<dt class="sig sig-object py" id="searx.search.processors.online_url_search.OnlineUrlSearchProcessor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.search.processors.online_url_search.</span></span><span class="sig-name descname"><span class="pre">OnlineUrlSearchProcessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.search.processors.online_url_search.OnlineUrlSearchProcessor" title="Link to this definition">¶</a></dt>
<dd><p>Processor class used by <code class="docutils literal notranslate"><span class="pre">online_url_search</span></code> engines.</p>
<dl class="py method">
<dt class="sig sig-object py" id="searx.search.processors.online_url_search.OnlineUrlSearchProcessor.get_params">
<span class="sig-name descname"><span class="pre">get_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_category</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.search.processors.online_url_search.OnlineUrlSearchProcessor.get_params" title="Link to this definition">¶</a></dt>
<dd><p>Returns a set of <a class="reference internal" href="#engine-request-online"><span class="std std-ref">request params</span></a> or <code class="docutils literal notranslate"><span class="pre">None</span></code> if
search query does not match to <code class="xref py py-obj docutils literal notranslate"><span class="pre">re_search_urls</span></code>.</p>
</dd></dl>

</dd></dl>

</section>
</section>
<span id="document-src/searx.settings"></span><section id="module-searx.settings_loader">
<span id="settings-loader"></span><span id="searx-settings-loader"></span><h3>Settings Loader<a class="headerlink" href="#module-searx.settings_loader" title="Link to this heading">¶</a></h3>
<p>Implementations for loading configurations from YAML files.  This essentially
includes the configuration of the (<a class="reference internal" href="#searxng-settings-yml"><span class="std std-ref">SearXNG appl</span></a>)
server. The default configuration for the application server is loaded from the
<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/settings.yml">DEFAULT_SETTINGS_FILE</a>.  This default
configuration can be completely replaced or <a class="reference internal" href="#use-default-settings-yml"><span class="std std-ref">customized individually</span></a> and the <code class="docutils literal notranslate"><span class="pre">SEARXNG_SETTINGS_PATH</span></code> environment
variable can be used to set the location from which the local customizations are
to be loaded. The rules used for this can be found in the
<a class="reference internal" href="#searx.settings_loader.get_user_cfg_folder" title="searx.settings_loader.get_user_cfg_folder"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_user_cfg_folder</span></code></a> function.</p>
<ul class="simple">
<li><p>By default, local configurations are expected in folder <code class="docutils literal notranslate"><span class="pre">/etc/searxng</span></code> from
where applications can load them with the <a class="reference internal" href="#searx.settings_loader.get_yaml_cfg" title="searx.settings_loader.get_yaml_cfg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_yaml_cfg</span></code></a> function.</p></li>
<li><p>By default, customized <a class="reference internal" href="#searxng-settings-yml"><span class="std std-ref">SearXNG appl</span></a> settings are
expected in a file named <code class="docutils literal notranslate"><span class="pre">settings.yml</span></code>.</p></li>
</ul>
<dl class="py data">
<dt class="sig sig-object py" id="searx.settings_loader.DEFAULT_SETTINGS_FILE">
<span class="sig-prename descclassname"><span class="pre">searx.settings_loader.</span></span><span class="sig-name descname"><span class="pre">DEFAULT_SETTINGS_FILE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/mnt/d/code/searxng/searx/settings.yml')</span></em><a class="headerlink" href="#searx.settings_loader.DEFAULT_SETTINGS_FILE" title="Link to this definition">¶</a></dt>
<dd><p>The <a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/settings.yml">git://searx/settings.yml</a> file with all the default settings.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.settings_loader.load_yaml">
<span class="sig-prename descclassname"><span class="pre">searx.settings_loader.</span></span><span class="sig-name descname"><span class="pre">load_yaml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.settings_loader.load_yaml" title="Link to this definition">¶</a></dt>
<dd><p>Load YAML config from a file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.settings_loader.get_yaml_cfg">
<span class="sig-prename descclassname"><span class="pre">searx.settings_loader.</span></span><span class="sig-name descname"><span class="pre">get_yaml_cfg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a></span></span><a class="headerlink" href="#searx.settings_loader.get_yaml_cfg" title="Link to this definition">¶</a></dt>
<dd><p>Shortcut to load a YAML config from a file, located in the</p>
<ul class="simple">
<li><p><a class="reference internal" href="#searx.settings_loader.get_user_cfg_folder" title="searx.settings_loader.get_user_cfg_folder"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_user_cfg_folder</span></code></a> or</p></li>
<li><p>in the <code class="docutils literal notranslate"><span class="pre">searx</span></code> folder of the SearXNG installation</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.settings_loader.get_user_cfg_folder">
<span class="sig-prename descclassname"><span class="pre">searx.settings_loader.</span></span><span class="sig-name descname"><span class="pre">get_user_cfg_folder</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#searx.settings_loader.get_user_cfg_folder" title="Link to this definition">¶</a></dt>
<dd><p>Returns folder where the local configurations are located.</p>
<ol class="arabic">
<li><p>If the <code class="docutils literal notranslate"><span class="pre">SEARXNG_SETTINGS_PATH</span></code> environment is set and points to a
folder (e.g. <code class="docutils literal notranslate"><span class="pre">/etc/mysxng/</span></code>), all local configurations are expected in
this folder.  The settings of the <a class="reference internal" href="#searxng-settings-yml"><span class="std std-ref">SearXNG appl</span></a> then expected in <code class="docutils literal notranslate"><span class="pre">settings.yml</span></code>
(e.g. <code class="docutils literal notranslate"><span class="pre">/etc/mysxng/settings.yml</span></code>).</p></li>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">SEARXNG_SETTINGS_PATH</span></code> environment is set and points to a file
(e.g. <code class="docutils literal notranslate"><span class="pre">/etc/mysxng/myinstance.yml</span></code>), this file contains the settings of
the <a class="reference internal" href="#searxng-settings-yml"><span class="std std-ref">SearXNG appl</span></a> and the folder
(e.g. <code class="docutils literal notranslate"><span class="pre">/etc/mysxng/</span></code>) is used for all other configurations.</p>
<p>This type (<code class="docutils literal notranslate"><span class="pre">SEARXNG_SETTINGS_PATH</span></code> points to a file) is suitable for
use cases in which different profiles of the <a class="reference internal" href="#searxng-settings-yml"><span class="std std-ref">SearXNG appl</span></a> are to be managed, such as in test scenarios.</p>
</li>
<li><p>If folder <code class="docutils literal notranslate"><span class="pre">/etc/searxng</span></code> exists, it is used.</p></li>
</ol>
<p>In case none of the above path exists, <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned.  In case of
environment <code class="docutils literal notranslate"><span class="pre">SEARXNG_SETTINGS_PATH</span></code> is set, but the (folder or file) does
not exists, a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#EnvironmentError" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EnvironmentError</span></code></a> is raised.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.settings_loader.load_settings">
<span class="sig-prename descclassname"><span class="pre">searx.settings_loader.</span></span><span class="sig-name descname"><span class="pre">load_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">load_user_settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#searx.settings_loader.load_settings" title="Link to this definition">¶</a></dt>
<dd><p>Function for loading the settings of the SearXNG application
(<a class="reference internal" href="#searxng-settings-yml"><span class="std std-ref">settings.yml</span></a>).</p>
</dd></dl>

</section>
<span id="document-src/searx.sqlitedb"></span><section id="sqlite-db">
<span id="id1"></span><h3>SQLite DB<a class="headerlink" href="#sqlite-db" title="Link to this heading">¶</a></h3>
<p id="module-searx.sqlitedb">Implementations to make access to SQLite databases a little more convenient.</p>
<dl class="simple">
<dt><a class="reference internal" href="#searx.sqlitedb.SQLiteAppl" title="searx.sqlitedb.SQLiteAppl"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SQLiteAppl</span></code></a></dt><dd><p>Abstract class with which DB applications can be implemented.</p>
</dd>
<dt><a class="reference internal" href="#searx.sqlitedb.SQLiteProperties" title="searx.sqlitedb.SQLiteProperties"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SQLiteProperties</span></code></a>:</dt><dd><p>Class to manage properties stored in a database.</p>
</dd>
</dl>
<p>Examplarical implementations based on <a class="reference internal" href="#searx.sqlitedb.SQLiteAppl" title="searx.sqlitedb.SQLiteAppl"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SQLiteAppl</span></code></a>:</p>
<dl class="simple">
<dt><a class="reference internal" href="#searx.cache.ExpireCacheSQLite" title="searx.cache.ExpireCacheSQLite"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.cache.ExpireCacheSQLite</span></code></a> :</dt><dd><p>Cache that manages key/value pairs in a SQLite DB, in which the key/value
pairs are deleted after an “expire” time.  This type of cache is used, for
example, for the engines, see <a class="reference internal" href="#searx.enginelib.EngineCache" title="searx.enginelib.EngineCache"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.enginelib.EngineCache</span></code></a>.</p>
</dd>
<dt><a class="reference internal" href="#searx.favicons.cache.FaviconCacheSQLite" title="searx.favicons.cache.FaviconCacheSQLite"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.favicons.cache.FaviconCacheSQLite</span></code></a> :</dt><dd><p>Favicon cache that manages the favicon BLOBs in a SQLite DB.</p>
</dd>
</dl>
<hr class="docutils" />
<dl class="py class">
<dt class="sig sig-object py" id="searx.sqlitedb.DBSession">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.sqlitedb.</span></span><span class="sig-name descname"><span class="pre">DBSession</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.sqlitedb.SQLiteAppl" title="searx.sqlitedb.SQLiteAppl"><span class="pre">SQLiteAppl</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.sqlitedb.DBSession" title="Link to this definition">¶</a></dt>
<dd><p>A <em>thead-local</em> DB session</p>
<dl class="py method">
<dt class="sig sig-object py" id="searx.sqlitedb.DBSession.get_connect">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#searx.sqlitedb.SQLiteAppl" title="searx.sqlitedb.SQLiteAppl"><span class="pre">SQLiteAppl</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/sqlite3.html#sqlite3.Connection" title="(in Python v3.13)"><span class="pre">Connection</span></a></span></span><a class="headerlink" href="#searx.sqlitedb.DBSession.get_connect" title="Link to this definition">¶</a></dt>
<dd><p>Returns a thread local DB connection.  The connection is only
established once per thread.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.sqlitedb.SQLiteAppl">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.sqlitedb.</span></span><span class="sig-name descname"><span class="pre">SQLiteAppl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_url</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.sqlitedb.SQLiteAppl" title="Link to this definition">¶</a></dt>
<dd><p>Abstract base class for implementing convenient DB access in SQLite
applications.  In the constructor, a <a class="reference internal" href="#searx.sqlitedb.SQLiteProperties" title="searx.sqlitedb.SQLiteProperties"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SQLiteProperties</span></code></a> instance is
already aggregated under <code class="docutils literal notranslate"><span class="pre">self.properties</span></code>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.sqlitedb.SQLiteAppl.DB_SCHEMA">
<span class="sig-name descname"><span class="pre">DB_SCHEMA</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#searx.sqlitedb.SQLiteAppl.DB_SCHEMA" title="Link to this definition">¶</a></dt>
<dd><p>As soon as changes are made to the DB schema, the version number must be
increased.  Changes to the version number require the DB to be recreated (or
migrated / if an migration path exists and is implemented).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.sqlitedb.SQLiteAppl.SQLITE_THREADING_MODE">
<span class="sig-name descname"><span class="pre">SQLITE_THREADING_MODE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'multi-thread'</span></em><a class="headerlink" href="#searx.sqlitedb.SQLiteAppl.SQLITE_THREADING_MODE" title="Link to this definition">¶</a></dt>
<dd><p>Threading mode of the SQLite library.  Depends on the options used at
compile time and is different for different distributions and architectures.</p>
<p>Possible values are 0:<code class="docutils literal notranslate"><span class="pre">single-thread</span></code>, 1:<code class="docutils literal notranslate"><span class="pre">multi-thread</span></code>,
3:<code class="docutils literal notranslate"><span class="pre">serialized</span></code> (see <a class="reference external" href="https://docs.python.org/3/library/sqlite3.html#sqlite3.threadsafety" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sqlite3.threadsafety</span></code></a>).  Pre- Python 3.11
this value was hard coded to 1.</p>
<p>Depending on this value, optimizations are made, e.g. in “serialized” mode
it is not necessary to create a separate DB connector for each thread.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.sqlitedb.SQLiteAppl.SQLITE_JOURNAL_MODE">
<span class="sig-name descname"><span class="pre">SQLITE_JOURNAL_MODE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'WAL'</span></em><a class="headerlink" href="#searx.sqlitedb.SQLiteAppl.SQLITE_JOURNAL_MODE" title="Link to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">SQLiteAppl</span></code> applications are optimized for <a class="reference external" href="https://sqlite.org/wal.html">WAL</a> mode, its not recommend
to change the journal mode (see <code class="xref py py-obj docutils literal notranslate"><span class="pre">SQLiteAppl.tear_down</span></code>).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.sqlitedb.SQLiteAppl.SQLITE_CONNECT_ARGS">
<span class="sig-name descname"><span class="pre">SQLITE_CONNECT_ARGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'cached_statements':</span> <span class="pre">0,</span> <span class="pre">'check_same_thread':</span> <span class="pre">True,</span> <span class="pre">'isolation_level':</span> <span class="pre">None}</span></em><a class="headerlink" href="#searx.sqlitedb.SQLiteAppl.SQLITE_CONNECT_ARGS" title="Link to this definition">¶</a></dt>
<dd><p>Connection arguments (<a class="reference external" href="https://docs.python.org/3/library/sqlite3.html#sqlite3.connect" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sqlite3.connect</span></code></a>)</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">check_same_thread</span></code>:</dt><dd><p>Is disabled by default when <a class="reference internal" href="#searx.sqlitedb.SQLiteAppl.SQLITE_THREADING_MODE" title="searx.sqlitedb.SQLiteAppl.SQLITE_THREADING_MODE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SQLITE_THREADING_MODE</span></code></a> is
<code class="docutils literal notranslate"><span class="pre">serialized</span></code>.  The check is more of a hindrance in this case because it
would prevent a DB connector from being used in multiple threads.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cached_statements</span></code>:</dt><dd><p>Is set to <code class="docutils literal notranslate"><span class="pre">0</span></code> by default.  Note: Python 3.12+ fetch result are not
consistent in multi-threading application and causing an API misuse error.</p>
<p>The multithreading use in SQLiteAppl is intended and supported if
threadsafety is set to 3 (aka “serialized”). CPython supports “serialized”
from version 3.12 on, but unfortunately only with errors:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/python/cpython/issues/118172">https://github.com/python/cpython/issues/118172</a></p></li>
<li><p><a class="reference external" href="https://github.com/python/cpython/issues/123873">https://github.com/python/cpython/issues/123873</a></p></li>
</ul>
<p>The workaround for SQLite3 multithreading cache inconsistency is to set
option <code class="docutils literal notranslate"><span class="pre">cached_statements</span></code> to <code class="docutils literal notranslate"><span class="pre">0</span></code> by default.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.sqlitedb.SQLiteAppl.connect">
<span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/sqlite3.html#sqlite3.Connection" title="(in Python v3.13)"><span class="pre">Connection</span></a></span></span><a class="headerlink" href="#searx.sqlitedb.SQLiteAppl.connect" title="Link to this definition">¶</a></dt>
<dd><p>Creates a new DB connection (<a class="reference internal" href="#searx.sqlitedb.SQLiteAppl.SQLITE_CONNECT_ARGS" title="searx.sqlitedb.SQLiteAppl.SQLITE_CONNECT_ARGS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SQLITE_CONNECT_ARGS</span></code></a>).  If not
already done, the DB schema is set up.  The caller must take care of
closing the resource.  Alternatively, <a class="reference internal" href="#searx.sqlitedb.SQLiteAppl.DB" title="searx.sqlitedb.SQLiteAppl.DB"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SQLiteAppl.DB</span></code></a> can also
be used (the resource behind <cite>self.DB</cite> is automatically closed when the
process or thread is terminated).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.sqlitedb.SQLiteAppl.register_functions">
<span class="sig-name descname"><span class="pre">register_functions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conn</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.sqlitedb.SQLiteAppl.register_functions" title="Link to this definition">¶</a></dt>
<dd><p>Create <a class="reference external" href="https://docs.python.org/3/library/sqlite3.html#sqlite3.Connection.create_function">user-defined</a> SQL functions.</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">REGEXP(&lt;pattern&gt;,</span> <span class="pre">&lt;field&gt;)</span></code><span class="classifier">0 | 1</span></dt><dd><p><a class="reference external" href="https://docs.python.org/3/library/re.html#re.search">re.search</a> returns (int) 1 for a match and 0 for none match of
<code class="docutils literal notranslate"><span class="pre">&lt;pattern&gt;</span></code> in <code class="docutils literal notranslate"><span class="pre">&lt;field&gt;</span></code>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="s1">&#39;12&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">REGEXP</span><span class="p">(</span><span class="s1">&#39;^[0-9][0-9]$&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">field</span><span class="p">)</span>
<span class="c1">-- 12</span>

<span class="k">SELECT</span><span class="w"> </span><span class="n">REGEXP</span><span class="p">(</span><span class="s1">&#39;[0-9][0-9]&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;X12Y&#39;</span><span class="p">)</span>
<span class="c1">-- 1</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">REGEXP</span><span class="p">(</span><span class="s1">&#39;[0-9][0-9]&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;X1Y&#39;</span><span class="p">)</span>
<span class="c1">-- 0</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="searx.sqlitedb.SQLiteAppl.DB">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DB</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/sqlite3.html#sqlite3.Connection" title="(in Python v3.13)"><span class="pre">Connection</span></a></em><a class="headerlink" href="#searx.sqlitedb.SQLiteAppl.DB" title="Link to this definition">¶</a></dt>
<dd><p>Provides a DB connection.  The connection is a <em>singleton</em> and
therefore well suited for read access.  If
<a class="reference internal" href="#searx.sqlitedb.SQLiteAppl.SQLITE_THREADING_MODE" title="searx.sqlitedb.SQLiteAppl.SQLITE_THREADING_MODE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SQLITE_THREADING_MODE</span></code></a> is <code class="docutils literal notranslate"><span class="pre">serialized</span></code> only one DB connection
is created for all threads.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For dedicated <a class="reference external" href="https://docs.python.org/3/library/sqlite3.html#sqlite3-controlling-transactions">transaction control</a>, it is recommended to create a
new connection (<a class="reference internal" href="#searx.sqlitedb.SQLiteAppl.connect" title="searx.sqlitedb.SQLiteAppl.connect"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SQLiteAppl.connect</span></code></a>).</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.sqlitedb.SQLiteAppl.init">
<span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/sqlite3.html#sqlite3.Connection" title="(in Python v3.13)"><span class="pre">Connection</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#searx.sqlitedb.SQLiteAppl.init" title="Link to this definition">¶</a></dt>
<dd><p>Initializes the DB schema and properties, is only executed once even
if called several times.</p>
<p>If the initialization has not yet taken place, it is carried out and a
<cite>True</cite> is returned to the caller at the end.  If the initialization has
already been carried out in the past, <cite>False</cite> is returned.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.sqlitedb.SQLiteProperties">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.sqlitedb.</span></span><span class="sig-name descname"><span class="pre">SQLiteProperties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.sqlitedb.SQLiteProperties" title="Link to this definition">¶</a></dt>
<dd><p>Simple class to manage properties of a DB application in the DB.  The
object has its own DB connection and transaction area.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">properties</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">name</span><span class="w">       </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">  </span><span class="n">value</span><span class="w">      </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">  </span><span class="n">m_time</span><span class="w">     </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="p">(</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%s&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;now&#39;</span><span class="p">)),</span>
<span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.sqlitedb.SQLiteProperties.SQLITE_JOURNAL_MODE">
<span class="sig-name descname"><span class="pre">SQLITE_JOURNAL_MODE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'WAL'</span></em><a class="headerlink" href="#searx.sqlitedb.SQLiteProperties.SQLITE_JOURNAL_MODE" title="Link to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">SQLiteAppl</span></code> applications are optimized for <a class="reference external" href="https://sqlite.org/wal.html">WAL</a> mode, its not recommend
to change the journal mode (see <code class="xref py py-obj docutils literal notranslate"><span class="pre">SQLiteAppl.tear_down</span></code>).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.sqlitedb.SQLiteProperties.DDL_PROPERTIES">
<span class="sig-name descname"><span class="pre">DDL_PROPERTIES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&quot;CREATE</span> <span class="pre">TABLE</span> <span class="pre">IF</span> <span class="pre">NOT</span> <span class="pre">EXISTS</span> <span class="pre">properties</span> <span class="pre">(\n</span>&#160; <span class="pre">name</span>&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">TEXT,\n</span>&#160; <span class="pre">value</span>&#160;&#160;&#160;&#160;&#160; <span class="pre">TEXT,\n</span>&#160; <span class="pre">m_time</span>&#160;&#160;&#160;&#160; <span class="pre">INTEGER</span> <span class="pre">DEFAULT</span> <span class="pre">(strftime('%s',</span> <span class="pre">'now')),</span>&#160; <span class="pre">--</span> <span class="pre">last</span> <span class="pre">modified</span> <span class="pre">(unix</span> <span class="pre">epoch)</span> <span class="pre">time</span> <span class="pre">in</span> <span class="pre">sec.\n</span>&#160; <span class="pre">PRIMARY</span> <span class="pre">KEY</span> <span class="pre">(name))&quot;</span></em><a class="headerlink" href="#searx.sqlitedb.SQLiteProperties.DDL_PROPERTIES" title="Link to this definition">¶</a></dt>
<dd><p>Table to store properties of the DB application</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.sqlitedb.SQLiteProperties.SQLITE_CONNECT_ARGS">
<span class="sig-name descname"><span class="pre">SQLITE_CONNECT_ARGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'cached_statements':</span> <span class="pre">0,</span> <span class="pre">'check_same_thread':</span> <span class="pre">True,</span> <span class="pre">'isolation_level':</span> <span class="pre">None}</span></em><a class="headerlink" href="#searx.sqlitedb.SQLiteProperties.SQLITE_CONNECT_ARGS" title="Link to this definition">¶</a></dt>
<dd><p>Connection arguments (<a class="reference external" href="https://docs.python.org/3/library/sqlite3.html#sqlite3.connect" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sqlite3.connect</span></code></a>)</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">check_same_thread</span></code>:</dt><dd><p>Is disabled by default when <code class="xref py py-obj docutils literal notranslate"><span class="pre">SQLITE_THREADING_MODE</span></code> is
<code class="docutils literal notranslate"><span class="pre">serialized</span></code>.  The check is more of a hindrance in this case because it
would prevent a DB connector from being used in multiple threads.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cached_statements</span></code>:</dt><dd><p>Is set to <code class="docutils literal notranslate"><span class="pre">0</span></code> by default.  Note: Python 3.12+ fetch result are not
consistent in multi-threading application and causing an API misuse error.</p>
<p>The multithreading use in SQLiteAppl is intended and supported if
threadsafety is set to 3 (aka “serialized”). CPython supports “serialized”
from version 3.12 on, but unfortunately only with errors:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/python/cpython/issues/118172">https://github.com/python/cpython/issues/118172</a></p></li>
<li><p><a class="reference external" href="https://github.com/python/cpython/issues/123873">https://github.com/python/cpython/issues/123873</a></p></li>
</ul>
<p>The workaround for SQLite3 multithreading cache inconsistency is to set
option <code class="docutils literal notranslate"><span class="pre">cached_statements</span></code> to <code class="docutils literal notranslate"><span class="pre">0</span></code> by default.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.sqlitedb.SQLiteProperties.init">
<span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/sqlite3.html#sqlite3.Connection" title="(in Python v3.13)"><span class="pre">Connection</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#searx.sqlitedb.SQLiteProperties.init" title="Link to this definition">¶</a></dt>
<dd><p>Initializes DB schema of the properties in the DB.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.sqlitedb.SQLiteProperties.set">
<span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.sqlitedb.SQLiteProperties.set" title="Link to this definition">¶</a></dt>
<dd><p>Set <code class="docutils literal notranslate"><span class="pre">value</span></code> of property <code class="docutils literal notranslate"><span class="pre">name</span></code> in DB.  If property already
exists, update the <code class="docutils literal notranslate"><span class="pre">m_time</span></code> (and the value).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.sqlitedb.SQLiteProperties.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></span><a class="headerlink" href="#searx.sqlitedb.SQLiteProperties.delete" title="Link to this definition">¶</a></dt>
<dd><p>Delete of property <code class="docutils literal notranslate"><span class="pre">name</span></code> from DB.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.sqlitedb.SQLiteProperties.row">
<span class="sig-name descname"><span class="pre">row</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.sqlitedb.SQLiteProperties.row" title="Link to this definition">¶</a></dt>
<dd><p>Returns the DB row of property <code class="docutils literal notranslate"><span class="pre">name</span></code> or <code class="docutils literal notranslate"><span class="pre">default</span></code> if property
not exists in DB.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.sqlitedb.SQLiteProperties.m_time">
<span class="sig-name descname"><span class="pre">m_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></span><a class="headerlink" href="#searx.sqlitedb.SQLiteProperties.m_time" title="Link to this definition">¶</a></dt>
<dd><p>Last modification time of this property.</p>
</dd></dl>

</dd></dl>

</section>
<span id="document-src/searx.utils"></span><section id="module-searx.utils">
<span id="utility-functions-for-the-engines"></span><span id="searx-utils"></span><h3>Utility functions for the engines<a class="headerlink" href="#module-searx.utils" title="Link to this heading">¶</a></h3>
<p>Utility functions for the engines</p>
<dl class="py data">
<dt class="sig sig-object py" id="searx.utils.SEARCH_LANGUAGE_CODES">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">SEARCH_LANGUAGE_CODES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">frozenset({'af',</span> <span class="pre">'ar',</span> <span class="pre">'be',</span> <span class="pre">'bg',</span> <span class="pre">'ca',</span> <span class="pre">'cs',</span> <span class="pre">'cy',</span> <span class="pre">'da',</span> <span class="pre">'de',</span> <span class="pre">'el',</span> <span class="pre">'en',</span> <span class="pre">'es',</span> <span class="pre">'et',</span> <span class="pre">'eu',</span> <span class="pre">'fa',</span> <span class="pre">'fi',</span> <span class="pre">'fr',</span> <span class="pre">'ga',</span> <span class="pre">'gd',</span> <span class="pre">'gl',</span> <span class="pre">'he',</span> <span class="pre">'hi',</span> <span class="pre">'hr',</span> <span class="pre">'hu',</span> <span class="pre">'id',</span> <span class="pre">'is',</span> <span class="pre">'it',</span> <span class="pre">'ja',</span> <span class="pre">'kn',</span> <span class="pre">'ko',</span> <span class="pre">'lt',</span> <span class="pre">'lv',</span> <span class="pre">'ml',</span> <span class="pre">'mr',</span> <span class="pre">'nb',</span> <span class="pre">'nl',</span> <span class="pre">'pl',</span> <span class="pre">'pt',</span> <span class="pre">'ro',</span> <span class="pre">'ru',</span> <span class="pre">'sk',</span> <span class="pre">'sl',</span> <span class="pre">'sq',</span> <span class="pre">'sv',</span> <span class="pre">'ta',</span> <span class="pre">'te',</span> <span class="pre">'th',</span> <span class="pre">'tr',</span> <span class="pre">'uk',</span> <span class="pre">'ur',</span> <span class="pre">'vi',</span> <span class="pre">'zh'})</span></em><a class="headerlink" href="#searx.utils.SEARCH_LANGUAGE_CODES" title="Link to this definition">¶</a></dt>
<dd><p>Languages supported by most searxng engines (<a class="reference internal" href="#searx.sxng_locales.sxng_locales" title="searx.sxng_locales.sxng_locales"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.sxng_locales.sxng_locales</span></code></a>).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.searxng_useragent">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">searxng_useragent</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#searx.utils.searxng_useragent" title="Link to this definition">¶</a></dt>
<dd><p>Return the SearXNG User Agent</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.gen_useragent">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">gen_useragent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">os_string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#searx.utils.gen_useragent" title="Link to this definition">¶</a></dt>
<dd><p>Return a random browser User Agent</p>
<p>See searx/data/useragents.json</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.html_to_text">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">html_to_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">html_str</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#searx.utils.html_to_text" title="Link to this definition">¶</a></dt>
<dd><p>Extract text from a HTML string</p>
<dl>
<dt>Args:</dt><dd><ul class="simple">
<li><p>html_str (str): string HTML</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>str: extracted text</p></li>
</ul>
</dd>
<dt>Examples:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">html_to_text</span><span class="p">(</span><span class="s1">&#39;Example &lt;span id=&quot;42&quot;&gt;#2&lt;/span&gt;&#39;</span><span class="p">)</span>
<span class="go">&#39;Example #2&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">html_to_text</span><span class="p">(</span><span class="s1">&#39;&lt;style&gt;.span { color: red; }&lt;/style&gt;&lt;span&gt;Example&lt;/span&gt;&#39;</span><span class="p">)</span>
<span class="go">&#39;Example&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">html_to_text</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;regexp: (?&lt;![a-zA-Z]&#39;</span><span class="p">)</span>
<span class="go">&#39;regexp: (?&lt;![a-zA-Z]&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.markdown_to_text">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">markdown_to_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">markdown_str</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#searx.utils.markdown_to_text" title="Link to this definition">¶</a></dt>
<dd><p>Extract text from a Markdown string</p>
<dl>
<dt>Args:</dt><dd><ul class="simple">
<li><p>markdown_str (str): string Markdown</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>str: extracted text</p></li>
</ul>
</dd>
<dt>Examples:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">markdown_to_text</span><span class="p">(</span><span class="s1">&#39;[example](https://example.com)&#39;</span><span class="p">)</span>
<span class="go">&#39;example&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">markdown_to_text</span><span class="p">(</span><span class="s1">&#39;## Headline&#39;</span><span class="p">)</span>
<span class="go">&#39;Headline&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.extract_text">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">extract_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xpath_results</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_none</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#searx.utils.extract_text" title="Link to this definition">¶</a></dt>
<dd><p>Extract text from a lxml result</p>
<ul class="simple">
<li><p>if xpath_results is list, extract the text from each result and concat the list</p></li>
<li><p>if xpath_results is a xml element, extract all the text node from it
( text_content() method from lxml )</p></li>
<li><p>if xpath_results is a string element, then it’s already done</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.normalize_url">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">normalize_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#searx.utils.normalize_url" title="Link to this definition">¶</a></dt>
<dd><p>Normalize URL: add protocol, join URL with base_url, add trailing slash if there is no path</p>
<dl>
<dt>Args:</dt><dd><ul class="simple">
<li><p>url (str): Relative URL</p></li>
<li><p>base_url (str): Base URL, it must be an absolute URL.</p></li>
</ul>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">normalize_url</span><span class="p">(</span><span class="s1">&#39;https://example.com&#39;</span><span class="p">,</span> <span class="s1">&#39;http://example.com/&#39;</span><span class="p">)</span>
<span class="go">&#39;https://example.com/&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">normalize_url</span><span class="p">(</span><span class="s1">&#39;//example.com&#39;</span><span class="p">,</span> <span class="s1">&#39;http://example.com/&#39;</span><span class="p">)</span>
<span class="go">&#39;http://example.com/&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">normalize_url</span><span class="p">(</span><span class="s1">&#39;//example.com&#39;</span><span class="p">,</span> <span class="s1">&#39;https://example.com/&#39;</span><span class="p">)</span>
<span class="go">&#39;https://example.com/&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">normalize_url</span><span class="p">(</span><span class="s1">&#39;/path?a=1&#39;</span><span class="p">,</span> <span class="s1">&#39;https://example.com&#39;</span><span class="p">)</span>
<span class="go">&#39;https://example.com/path?a=1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">normalize_url</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;https://example.com&#39;</span><span class="p">)</span>
<span class="go">&#39;https://example.com/&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">normalize_url</span><span class="p">(</span><span class="s1">&#39;/test&#39;</span><span class="p">,</span> <span class="s1">&#39;/path&#39;</span><span class="p">)</span>
<span class="go">raise ValueError</span>
</pre></div>
</div>
</dd>
<dt>Raises:</dt><dd><ul class="simple">
<li><p>lxml.etree.ParserError</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>str: normalized URL</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.extract_url">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">extract_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xpath_results</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_url</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#searx.utils.extract_url" title="Link to this definition">¶</a></dt>
<dd><p>Extract and normalize URL from lxml Element</p>
<dl>
<dt>Args:</dt><dd><ul class="simple">
<li><p>xpath_results (Union[List[html.HtmlElement], html.HtmlElement]): lxml Element(s)</p></li>
<li><p>base_url (str): Base URL</p></li>
</ul>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">search_url</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="k">return</span> <span class="n">searx</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">extract_url</span><span class="p">(</span><span class="n">html</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="n">search_url</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="s1">&#39;&lt;span id=&quot;42&quot;&gt;https://example.com&lt;/span&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;http://example.com/&#39;</span><span class="p">)</span>
<span class="go">&#39;https://example.com/&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="s1">&#39;https://example.com&#39;</span><span class="p">,</span> <span class="s1">&#39;http://example.com/&#39;</span><span class="p">)</span>
<span class="go">&#39;https://example.com/&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="s1">&#39;//example.com&#39;</span><span class="p">,</span> <span class="s1">&#39;http://example.com/&#39;</span><span class="p">)</span>
<span class="go">&#39;http://example.com/&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="s1">&#39;//example.com&#39;</span><span class="p">,</span> <span class="s1">&#39;https://example.com/&#39;</span><span class="p">)</span>
<span class="go">&#39;https://example.com/&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="s1">&#39;/path?a=1&#39;</span><span class="p">,</span> <span class="s1">&#39;https://example.com&#39;</span><span class="p">)</span>
<span class="go">&#39;https://example.com/path?a=1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;https://example.com&#39;</span><span class="p">)</span>
<span class="go">raise lxml.etree.ParserError</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">searx</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">extract_url</span><span class="p">([],</span> <span class="s1">&#39;https://example.com&#39;</span><span class="p">)</span>
<span class="go">raise ValueError</span>
</pre></div>
</div>
</dd>
<dt>Raises:</dt><dd><ul class="simple">
<li><p>ValueError</p></li>
<li><p>lxml.etree.ParserError</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>str: normalized URL</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.dict_subset">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">dict_subset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dictionary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.13)"><span class="pre">MutableMapping</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">properties</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.13)"><span class="pre">Set</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a></span></span><a class="headerlink" href="#searx.utils.dict_subset" title="Link to this definition">¶</a></dt>
<dd><p>Extract a subset of a dict</p>
<dl>
<dt>Examples:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dict_subset</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="s1">&#39;c&#39;</span><span class="p">},</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">])</span>
<span class="go">{&#39;A&#39;: &#39;a&#39;, &#39;C&#39;: &#39;c&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">&gt;&gt;</span> <span class="n">dict_subset</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="s1">&#39;c&#39;</span><span class="p">},</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">])</span>
<span class="go">{&#39;A&#39;: &#39;a&#39;}</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.humanize_bytes">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">humanize_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.utils.humanize_bytes" title="Link to this definition">¶</a></dt>
<dd><p>Determine the <em>human readable</em> value of bytes on 1024 base (1KB=1024B).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.humanize_number">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">humanize_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.utils.humanize_number" title="Link to this definition">¶</a></dt>
<dd><p>Determine the <em>human readable</em> value of a decimal number.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.convert_str_to_int">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">convert_str_to_int</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number_str</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></span><a class="headerlink" href="#searx.utils.convert_str_to_int" title="Link to this definition">¶</a></dt>
<dd><p>Convert number_str to int or 0 if number_str is not a number.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.extr">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">extr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">txt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">begin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.utils.extr" title="Link to this definition">¶</a></dt>
<dd><p>Extract the string between <code class="docutils literal notranslate"><span class="pre">begin</span></code> and <code class="docutils literal notranslate"><span class="pre">end</span></code> from <code class="docutils literal notranslate"><span class="pre">txt</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>txt</strong> – String to search in</p></li>
<li><p><strong>begin</strong> – First string to be searched for</p></li>
<li><p><strong>end</strong> – Second string to be searched for after <code class="docutils literal notranslate"><span class="pre">begin</span></code></p></li>
<li><p><strong>default</strong> – Default value if one of <code class="docutils literal notranslate"><span class="pre">begin</span></code> or <code class="docutils literal notranslate"><span class="pre">end</span></code> is not
found.  Defaults to an empty string.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The string between the two search-strings <code class="docutils literal notranslate"><span class="pre">begin</span></code> and <code class="docutils literal notranslate"><span class="pre">end</span></code>.
If at least one of <code class="docutils literal notranslate"><span class="pre">begin</span></code> or <code class="docutils literal notranslate"><span class="pre">end</span></code> is not found, the value of
<code class="docutils literal notranslate"><span class="pre">default</span></code> is returned.</p>
</dd>
</dl>
<dl>
<dt>Examples:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">extr</span><span class="p">(</span><span class="s2">&quot;abcde&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
<span class="go">&quot;bcd&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">extr</span><span class="p">(</span><span class="s2">&quot;abcde&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">,</span> <span class="n">deafult</span><span class="o">=</span><span class="s2">&quot;nothing&quot;</span><span class="p">)</span>
<span class="go">&quot;nothing&quot;</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.int_or_zero">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">int_or_zero</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></span><a class="headerlink" href="#searx.utils.int_or_zero" title="Link to this definition">¶</a></dt>
<dd><p>Convert num to int or 0. num can be either a str or a list.
If num is a list, the first element is converted to int (or return 0 if the list is empty).
If num is a str, see convert_str_to_int</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.is_valid_lang">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">is_valid_lang</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lang</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#searx.utils.is_valid_lang" title="Link to this definition">¶</a></dt>
<dd><p>Return language code and name if lang describe a language.</p>
<dl>
<dt>Examples:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">is_valid_lang</span><span class="p">(</span><span class="s1">&#39;zz&#39;</span><span class="p">)</span>
<span class="go">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_valid_lang</span><span class="p">(</span><span class="s1">&#39;uk&#39;</span><span class="p">)</span>
<span class="go">(True, &#39;uk&#39;, &#39;ukrainian&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_valid_lang</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;uk&#39;</span><span class="p">)</span>
<span class="go">(True, &#39;uk&#39;, &#39;ukrainian&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_valid_lang</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">)</span>
<span class="go">(True, &#39;en&#39;, &#39;english&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">searx</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">is_valid_lang</span><span class="p">(</span><span class="s1">&#39;Español&#39;</span><span class="p">)</span>
<span class="go">(True, &#39;es&#39;, &#39;spanish&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">searx</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">is_valid_lang</span><span class="p">(</span><span class="s1">&#39;Spanish&#39;</span><span class="p">)</span>
<span class="go">(True, &#39;es&#39;, &#39;spanish&#39;)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.to_string">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">to_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#searx.utils.to_string" title="Link to this definition">¶</a></dt>
<dd><p>Convert obj to its string representation.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.ecma_unescape">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">ecma_unescape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#searx.utils.ecma_unescape" title="Link to this definition">¶</a></dt>
<dd><p>Python implementation of the unescape javascript function</p>
<p><a class="reference external" href="https://www.ecma-international.org/ecma-262/6.0/#sec-unescape-string">https://www.ecma-international.org/ecma-262/6.0/#sec-unescape-string</a>
<a class="reference external" href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/unescape">https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/unescape</a></p>
<dl>
<dt>Examples:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ecma_unescape</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%u</span><span class="s1">5409&#39;</span><span class="p">)</span>
<span class="go">&#39;吉&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ecma_unescape</span><span class="p">(</span><span class="s1">&#39;%20&#39;</span><span class="p">)</span>
<span class="go">&#39; &#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ecma_unescape</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%F</span><span class="s1">3&#39;</span><span class="p">)</span>
<span class="go">&#39;ó&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.remove_pua_from_str">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">remove_pua_from_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.utils.remove_pua_from_str" title="Link to this definition">¶</a></dt>
<dd><p>Removes unicode’s “PRIVATE USE CHARACTER”s (<a class="reference external" href="https://en.wikipedia.org/wiki/Private_Use_Areas">PUA</a>) from a string.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.get_engine_from_settings">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">get_engine_from_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a></span></span><a class="headerlink" href="#searx.utils.get_engine_from_settings" title="Link to this definition">¶</a></dt>
<dd><p>Return engine configuration from settings.yml of a given engine name</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.get_xpath">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">get_xpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xpath_spec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">XPath</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">XPath</span></span></span><a class="headerlink" href="#searx.utils.get_xpath" title="Link to this definition">¶</a></dt>
<dd><p>Return cached compiled XPath</p>
<p>There is no thread lock.
Worst case scenario, xpath_str is compiled more than one time.</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>xpath_spec (str|lxml.etree.XPath): XPath as a str or lxml.etree.XPath</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>result (bool, float, list, str): Results.</p></li>
</ul>
</dd>
<dt>Raises:</dt><dd><ul class="simple">
<li><p>TypeError: Raise when xpath_spec is neither a str nor a lxml.etree.XPath</p></li>
<li><p>SearxXPathSyntaxException: Raise when there is a syntax error in the XPath</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.eval_xpath">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">eval_xpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ElementBase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xpath_spec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">XPath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.utils.eval_xpath" title="Link to this definition">¶</a></dt>
<dd><p>Equivalent of element.xpath(xpath_str) but compile xpath_str once for all.
See <a class="reference external" href="https://lxml.de/xpathxslt.html#xpath-return-values">https://lxml.de/xpathxslt.html#xpath-return-values</a></p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>element (ElementBase): [description]</p></li>
<li><p>xpath_spec (str|lxml.etree.XPath): XPath as a str or lxml.etree.XPath</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>result (bool, float, list, str): Results.</p></li>
</ul>
</dd>
<dt>Raises:</dt><dd><ul class="simple">
<li><p>TypeError: Raise when xpath_spec is neither a str nor a lxml.etree.XPath</p></li>
<li><p>SearxXPathSyntaxException: Raise when there is a syntax error in the XPath</p></li>
<li><p>SearxEngineXPathException: Raise when the XPath can’t be evaluated.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.eval_xpath_list">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">eval_xpath_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ElementBase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xpath_spec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">XPath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_len</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.utils.eval_xpath_list" title="Link to this definition">¶</a></dt>
<dd><p>Same as eval_xpath, check if the result is a list</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>element (ElementBase): [description]</p></li>
<li><p>xpath_spec (str|lxml.etree.XPath): XPath as a str or lxml.etree.XPath</p></li>
<li><p>min_len (int, optional): [description]. Defaults to None.</p></li>
</ul>
</dd>
<dt>Raises:</dt><dd><ul class="simple">
<li><p>TypeError: Raise when xpath_spec is neither a str nor a lxml.etree.XPath</p></li>
<li><p>SearxXPathSyntaxException: Raise when there is a syntax error in the XPath</p></li>
<li><p>SearxEngineXPathException: raise if the result is not a list</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>result (bool, float, list, str): Results.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.eval_xpath_getindex">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">eval_xpath_getindex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elements:</span> <span class="pre">~lxml.etree.ElementBase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xpath_spec:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">~lxml.etree.XPath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index:</span> <span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default=&lt;searx.utils._NotSetClass</span> <span class="pre">object&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.utils.eval_xpath_getindex" title="Link to this definition">¶</a></dt>
<dd><p>Call eval_xpath_list then get one element using the index parameter.
If the index does not exist, either raise an exception is default is not set,
other return the default value (can be None).</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>elements (ElementBase): lxml element to apply the xpath.</p></li>
<li><p>xpath_spec (str|lxml.etree.XPath): XPath as a str or lxml.etree.XPath.</p></li>
<li><p>index (int): index to get</p></li>
<li><p>default (Object, optional): Defaults if index doesn’t exist.</p></li>
</ul>
</dd>
<dt>Raises:</dt><dd><ul class="simple">
<li><p>TypeError: Raise when xpath_spec is neither a str nor a lxml.etree.XPath</p></li>
<li><p>SearxXPathSyntaxException: Raise when there is a syntax error in the XPath</p></li>
<li><p>SearxEngineXPathException: if the index is not found. Also see eval_xpath.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>result (bool, float, list, str): Results.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.get_embeded_stream_url">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">get_embeded_stream_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.utils.get_embeded_stream_url" title="Link to this definition">¶</a></dt>
<dd><p>Converts a standard video URL into its embed format. Supported services include Youtube,
Facebook, Instagram, TikTok, Dailymotion, and Bilibili.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.detect_language">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">detect_language</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_search_languages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#searx.utils.detect_language" title="Link to this definition">¶</a></dt>
<dd><p>Detect the language of the <code class="docutils literal notranslate"><span class="pre">text</span></code> parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The string whose language is to be detected.</p></li>
<li><p><strong>threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – Threshold filters the returned labels by a threshold
on probability.  A choice of 0.3 will return labels with at least 0.3
probability.</p></li>
<li><p><strong>only_search_languages</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, returns only supported
SearXNG search languages.  see <code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.languages</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, None</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The detected language code or <code class="docutils literal notranslate"><span class="pre">None</span></code>. See below.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">text</span></code> is not a string.</p>
</dd>
</dl>
<p>The language detection is done by using <a class="reference external" href="https://github.com/searxng/fasttext-predict">a fork</a> of the <a class="reference external" href="https://fasttext.cc/">fastText</a> library
(<a class="reference external" href="https://pypi.org/project/fasttext/">python fasttext</a>). <a class="reference external" href="https://fasttext.cc/">fastText</a> distributes the <a class="reference external" href="https://fasttext.cc/docs/en/language-identification.html">language identification
model</a>, for reference:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://arxiv.org/abs/1612.03651">FastText.zip: Compressing text classification models</a></p></li>
<li><p><a class="reference external" href="https://arxiv.org/abs/1607.01759">Bag of Tricks for Efficient Text Classification</a></p></li>
</ul>
<p>The <a class="reference external" href="https://fasttext.cc/docs/en/language-identification.html">language identification model</a> support the language codes
(ISO-639-3):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">af</span> <span class="n">als</span> <span class="n">am</span> <span class="n">an</span> <span class="n">ar</span> <span class="n">arz</span> <span class="k">as</span> <span class="n">ast</span> <span class="n">av</span> <span class="n">az</span> <span class="n">azb</span> <span class="n">ba</span> <span class="n">bar</span> <span class="n">bcl</span> <span class="n">be</span> <span class="n">bg</span> <span class="n">bh</span> <span class="n">bn</span> <span class="n">bo</span> <span class="n">bpy</span> <span class="n">br</span> <span class="n">bs</span>
<span class="n">bxr</span> <span class="n">ca</span> <span class="n">cbk</span> <span class="n">ce</span> <span class="n">ceb</span> <span class="n">ckb</span> <span class="n">co</span> <span class="n">cs</span> <span class="n">cv</span> <span class="n">cy</span> <span class="n">da</span> <span class="n">de</span> <span class="n">diq</span> <span class="n">dsb</span> <span class="n">dty</span> <span class="n">dv</span> <span class="n">el</span> <span class="n">eml</span> <span class="n">en</span> <span class="n">eo</span> <span class="n">es</span>
<span class="n">et</span> <span class="n">eu</span> <span class="n">fa</span> <span class="n">fi</span> <span class="n">fr</span> <span class="n">frr</span> <span class="n">fy</span> <span class="n">ga</span> <span class="n">gd</span> <span class="n">gl</span> <span class="n">gn</span> <span class="n">gom</span> <span class="n">gu</span> <span class="n">gv</span> <span class="n">he</span> <span class="n">hi</span> <span class="n">hif</span> <span class="n">hr</span> <span class="n">hsb</span> <span class="n">ht</span> <span class="n">hu</span> <span class="n">hy</span> <span class="n">ia</span>
<span class="nb">id</span> <span class="n">ie</span> <span class="n">ilo</span> <span class="n">io</span> <span class="ow">is</span> <span class="n">it</span> <span class="n">ja</span> <span class="n">jbo</span> <span class="n">jv</span> <span class="n">ka</span> <span class="n">kk</span> <span class="n">km</span> <span class="n">kn</span> <span class="n">ko</span> <span class="n">krc</span> <span class="n">ku</span> <span class="n">kv</span> <span class="n">kw</span> <span class="n">ky</span> <span class="n">la</span> <span class="n">lb</span> <span class="n">lez</span> <span class="n">li</span>
<span class="n">lmo</span> <span class="n">lo</span> <span class="n">lrc</span> <span class="n">lt</span> <span class="n">lv</span> <span class="n">mai</span> <span class="n">mg</span> <span class="n">mhr</span> <span class="nb">min</span> <span class="n">mk</span> <span class="n">ml</span> <span class="n">mn</span> <span class="n">mr</span> <span class="n">mrj</span> <span class="n">ms</span> <span class="n">mt</span> <span class="n">mwl</span> <span class="n">my</span> <span class="n">myv</span> <span class="n">mzn</span> <span class="n">nah</span>
<span class="n">nap</span> <span class="n">nds</span> <span class="n">ne</span> <span class="n">new</span> <span class="n">nl</span> <span class="n">nn</span> <span class="n">no</span> <span class="n">oc</span> <span class="ow">or</span> <span class="n">os</span> <span class="n">pa</span> <span class="n">pam</span> <span class="n">pfl</span> <span class="n">pl</span> <span class="n">pms</span> <span class="n">pnb</span> <span class="n">ps</span> <span class="n">pt</span> <span class="n">qu</span> <span class="n">rm</span> <span class="n">ro</span> <span class="n">ru</span>
<span class="n">rue</span> <span class="n">sa</span> <span class="n">sah</span> <span class="n">sc</span> <span class="n">scn</span> <span class="n">sco</span> <span class="n">sd</span> <span class="n">sh</span> <span class="n">si</span> <span class="n">sk</span> <span class="n">sl</span> <span class="n">so</span> <span class="n">sq</span> <span class="n">sr</span> <span class="n">su</span> <span class="n">sv</span> <span class="n">sw</span> <span class="n">ta</span> <span class="n">te</span> <span class="n">tg</span> <span class="n">th</span> <span class="n">tk</span> <span class="n">tl</span>
<span class="n">tr</span> <span class="n">tt</span> <span class="n">tyv</span> <span class="n">ug</span> <span class="n">uk</span> <span class="n">ur</span> <span class="n">uz</span> <span class="n">vec</span> <span class="n">vep</span> <span class="n">vi</span> <span class="n">vls</span> <span class="n">vo</span> <span class="n">wa</span> <span class="n">war</span> <span class="n">wuu</span> <span class="n">xal</span> <span class="n">xmf</span> <span class="n">yi</span> <span class="n">yo</span> <span class="n">yue</span> <span class="n">zh</span>
</pre></div>
</div>
<p>By using <code class="docutils literal notranslate"><span class="pre">only_search_languages=True</span></code> the <a class="reference external" href="https://fasttext.cc/docs/en/language-identification.html">language identification model</a>
is harmonized with the SearXNG’s language (locale) model.  General
conditions of SearXNG’s locale model are:</p>
<ol class="loweralpha simple">
<li><p>SearXNG’s locale of a query is passed to the
<a class="reference internal" href="#searx.locales.get_engine_locale" title="searx.locales.get_engine_locale"><code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.locales.get_engine_locale</span></code></a> to get a language and/or region
code that is used by an engine.</p></li>
<li><p>Most of SearXNG’s engines do not support all the languages from <a class="reference external" href="https://fasttext.cc/docs/en/language-identification.html">language
identification model</a> and there is also a discrepancy in the ISO-639-3
(fasttext) and ISO-639-2 (SearXNG)handling.  Further more, in SearXNG the
locales like <code class="docutils literal notranslate"><span class="pre">zh-TH</span></code> (<code class="docutils literal notranslate"><span class="pre">zh-CN</span></code>) are mapped to <code class="docutils literal notranslate"><span class="pre">zh_Hant</span></code>
(<code class="docutils literal notranslate"><span class="pre">zh_Hans</span></code>) while the <a class="reference external" href="https://fasttext.cc/docs/en/language-identification.html">language identification model</a> reduce both to
<code class="docutils literal notranslate"><span class="pre">zh</span></code>.</p></li>
</ol>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.js_variable_to_python">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">js_variable_to_python</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">js_variable</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.utils.js_variable_to_python" title="Link to this definition">¶</a></dt>
<dd><p>Convert a javascript variable into JSON and then load the value</p>
<p>It does not deal with all cases, but it is good enough for now.
chompjs has a better implementation.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.utils.parse_duration_string">
<span class="sig-prename descclassname"><span class="pre">searx.utils.</span></span><span class="sig-name descname"><span class="pre">parse_duration_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">duration_str</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.13)"><span class="pre">timedelta</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#searx.utils.parse_duration_string" title="Link to this definition">¶</a></dt>
<dd><p>Parse a time string in format MM:SS or HH:MM:SS and convert it to a <cite>timedelta</cite> object.</p>
<p>Returns None if the provided string doesn’t match any of the formats.</p>
</dd></dl>

</section>
<span id="document-src/searx.valkeydb"></span><section id="valkey-db">
<span id="id1"></span><h3>Valkey DB<a class="headerlink" href="#valkey-db" title="Link to this heading">¶</a></h3>
<p id="module-searx.valkeydb">Implementation of the valkey client (<a class="reference external" href="https://github.com/valkey-io/valkey-py">valkey-py</a>).</p>
<p>This implementation uses the <a class="reference internal" href="#settings-valkey"><span class="std std-ref">valkey:</span></a> setup from <code class="docutils literal notranslate"><span class="pre">settings.yml</span></code>.
A valkey DB connect can be tested by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">searx</span><span class="w"> </span><span class="kn">import</span> <span class="n">valkeydb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">valkeydb</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">valkeydb</span><span class="o">.</span><span class="n">client</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>
<span class="go">b&#39;bar&#39;</span>
<span class="gp">&gt;&gt;&gt;</span>
</pre></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="searx.valkeydb.client">
<span class="sig-prename descclassname"><span class="pre">searx.valkeydb.</span></span><span class="sig-name descname"><span class="pre">client</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://valkey-py.readthedocs.io/en/stable/connections.html#valkey.Valkey" title="(in valkey-py v99.99.99)"><span class="pre">Valkey</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#searx.valkeydb.client" title="Link to this definition">¶</a></dt>
<dd><p>Returns SearXNG’s global Valkey DB connector (Valkey client object).</p>
</dd></dl>

</section>
<span id="document-src/searx.valkeylib"></span><section id="module-searx.valkeylib">
<span id="valkey-library"></span><span id="searx-valkey"></span><h3>Valkey Library<a class="headerlink" href="#module-searx.valkeylib" title="Link to this heading">¶</a></h3>
<p>A collection of convenient functions and valkey/lua scripts.</p>
<p>This code was partial inspired by the <a class="reference external" href="https://redis.com/blog/bullet-proofing-lua-scripts-in-redispy/">Bullet-Proofing Lua Scripts in ValkeyPy</a>
article.</p>
<dl class="py data">
<dt class="sig sig-object py" id="searx.valkeylib.LUA_SCRIPT_STORAGE">
<span class="sig-prename descclassname"><span class="pre">searx.valkeylib.</span></span><span class="sig-name descname"><span class="pre">LUA_SCRIPT_STORAGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#searx.valkeylib.LUA_SCRIPT_STORAGE" title="Link to this definition">¶</a></dt>
<dd><p>A global dictionary to cache client’s <code class="docutils literal notranslate"><span class="pre">Script</span></code> objects, used by
<a class="reference internal" href="#searx.valkeylib.lua_script_storage" title="searx.valkeylib.lua_script_storage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lua_script_storage</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.valkeylib.lua_script_storage">
<span class="sig-prename descclassname"><span class="pre">searx.valkeylib.</span></span><span class="sig-name descname"><span class="pre">lua_script_storage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">script</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.valkeylib.lua_script_storage" title="Link to this definition">¶</a></dt>
<dd><p>Returns a valkey <a class="reference external" href="https://valkey-py.readthedocs.io/en/stable/commands.html#valkey.commands.core.CoreCommands.register_script" title="(in valkey-py v99.99.99)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Script</span></code></a> instance.</p>
<p>Due to performance reason the <code class="docutils literal notranslate"><span class="pre">Script</span></code> object is instantiated only once
for a client (<code class="docutils literal notranslate"><span class="pre">client.register_script(..)</span></code>) and is cached in
<a class="reference internal" href="#searx.valkeylib.LUA_SCRIPT_STORAGE" title="searx.valkeylib.LUA_SCRIPT_STORAGE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LUA_SCRIPT_STORAGE</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.valkeylib.purge_by_prefix">
<span class="sig-prename descclassname"><span class="pre">searx.valkeylib.</span></span><span class="sig-name descname"><span class="pre">purge_by_prefix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'SearXNG_'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.valkeylib.purge_by_prefix" title="Link to this definition">¶</a></dt>
<dd><p>Purge all keys with <code class="docutils literal notranslate"><span class="pre">prefix</span></code> from database.</p>
<p>Queries all keys in the database by the given prefix and set expire time to
zero.  The default prefix will drop all keys which has been set by SearXNG
(drops SearXNG schema entirely from database).</p>
<p>The implementation is the lua script from string <code class="xref py py-obj docutils literal notranslate"><span class="pre">PURGE_BY_PREFIX</span></code>.
The lua script uses <a class="reference external" href="https://valkey.io/commands/expire/">EXPIRE</a> instead of <a class="reference external" href="https://valkey.io/commands/del/">DEL</a>: if there are a lot keys to
delete and/or their values are big, <cite>DEL</cite> could take more time and blocks
the command loop while <cite>EXPIRE</cite> turns back immediate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>prefix</strong> – prefix of the key to delete (default: <code class="docutils literal notranslate"><span class="pre">SearXNG_</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.valkeylib.secret_hash">
<span class="sig-prename descclassname"><span class="pre">searx.valkeylib.</span></span><span class="sig-name descname"><span class="pre">secret_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.valkeylib.secret_hash" title="Link to this definition">¶</a></dt>
<dd><p>Creates a hash of the <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p>
<p>Combines argument <code class="docutils literal notranslate"><span class="pre">name</span></code> with the <code class="docutils literal notranslate"><span class="pre">secret_key</span></code> from <a class="reference internal" href="#settings-server"><span class="std std-ref">server:</span></a>.  This function can be used to get a more anonymized name of a Valkey
KEY.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – the name to create a secret hash for</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.valkeylib.incr_counter">
<span class="sig-prename descclassname"><span class="pre">searx.valkeylib.</span></span><span class="sig-name descname"><span class="pre">incr_counter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expire</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.valkeylib.incr_counter" title="Link to this definition">¶</a></dt>
<dd><p>Increment a counter and return the new value.</p>
<p>If counter with valkey key <code class="docutils literal notranslate"><span class="pre">SearXNG_counter_&lt;name&gt;</span></code> does not exists it is
created with initial value 1 returned.  The replacement <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> is a
<em>secret hash</em> of the value from argument <code class="docutils literal notranslate"><span class="pre">name</span></code> (see
<a class="reference internal" href="#searx.valkeylib.secret_hash" title="searx.valkeylib.secret_hash"><code class="xref py py-func docutils literal notranslate"><span class="pre">secret_hash()</span></code></a>).</p>
<p>The implementation of the valkey counter is the lua script from string
<code class="xref py py-obj docutils literal notranslate"><span class="pre">INCR_COUNTER</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – name of the counter</p></li>
<li><p><strong>expire</strong> (int / see <a class="reference external" href="https://valkey.io/commands/expire/">EXPIRE</a>) – live-time of the counter in seconds (default <code class="docutils literal notranslate"><span class="pre">None</span></code> means
infinite).</p></li>
<li><p><strong>limit</strong> (int / limit is 2^64 see <a class="reference external" href="https://valkey.io/commands/incr/">INCR</a>) – limit where the counter stops to increment (default <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>value of the incremented counter</p>
</dd>
</dl>
<p>A simple demo of a counter with expire time and limit:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
<span class="gp">... </span>  <span class="n">i</span><span class="p">,</span> <span class="n">incr_counter</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="c1"># max 3, duration 5 sec</span>
<span class="gp">... </span>  <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># from the third call on max has been reached</span>
<span class="gp">...</span>
<span class="go">(0, 1)</span>
<span class="go">(1, 2)</span>
<span class="go">(2, 3)</span>
<span class="go">(3, 3)</span>
<span class="go">(4, 3)</span>
<span class="go">(5, 1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.valkeylib.drop_counter">
<span class="sig-prename descclassname"><span class="pre">searx.valkeylib.</span></span><span class="sig-name descname"><span class="pre">drop_counter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.valkeylib.drop_counter" title="Link to this definition">¶</a></dt>
<dd><p>Drop counter with valkey key <code class="docutils literal notranslate"><span class="pre">SearXNG_counter_&lt;name&gt;</span></code></p>
<p>The replacement <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> is a <em>secret hash</em> of the value from argument
<code class="docutils literal notranslate"><span class="pre">name</span></code> (see <a class="reference internal" href="#searx.valkeylib.incr_counter" title="searx.valkeylib.incr_counter"><code class="xref py py-func docutils literal notranslate"><span class="pre">incr_counter()</span></code></a> and <a class="reference internal" href="#searx.valkeylib.incr_sliding_window" title="searx.valkeylib.incr_sliding_window"><code class="xref py py-func docutils literal notranslate"><span class="pre">incr_sliding_window()</span></code></a>).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="searx.valkeylib.incr_sliding_window">
<span class="sig-prename descclassname"><span class="pre">searx.valkeylib.</span></span><span class="sig-name descname"><span class="pre">incr_sliding_window</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.valkeylib.incr_sliding_window" title="Link to this definition">¶</a></dt>
<dd><p>Increment a sliding-window counter and return the new value.</p>
<p>If counter with valkey key <code class="docutils literal notranslate"><span class="pre">SearXNG_counter_&lt;name&gt;</span></code> does not exists it is
created with initial value 1 returned.  The replacement <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> is a
<em>secret hash</em> of the value from argument <code class="docutils literal notranslate"><span class="pre">name</span></code> (see
<a class="reference internal" href="#searx.valkeylib.secret_hash" title="searx.valkeylib.secret_hash"><code class="xref py py-func docutils literal notranslate"><span class="pre">secret_hash()</span></code></a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – name of the counter</p></li>
<li><p><strong>duration</strong> – live-time of the sliding window in seconds</p></li>
</ul>
</dd>
<dt class="field-even">Typeduration<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>value of the incremented counter</p>
</dd>
</dl>
<p>The implementation of the valkey counter is the lua script from string
<code class="xref py py-obj docutils literal notranslate"><span class="pre">INCR_SLIDING_WINDOW</span></code>.  The lua script uses <a class="reference external" href="https://valkey.com/ebook/part-1-getting-started/chapter-1-getting-to-know-valkey/1-2-what-valkey-data-structures-look-like/1-2-5-sorted-sets-in-valkey/">sorted sets in Valkey</a>
to implement a sliding window for the valkey key <code class="docutils literal notranslate"><span class="pre">SearXNG_counter_&lt;name&gt;</span></code>
(<a class="reference external" href="https://valkey.io/commands/zadd/">ZADD</a>).  The current <a class="reference external" href="https://valkey.io/commands/time/">TIME</a> is used to score the items in the sorted set and
the time window is moved by removing items with a score lower current time
minus <em>duration</em> time (<a class="reference external" href="https://valkey.io/commands/zremrangebyscore/">ZREMRANGEBYSCORE</a>).</p>
<p>The <a class="reference external" href="https://valkey.io/commands/expire/">EXPIRE</a> time (the duration of the sliding window) is refreshed on each
call (increment) and if there is no call in this duration, the sorted
set expires from the valkey DB.</p>
<p>The return value is the amount of items in the sorted set (<a class="reference external" href="https://valkey.io/commands/zcount/">ZCOUNT</a>), what
means the number of calls in the sliding window.</p>
<p>A simple demo of the sliding window:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>  <span class="n">incr_sliding_window</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="c1"># duration 3 sec</span>
<span class="gp">... </span>  <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># from the third call (second) on the window is moved</span>
<span class="gp">...</span>
<span class="go">1</span>
<span class="go">2</span>
<span class="go">3</span>
<span class="go">3</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># wait until expire</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">incr_sliding_window</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

</section>
<span id="document-src/searx.weather"></span><section id="weather">
<span id="id1"></span><h3>Weather<a class="headerlink" href="#weather" title="Link to this heading">¶</a></h3>
<p id="module-searx.weather">Implementations used for weather conditions and forecast.</p>
<dl class="py function">
<dt class="sig sig-object py" id="searx.weather.symbol_url">
<span class="sig-prename descclassname"><span class="pre">searx.weather.</span></span><span class="sig-name descname"><span class="pre">symbol_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'clear</span> <span class="pre">sky'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'partly</span> <span class="pre">cloudy'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cloudy'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'fair'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'fog'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">rain</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">rain</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">rain</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">rain'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rain</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rain</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rain</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rain'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">rain</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">rain</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">rain</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">rain'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">sleet</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">sleet</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">sleet</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">sleet'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'sleet</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'sleet</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'sleet</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'sleet'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">sleet</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">sleet</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">sleet</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">sleet'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">snow</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">snow</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">snow</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'light</span> <span class="pre">snow'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'snow</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'snow</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'snow</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'snow'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">snow</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">snow</span> <span class="pre">showers</span> <span class="pre">and</span> <span class="pre">thunder'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">snow</span> <span class="pre">showers'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'heavy</span> <span class="pre">snow'</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#searx.weather.symbol_url" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">data:</span></code> URL for the weather condition symbol or <code class="docutils literal notranslate"><span class="pre">None</span></code> if
the condition is not of type <a class="reference internal" href="#searx.weather.WeatherConditionType" title="searx.weather.WeatherConditionType"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WeatherConditionType</span></code></a>.</p>
<p>If symbol (SVG) is not already in the <code class="xref py py-obj docutils literal notranslate"><span class="pre">WEATHER_DATA_CACHE</span></code> its
fetched from <a class="reference external" href="https://github.com/nrkno/yr-weather-symbols">https://github.com/nrkno/yr-weather-symbols</a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.weather.Temperature">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.weather.</span></span><span class="sig-name descname"><span class="pre">Temperature</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Units</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.weather.Temperature" title="Link to this definition">¶</a></dt>
<dd><p>Class for converting temperature units and for string representation of
measured values.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.weather.Temperature.Units">
<span class="sig-name descname"><span class="pre">Units</span></span><a class="headerlink" href="#searx.weather.Temperature.Units" title="Link to this definition">¶</a></dt>
<dd><p>Supported temperature units.</p>
<p>alias of <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Literal</span></code></a>[’°C’, ‘°F’, ‘K’]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.weather.Temperature.l10n">
<span class="sig-name descname"><span class="pre">l10n</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Units</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">babel.Locale</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#searx.weather.GeoLocation" title="searx.weather.GeoLocation"><span class="pre">GeoLocation</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'{value}</span> <span class="pre">{unit}'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_pattern</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'#,##0'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#searx.weather.Temperature.l10n" title="Link to this definition">¶</a></dt>
<dd><p>Localized representation of a measured value.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">unit</span></code> is not set, an attempt is made to determine a <code class="docutils literal notranslate"><span class="pre">unit</span></code>
matching the territory of the <code class="docutils literal notranslate"><span class="pre">locale</span></code>.  If the locale is not set, an
attempt is made to determine it from the HTTP request.</p>
<p>The value is converted into the respective unit before formatting.</p>
<p>The argument <code class="docutils literal notranslate"><span class="pre">num_pattern</span></code> is used to determine the string formatting
of the numerical value:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://babel.pocoo.org/en/latest/numbers.html#pattern-syntax">https://babel.pocoo.org/en/latest/numbers.html#pattern-syntax</a></p></li>
<li><p><a class="reference external" href="https://unicode.org/reports/tr35/tr35-numbers.html#Number_Format_Patterns">https://unicode.org/reports/tr35/tr35-numbers.html#Number_Format_Patterns</a></p></li>
</ul>
<p>The argument <code class="docutils literal notranslate"><span class="pre">template</span></code> specifies how the <strong>string formatted</strong> value
and unit are to be arranged.</p>
<ul class="simple">
<li><p><cite>Format Specification Mini-Language
&lt;https://docs.python.org/3/library/string.html#format-specification-mini-language&gt;</cite>.</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.weather.Pressure">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.weather.</span></span><span class="sig-name descname"><span class="pre">Pressure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Units</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.weather.Pressure" title="Link to this definition">¶</a></dt>
<dd><p>Class for converting pressure units and for string representation of
measured values.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.weather.Pressure.Units">
<span class="sig-name descname"><span class="pre">Units</span></span><a class="headerlink" href="#searx.weather.Pressure.Units" title="Link to this definition">¶</a></dt>
<dd><p>Supported units.</p>
<p>alias of <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Literal</span></code></a>[‘Pa’, ‘hPa’, ‘cm Hg’, ‘bar’]</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.weather.WindSpeed">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.weather.</span></span><span class="sig-name descname"><span class="pre">WindSpeed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Units</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.weather.WindSpeed" title="Link to this definition">¶</a></dt>
<dd><p>Class for converting speed or velocity units and for string
representation of measured values.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Working with unit <code class="docutils literal notranslate"><span class="pre">Bft</span></code> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">searx.wikidata_units.Beaufort</span></code>) will
throw a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ValueError</span></code></a> for egative values or values greater 16 Bft
(55.6 m/s)</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.weather.WindSpeed.Units">
<span class="sig-name descname"><span class="pre">Units</span></span><a class="headerlink" href="#searx.weather.WindSpeed.Units" title="Link to this definition">¶</a></dt>
<dd><p>Supported units.</p>
<p>alias of <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Literal</span></code></a>[‘m/s’, ‘km/h’, ‘kn’, ‘mph’, ‘mi/h’, ‘Bft’]</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.weather.RelativeHumidity">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.weather.</span></span><span class="sig-name descname"><span class="pre">RelativeHumidity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">humidity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.weather.RelativeHumidity" title="Link to this definition">¶</a></dt>
<dd><p>Amount of relative humidity in the air. The unit is <code class="docutils literal notranslate"><span class="pre">%</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.weather.RelativeHumidity.Units">
<span class="sig-name descname"><span class="pre">Units</span></span><a class="headerlink" href="#searx.weather.RelativeHumidity.Units" title="Link to this definition">¶</a></dt>
<dd><p>Supported unit.</p>
<p>alias of <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Literal</span></code></a>[‘%’]</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.weather.Compass">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.weather.</span></span><span class="sig-name descname"><span class="pre">Compass</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">azimuth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Point</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.weather.Compass" title="Link to this definition">¶</a></dt>
<dd><p>Class for converting compass points and azimuth values (360°)</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="searx.weather.Compass.Point">
<span class="sig-name descname"><span class="pre">Point</span></span><a class="headerlink" href="#searx.weather.Compass.Point" title="Link to this definition">¶</a></dt>
<dd><p>Compass point type definition</p>
<p>alias of <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Literal</span></code></a>[‘N’, ‘NNE’, ‘NE’, ‘ENE’, ‘E’, ‘ESE’, ‘SE’, ‘SSE’, ‘S’, ‘SSW’, ‘SW’, ‘WSW’, ‘W’, ‘WNW’, ‘NW’, ‘NNW’]</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.weather.Compass.TURN">
<span class="sig-name descname"><span class="pre">TURN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">360.0</span></em><a class="headerlink" href="#searx.weather.Compass.TURN" title="Link to this definition">¶</a></dt>
<dd><p>Full turn (360°)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.weather.Compass.POINTS">
<span class="sig-name descname"><span class="pre">POINTS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['N',</span> <span class="pre">'NNE',</span> <span class="pre">'NE',</span> <span class="pre">'ENE',</span> <span class="pre">'E',</span> <span class="pre">'ESE',</span> <span class="pre">'SE',</span> <span class="pre">'SSE',</span> <span class="pre">'S',</span> <span class="pre">'SSW',</span> <span class="pre">'SW',</span> <span class="pre">'WSW',</span> <span class="pre">'W',</span> <span class="pre">'WNW',</span> <span class="pre">'NW',</span> <span class="pre">'NNW']</span></em><a class="headerlink" href="#searx.weather.Compass.POINTS" title="Link to this definition">¶</a></dt>
<dd><p>Compass points.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="searx.weather.Compass.RANGE">
<span class="sig-name descname"><span class="pre">RANGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">22.5</span></em><a class="headerlink" href="#searx.weather.Compass.RANGE" title="Link to this definition">¶</a></dt>
<dd><p>Angle sector of a compass point</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="searx.weather.Compass.point">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">azimuth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Point</span></span></span><a class="headerlink" href="#searx.weather.Compass.point" title="Link to this definition">¶</a></dt>
<dd><p>Returns the compass point to an azimuth value.</p>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="searx.weather.WeatherConditionType">
<span class="sig-prename descclassname"><span class="pre">searx.weather.</span></span><span class="sig-name descname"><span class="pre">WeatherConditionType</span></span><a class="headerlink" href="#searx.weather.WeatherConditionType" title="Link to this definition">¶</a></dt>
<dd><p>Standardized designations for weather conditions.  The designators were
taken from a collaboration between NRK and Norwegian Meteorological Institute
(<a class="reference external" href="https://www.yr.no/en">yr.no</a>).  <a class="reference external" href="https://github.com/nrkno/yr-weather-symbols">Weather symbols</a> can be assigned to the identifiers
(<a class="reference external" href="https://github.com/metno/weathericons">weathericons</a>) and they are included in the translation (i18n/l10n
<a class="extlink-origin reference external" href="https://github.com/burhanuddin-1/s/blob/main/searx/searxng.msg">git://searx/searxng.msg</a>).</p>
<p>alias of <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Literal</span></code></a>[‘clear sky’, ‘partly cloudy’, ‘cloudy’, ‘fair’, ‘fog’, ‘light rain and thunder’, ‘light rain showers and thunder’, ‘light rain showers’, ‘light rain’, ‘rain and thunder’, ‘rain showers and thunder’, ‘rain showers’, ‘rain’, ‘heavy rain and thunder’, ‘heavy rain showers and thunder’, ‘heavy rain showers’, ‘heavy rain’, ‘light sleet and thunder’, ‘light sleet showers and thunder’, ‘light sleet showers’, ‘light sleet’, ‘sleet and thunder’, ‘sleet showers and thunder’, ‘sleet showers’, ‘sleet’, ‘heavy sleet and thunder’, ‘heavy sleet showers and thunder’, ‘heavy sleet showers’, ‘heavy sleet’, ‘light snow and thunder’, ‘light snow showers and thunder’, ‘light snow showers’, ‘light snow’, ‘snow and thunder’, ‘snow showers and thunder’, ‘snow showers’, ‘snow’, ‘heavy snow and thunder’, ‘heavy snow showers and thunder’, ‘heavy snow showers’, ‘heavy snow’]</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.weather.DateTime">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.weather.</span></span><span class="sig-name descname"><span class="pre">DateTime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><span class="pre">datetime</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.weather.DateTime" title="Link to this definition">¶</a></dt>
<dd><p>Class to represent date &amp; time.  Essentially, it is a wrapper that
conveniently combines <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> and
<a class="reference external" href="https://babel.readthedocs.io/en/latest/api/dates.html#babel.dates.format_datetime" title="(in Babel v2.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">babel.dates.format_datetime</span></code></a>.  A conversion of time zones is not
provided (in the current version).</p>
<dl class="py method">
<dt class="sig sig-object py" id="searx.weather.DateTime.l10n">
<span class="sig-name descname"><span class="pre">l10n</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fmt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'full'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'long'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'medium'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'short'</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'medium'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://babel.readthedocs.io/en/latest/api/core.html#babel.core.Locale" title="(in Babel v2.2)"><span class="pre">Locale</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#searx.weather.GeoLocation" title="searx.weather.GeoLocation"><span class="pre">GeoLocation</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#searx.weather.DateTime.l10n" title="Link to this definition">¶</a></dt>
<dd><p>Localized representation of date &amp; time.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="searx.weather.GeoLocation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">searx.weather.</span></span><span class="sig-name descname"><span class="pre">GeoLocation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">latitude</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">longitude</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">elevation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">country_code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">timezone</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#searx.weather.GeoLocation" title="Link to this definition">¶</a></dt>
<dd><p>Minimal implementation of Geocoding.</p>
<dl class="py method">
<dt class="sig sig-object py" id="searx.weather.GeoLocation.by_query">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">by_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_term</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#searx.weather.GeoLocation" title="searx.weather.GeoLocation"><span class="pre">GeoLocation</span></a></span></span><a class="headerlink" href="#searx.weather.GeoLocation.by_query" title="Link to this definition">¶</a></dt>
<dd><p>Factory method to get a GeoLocation object by a search term.  If no
location can be determined for the search term, a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ValueError</span></code></a>
is thrown.</p>
</dd></dl>

</dd></dl>

</section>
</div>
</section>
</div>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
  <span id="sidebar-top"></span>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  
    
            <p class="logo"><a href="#">
              <img class="logo" src="_static/searxng-wordmark.svg" alt="Logo of Infinity Search"/>
            </a></p>
  

  <h3>Project Links</h3>
  <ul>
    <li><a href="https://github.com/burhanuddin-1/s/tree/main">Source</a>
  
    <li><a href="https://github.com/searxng/searxng/wiki">Wiki</a>
  
    <li><a href="https://searx.space">Public instances</a>
  
    <li><a href="https://github.com/searxng/searxng/issues">Issue Tracker</a>
  </ul>
  <h3>Contents</h3>
  <ul>
<li class="toctree-l1"><a class="reference internal" href="#document-user/index">User information</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#document-user/configured_engines">Configured Engines</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#document-own-instance">Why use a private instance?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#how-does-infinity-search-protect-privacy">How does Infinity Search protect privacy?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#conclusion">Conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#document-admin/index">Administrator documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#document-admin/settings/index">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-admin/installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-admin/installation-docker">Installation container</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-admin/installation-scripts">Installation Script</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-admin/installation-searxng">Step by step installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-admin/installation-granian">Granian</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-admin/installation-uwsgi">uWSGI</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-admin/installation-nginx">NGINX</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-admin/installation-apache">Apache</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-admin/update-searxng">SearXNG maintenance</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-admin/answer-captcha">Answer CAPTCHA from server’s IP</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-admin/searx.favicons">Favicons</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-admin/searx.limiter">Limiter</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-admin/api">Administration API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-admin/architecture">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-admin/plugins">List of plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-admin/buildhosts">Buildhosts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#document-dev/index">Developer documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#document-dev/quickstart">Development Quickstart</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-dev/commits">Git Commits &amp; Change Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-dev/rtm_asdf">Runtime Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-dev/contribution_guide">How to contribute</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-dev/extended_types">Extended Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-dev/engines/index">Engine Implementations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-dev/result_types/index">Result Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-dev/templates">Simple Theme Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-dev/search_api">Search API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-dev/plugins/index">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-dev/answerers/index">Answerers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-dev/translation">Translation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-dev/makefile">Makefile &amp; <code class="docutils literal notranslate"><span class="pre">./manage</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-dev/reST">reST primer</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-dev/searxng_extra/index">Tooling box <code class="docutils literal notranslate"><span class="pre">searxng_extra</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#document-utils/index">DevOps tooling box</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#document-utils/searxng.sh"><code class="docutils literal notranslate"><span class="pre">utils/searxng.sh</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#common-command-environments">Common command environments</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#document-src/index">Source-Code</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#document-src/searx.babel_extract">Custom message extractor (i18n)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-src/searx.botdetection">Bot Detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-src/searx.cache">Caches</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-src/searx.exceptions">Infinity Search Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-src/searx.favicons">Favicons (source)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-src/searx.infopage">Online <code class="docutils literal notranslate"><span class="pre">/info</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-src/searx.locales">Locales</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-src/searx.search">Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-src/searx.search.processors">Search processors</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-src/searx.settings">Settings Loader</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-src/searx.sqlitedb">SQLite DB</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-src/searx.utils">Utility functions for the engines</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-src/searx.valkeydb">Valkey DB</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-src/searx.valkeylib">Valkey Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-src/searx.weather">Weather</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright Infinity Search team.
    </div>
  </body>
</html>